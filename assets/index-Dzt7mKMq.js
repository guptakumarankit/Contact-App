var LE=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var z4=LE((Cn,Rn)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Ec(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wf={exports:{}},La={},Tf={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function jE(){if(Dg)return Fe;Dg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,j={};function F(V,G,ue){this.props=V,this.context=G,this.refs=j,this.updater=ue||b}F.prototype.isReactComponent={},F.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=F.prototype;function K(V,G,ue){this.props=V,this.context=G,this.refs=j,this.updater=ue||b}var Q=K.prototype=new z;Q.constructor=K,$(Q,F.prototype),Q.isPureReactComponent=!0;var se=Array.isArray,W=Object.prototype.hasOwnProperty,Z={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(V,G,ue){var Te,Ee={},xe=null,Ne=null;if(G!=null)for(Te in G.ref!==void 0&&(Ne=G.ref),G.key!==void 0&&(xe=""+G.key),G)W.call(G,Te)&&!P.hasOwnProperty(Te)&&(Ee[Te]=G[Te]);var Me=arguments.length-2;if(Me===1)Ee.children=ue;else if(1<Me){for(var Qe=Array(Me),yt=0;yt<Me;yt++)Qe[yt]=arguments[yt+2];Ee.children=Qe}if(V&&V.defaultProps)for(Te in Me=V.defaultProps,Me)Ee[Te]===void 0&&(Ee[Te]=Me[Te]);return{$$typeof:n,type:V,key:xe,ref:Ne,props:Ee,_owner:Z.current}}function A(V,G){return{$$typeof:n,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function k(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return G[ue]})}var O=/\/+/g;function C(V,G){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):G.toString(36)}function Ve(V,G,ue,Te,Ee){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var Ne=!1;if(V===null)Ne=!0;else switch(xe){case"string":case"number":Ne=!0;break;case"object":switch(V.$$typeof){case n:case e:Ne=!0}}if(Ne)return Ne=V,Ee=Ee(Ne),V=Te===""?"."+C(Ne,0):Te,se(Ee)?(ue="",V!=null&&(ue=V.replace(O,"$&/")+"/"),Ve(Ee,G,ue,"",function(yt){return yt})):Ee!=null&&(x(Ee)&&(Ee=A(Ee,ue+(!Ee.key||Ne&&Ne.key===Ee.key?"":(""+Ee.key).replace(O,"$&/")+"/")+V)),G.push(Ee)),1;if(Ne=0,Te=Te===""?".":Te+":",se(V))for(var Me=0;Me<V.length;Me++){xe=V[Me];var Qe=Te+C(xe,Me);Ne+=Ve(xe,G,ue,Qe,Ee)}else if(Qe=I(V),typeof Qe=="function")for(V=Qe.call(V),Me=0;!(xe=V.next()).done;)xe=xe.value,Qe=Te+C(xe,Me++),Ne+=Ve(xe,G,ue,Qe,Ee);else if(xe==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ne}function tt(V,G,ue){if(V==null)return V;var Te=[],Ee=0;return Ve(V,Te,"","",function(xe){return G.call(ue,xe,Ee++)}),Te}function ft(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var Oe={current:null},ne={transition:null},me={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Z};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:tt,forEach:function(V,G,ue){tt(V,function(){G.apply(this,arguments)},ue)},count:function(V){var G=0;return tt(V,function(){G++}),G},toArray:function(V){return tt(V,function(G){return G})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Fe.Component=F,Fe.Fragment=t,Fe.Profiler=o,Fe.PureComponent=K,Fe.StrictMode=s,Fe.Suspense=m,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Fe.act=ae,Fe.cloneElement=function(V,G,ue){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Te=$({},V.props),Ee=V.key,xe=V.ref,Ne=V._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,Ne=Z.current),G.key!==void 0&&(Ee=""+G.key),V.type&&V.type.defaultProps)var Me=V.type.defaultProps;for(Qe in G)W.call(G,Qe)&&!P.hasOwnProperty(Qe)&&(Te[Qe]=G[Qe]===void 0&&Me!==void 0?Me[Qe]:G[Qe])}var Qe=arguments.length-2;if(Qe===1)Te.children=ue;else if(1<Qe){Me=Array(Qe);for(var yt=0;yt<Qe;yt++)Me[yt]=arguments[yt+2];Te.children=Me}return{$$typeof:n,type:V.type,key:Ee,ref:xe,props:Te,_owner:Ne}},Fe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Fe.createElement=S,Fe.createFactory=function(V){var G=S.bind(null,V);return G.type=V,G},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(V){return{$$typeof:f,render:V}},Fe.isValidElement=x,Fe.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ft}},Fe.memo=function(V,G){return{$$typeof:v,type:V,compare:G===void 0?null:G}},Fe.startTransition=function(V){var G=ne.transition;ne.transition={};try{V()}finally{ne.transition=G}},Fe.unstable_act=ae,Fe.useCallback=function(V,G){return Oe.current.useCallback(V,G)},Fe.useContext=function(V){return Oe.current.useContext(V)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(V){return Oe.current.useDeferredValue(V)},Fe.useEffect=function(V,G){return Oe.current.useEffect(V,G)},Fe.useId=function(){return Oe.current.useId()},Fe.useImperativeHandle=function(V,G,ue){return Oe.current.useImperativeHandle(V,G,ue)},Fe.useInsertionEffect=function(V,G){return Oe.current.useInsertionEffect(V,G)},Fe.useLayoutEffect=function(V,G){return Oe.current.useLayoutEffect(V,G)},Fe.useMemo=function(V,G){return Oe.current.useMemo(V,G)},Fe.useReducer=function(V,G,ue){return Oe.current.useReducer(V,G,ue)},Fe.useRef=function(V){return Oe.current.useRef(V)},Fe.useState=function(V){return Oe.current.useState(V)},Fe.useSyncExternalStore=function(V,G,ue){return Oe.current.useSyncExternalStore(V,G,ue)},Fe.useTransition=function(){return Oe.current.useTransition()},Fe.version="18.3.1",Fe}var bg;function kd(){return bg||(bg=1,Tf.exports=jE()),Tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function $E(){if(Ng)return La;Ng=1;var n=kd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,m,v){var E,T={},I=null,b=null;v!==void 0&&(I=""+v),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(b=m.ref);for(E in m)s.call(m,E)&&!l.hasOwnProperty(E)&&(T[E]=m[E]);if(f&&f.defaultProps)for(E in m=f.defaultProps,m)T[E]===void 0&&(T[E]=m[E]);return{$$typeof:e,type:f,key:I,ref:b,props:T,_owner:o.current}}return La.Fragment=t,La.jsx=c,La.jsxs=c,La}var Og;function UE(){return Og||(Og=1,wf.exports=$E()),wf.exports}var we=UE(),ie=kd();const qe=Ec(ie);var Ou={},Sf={exports:{}},cn={},If={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function zE(){return Vg||(Vg=1,function(n){function e(ne,me){var ae=ne.length;ne.push(me);e:for(;0<ae;){var V=ae-1>>>1,G=ne[V];if(0<o(G,me))ne[V]=me,ne[ae]=G,ae=V;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var me=ne[0],ae=ne.pop();if(ae!==me){ne[0]=ae;e:for(var V=0,G=ne.length,ue=G>>>1;V<ue;){var Te=2*(V+1)-1,Ee=ne[Te],xe=Te+1,Ne=ne[xe];if(0>o(Ee,ae))xe<G&&0>o(Ne,Ee)?(ne[V]=Ne,ne[xe]=ae,V=xe):(ne[V]=Ee,ne[Te]=ae,V=Te);else if(xe<G&&0>o(Ne,ae))ne[V]=Ne,ne[xe]=ae,V=xe;else break e}}return me}function o(ne,me){var ae=ne.sortIndex-me.sortIndex;return ae!==0?ae:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],v=[],E=1,T=null,I=3,b=!1,$=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ne){for(var me=t(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=ne)s(v),me.sortIndex=me.expirationTime,e(m,me);else break;me=t(v)}}function se(ne){if(j=!1,Q(ne),!$)if(t(m)!==null)$=!0,ft(W);else{var me=t(v);me!==null&&Oe(se,me.startTime-ne)}}function W(ne,me){$=!1,j&&(j=!1,z(S),S=-1),b=!0;var ae=I;try{for(Q(me),T=t(m);T!==null&&(!(T.expirationTime>me)||ne&&!k());){var V=T.callback;if(typeof V=="function"){T.callback=null,I=T.priorityLevel;var G=V(T.expirationTime<=me);me=n.unstable_now(),typeof G=="function"?T.callback=G:T===t(m)&&s(m),Q(me)}else s(m);T=t(m)}if(T!==null)var ue=!0;else{var Te=t(v);Te!==null&&Oe(se,Te.startTime-me),ue=!1}return ue}finally{T=null,I=ae,b=!1}}var Z=!1,P=null,S=-1,A=5,x=-1;function k(){return!(n.unstable_now()-x<A)}function O(){if(P!==null){var ne=n.unstable_now();x=ne;var me=!0;try{me=P(!0,ne)}finally{me?C():(Z=!1,P=null)}}else Z=!1}var C;if(typeof K=="function")C=function(){K(O)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,tt=Ve.port2;Ve.port1.onmessage=O,C=function(){tt.postMessage(null)}}else C=function(){F(O,0)};function ft(ne){P=ne,Z||(Z=!0,C())}function Oe(ne,me){S=F(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){$||b||($=!0,ft(W))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var me=3;break;default:me=I}var ae=I;I=me;try{return ne()}finally{I=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=I;I=ne;try{return me()}finally{I=ae}},n.unstable_scheduleCallback=function(ne,me,ae){var V=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?V+ae:V):ae=V,ne){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,ne={id:E++,callback:me,priorityLevel:ne,startTime:ae,expirationTime:G,sortIndex:-1},ae>V?(ne.sortIndex=ae,e(v,ne),t(m)===null&&ne===t(v)&&(j?(z(S),S=-1):j=!0,Oe(se,ae-V))):(ne.sortIndex=G,e(m,ne),$||b||($=!0,ft(W))),ne},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(ne){var me=I;return function(){var ae=I;I=me;try{return ne.apply(this,arguments)}finally{I=ae}}}}(Af)),Af}var Fg;function BE(){return Fg||(Fg=1,If.exports=zE()),If.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function qE(){if(Mg)return cn;Mg=1;var n=kd(),e=BE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function I(r){return m.call(T,r)?!0:m.call(E,r)?!1:v.test(r)?T[r]=!0:(E[r]=!0,!1)}function b(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function $(r,i,a,h){if(i===null||typeof i>"u"||b(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(r,i,a,h,d,g,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=_}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];F[i]=new j(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(z,K);F[i]=new j(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(z,K);F[i]=new j(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(z,K);F[i]=new j(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,i,a,h){var d=F.hasOwnProperty(i)?F[i]:null;(d!==null?d.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&($(i,a,d,h)&&(a=null),h||d===null?I(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),Z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,V;function G(r){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+r}var ue=!1;function Te(r,i){if(!r||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var h=B}Reflect.construct(r,[],i)}else{try{i.call()}catch(B){h=B}r.call(i.prototype)}else{try{throw Error()}catch(B){h=B}r()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),g=h.stack.split(`
`),_=d.length-1,R=g.length-1;1<=_&&0<=R&&d[_]!==g[R];)R--;for(;1<=_&&0<=R;_--,R--)if(d[_]!==g[R]){if(_!==1||R!==1)do if(_--,R--,0>R||d[_]!==g[R]){var D=`
`+d[_].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=_&&0<=R);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?G(r):""}function Ee(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Te(r.type,!1),r;case 11:return r=Te(r.type.render,!1),r;case 1:return r=Te(r.type,!0),r;default:return""}}function xe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case Z:return"Portal";case A:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case Ve:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case k:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case O:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case tt:return i=r.displayName||null,i!==null?i:xe(r.type)||"Memo";case ft:i=r._payload,r=r._init;try{return xe(r(i))}catch{}}return null}function Ne(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yt(r){var i=Qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){h=""+_,g.call(this,_)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function gn(r){r._valueTracker||(r._valueTracker=yt(r))}function Zr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=Qe(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function zn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function xr(r,i){var a=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ei(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Hi(r,i){i=i.checked,i!=null&&Q(r,"checked",i,!1)}function Gi(r,i){Hi(r,i);var a=Me(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ur(r,i.type,a):i.hasOwnProperty("defaultValue")&&ur(r,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Us(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ur(r,i,a){(i!=="number"||zn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Bn=Array.isArray;function qn(r,i,a,h){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function q(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function le(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(Bn(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Me(a)}}function de(r,i){var a=Me(i.value),h=Me(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function _e(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ve(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ve(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Je,Yt=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Je.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function xn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dr=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(r){Dr.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Hn[i]=Hn[r]})});function zs(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Hn.hasOwnProperty(r)&&Hn[r]?(""+i).trim():i+"px"}function ti(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=zs(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Wi=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(r,i){if(i){if(Wi[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Zo(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=null;function Bs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qs=null,Dn=null,cr=null;function Hs(r){if(r=Sa(r)){if(typeof qs!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Ql(i),qs(r.stateNode,r.type,i))}}function hr(r){Dn?cr?cr.push(r):cr=[r]:Dn=r}function ea(){if(Dn){var r=Dn,i=cr;if(cr=Dn=null,Hs(r),i)for(r=0;r<i.length;r++)Hs(i[r])}}function Qi(r,i){return r(i)}function ta(){}var br=!1;function na(r,i,a){if(br)return r(i,a);br=!0;try{return Qi(r,i,a)}finally{br=!1,(Dn!==null||cr!==null)&&(ta(),ea())}}function vt(r,i){var a=r.stateNode;if(a===null)return null;var h=Ql(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Gs=!1;if(f)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Gs=!1}function Yi(r,i,a,h,d,g,_,R,D){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(J){this.onError(J)}}var Xi=!1,Ws=null,Wn=!1,ra=null,Kc={onError:function(r){Xi=!0,Ws=r}};function Ks(r,i,a,h,d,g,_,R,D){Xi=!1,Ws=null,Yi.apply(Kc,arguments)}function El(r,i,a,h,d,g,_,R,D){if(Ks.apply(this,arguments),Xi){if(Xi){var B=Ws;Xi=!1,Ws=null}else throw Error(t(198));Wn||(Wn=!0,ra=B)}}function Kn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Ji(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Qn(r){if(Kn(r)!==r)throw Error(t(188))}function wl(r){var i=r.alternate;if(!i){if(i=Kn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Qn(d),r;if(g===h)return Qn(d),i;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=g;else{for(var _=!1,R=d.child;R;){if(R===a){_=!0,a=d,h=g;break}if(R===h){_=!0,h=d,a=g;break}R=R.sibling}if(!_){for(R=g.child;R;){if(R===a){_=!0,a=g,h=d;break}if(R===h){_=!0,h=g,a=d;break}R=R.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function ia(r){return r=wl(r),r!==null?Qs(r):null}function Qs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Qs(r);if(i!==null)return i;r=r.sibling}return null}var Ys=e.unstable_scheduleCallback,sa=e.unstable_cancelCallback,Tl=e.unstable_shouldYield,Qc=e.unstable_requestPaint,nt=e.unstable_now,Sl=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,bn=e.unstable_NormalPriority,oa=e.unstable_LowPriority,Il=e.unstable_IdlePriority,es=null,yn=null;function Al(r){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(es,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Rl,aa=Math.log,Cl=Math.LN2;function Rl(r){return r>>>=0,r===0?32:31-(aa(r)/Cl|0)|0}var Xs=64,Js=4194304;function ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ts(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var R=_&~d;R!==0?h=ri(R):(g&=_,g!==0&&(h=ri(g)))}else _=a&~d,_!==0?h=ri(_):g!==0&&(h=ri(g));if(h===0)return 0;if(i!==0&&i!==h&&!(i&d)&&(d=h&-h,g=i&-i,d>=g||d===16&&(g&4194240)!==0))return i;if(h&4&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-Xt(i),d=1<<a,h|=r[a],i&=~d;return h}function Yc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-Xt(g),R=1<<_,D=d[_];D===-1?(!(R&a)||R&h)&&(d[_]=Yc(R,i)):D<=i&&(r.expiredLanes|=R),g&=~R}}function vn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ns(){var r=Xs;return Xs<<=1,!(Xs&4194240)&&(Xs=64),r}function ii(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function si(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Xt(i),r[i]=a}function et(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Xt(a),g=1<<d;i[d]=0,h[d]=-1,r[d]=-1,a&=~g}}function oi(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-Xt(a),d=1<<h;d&i|r[h]&i&&(r[h]|=i),a&=~d}}var je=0;function ai(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Pl,Zs,kl,xl,Dl,la=!1,fr=[],Vt=null,Yn=null,Xn=null,li=new Map,Nn=new Map,dr=[],Xc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bl(r,i){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":li.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(i.pointerId)}}function nn(r,i,a,h,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},i!==null&&(i=Sa(i),i!==null&&Zs(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function Jc(r,i,a,h,d){switch(i){case"focusin":return Vt=nn(Vt,r,i,a,h,d),!0;case"dragenter":return Yn=nn(Yn,r,i,a,h,d),!0;case"mouseover":return Xn=nn(Xn,r,i,a,h,d),!0;case"pointerover":var g=d.pointerId;return li.set(g,nn(li.get(g)||null,r,i,a,h,d)),!0;case"gotpointercapture":return g=d.pointerId,Nn.set(g,nn(Nn.get(g)||null,r,i,a,h,d)),!0}return!1}function Nl(r){var i=as(r.target);if(i!==null){var a=Kn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ji(a),i!==null){r.blockedOn=i,Dl(r.priority,function(){kl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Or(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=eo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Ki=h,a.target.dispatchEvent(h),Ki=null}else return i=Sa(a),i!==null&&Zs(i),r.blockedOn=a,!1;i.shift()}return!0}function rs(r,i,a){Or(r)&&a.delete(i)}function Ol(){la=!1,Vt!==null&&Or(Vt)&&(Vt=null),Yn!==null&&Or(Yn)&&(Yn=null),Xn!==null&&Or(Xn)&&(Xn=null),li.forEach(rs),Nn.forEach(rs)}function Jn(r,i){r.blockedOn===i&&(r.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ol)))}function Zn(r){function i(d){return Jn(d,r)}if(0<fr.length){Jn(fr[0],r);for(var a=1;a<fr.length;a++){var h=fr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Vt!==null&&Jn(Vt,r),Yn!==null&&Jn(Yn,r),Xn!==null&&Jn(Xn,r),li.forEach(i),Nn.forEach(i),a=0;a<dr.length;a++)h=dr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)Nl(a),a.blockedOn===null&&dr.shift()}var Vr=se.ReactCurrentBatchConfig,ui=!0;function lt(r,i,a,h){var d=je,g=Vr.transition;Vr.transition=null;try{je=1,ua(r,i,a,h)}finally{je=d,Vr.transition=g}}function Zc(r,i,a,h){var d=je,g=Vr.transition;Vr.transition=null;try{je=4,ua(r,i,a,h)}finally{je=d,Vr.transition=g}}function ua(r,i,a,h){if(ui){var d=eo(r,i,a,h);if(d===null)ch(r,i,h,is,a),bl(r,h);else if(Jc(d,r,i,a,h))h.stopPropagation();else if(bl(r,h),i&4&&-1<Xc.indexOf(r)){for(;d!==null;){var g=Sa(d);if(g!==null&&Pl(g),g=eo(r,i,a,h),g===null&&ch(r,i,h,is,a),g===d)break;d=g}d!==null&&h.stopPropagation()}else ch(r,i,h,null,a)}}var is=null;function eo(r,i,a,h){if(is=null,r=Bs(h),r=as(r),r!==null)if(i=Kn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Ji(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return is=r,null}function ca(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sl()){case Zi:return 1;case ni:return 4;case bn:case oa:return 16;case Il:return 536870912;default:return 16}default:return 16}}var _n=null,to=null,rn=null;function ha(){if(rn)return rn;var r,i=to,a=i.length,h,d="value"in _n?_n.value:_n.textContent,g=d.length;for(r=0;r<a&&i[r]===d[r];r++);var _=a-r;for(h=1;h<=_&&i[a-h]===d[g-h];h++);return rn=d.slice(r,1<h?1-h:void 0)}function no(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function fa(){return!1}function Ft(r){function i(a,h,d,g,_){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pr:fa,this.isPropagationStopped=fa,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Ft(er),mr=ae({},er,{view:0,detail:0}),eh=Ft(mr),io,Fr,ci,ss=ae({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(io=r.screenX-ci.screenX,Fr=r.screenY-ci.screenY):Fr=io=0,ci=r),io)},movementY:function(r){return"movementY"in r?r.movementY:Fr}}),so=Ft(ss),da=ae({},ss,{dataTransfer:0}),Vl=Ft(da),oo=ae({},mr,{relatedTarget:0}),ao=Ft(oo),Fl=ae({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Ft(Fl),Ml=ae({},er,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ll=Ft(Ml),jl=ae({},er,{data:0}),pa=Ft(jl),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=$l[r])?!!i[r]:!1}function gr(){return Ul}var u=ae({},mr,{key:function(r){if(r.key){var i=lo[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=no(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(r){return r.type==="keypress"?no(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?no(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p=Ft(u),y=ae({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Ft(y),M=ae({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),H=Ft(M),oe=ae({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Ft(oe),It=ae({},ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ft(It),xt=[9,13,27,32],wt=f&&"CompositionEvent"in window,On=null;f&&"documentMode"in document&&(On=document.documentMode);var En=f&&"TextEvent"in window&&!On,os=f&&(!wt||On&&8<On&&11>=On),uo=" ",Ap=!1;function Cp(r,i){switch(r){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function V1(r,i){switch(r){case"compositionend":return Rp(i);case"keypress":return i.which!==32?null:(Ap=!0,uo);case"textInput":return r=i.data,r===uo&&Ap?null:r;default:return null}}function F1(r,i){if(co)return r==="compositionend"||!wt&&Cp(r,i)?(r=ha(),rn=to=_n=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return os&&i.locale!=="ko"?null:i.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!M1[r.type]:i==="textarea"}function kp(r,i,a,h){hr(h),i=Gl(i,"onChange"),0<i.length&&(a=new ro("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var ma=null,ga=null;function L1(r){Wp(r,0)}function zl(r){var i=go(r);if(Zr(i))return r}function j1(r,i){if(r==="change")return i}var xp=!1;if(f){var th;if(f){var nh="oninput"in document;if(!nh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),nh=typeof Dp.oninput=="function"}th=nh}else th=!1;xp=th&&(!document.documentMode||9<document.documentMode)}function bp(){ma&&(ma.detachEvent("onpropertychange",Np),ga=ma=null)}function Np(r){if(r.propertyName==="value"&&zl(ga)){var i=[];kp(i,ga,r,Bs(r)),na(L1,i)}}function $1(r,i,a){r==="focusin"?(bp(),ma=i,ga=a,ma.attachEvent("onpropertychange",Np)):r==="focusout"&&bp()}function U1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zl(ga)}function z1(r,i){if(r==="click")return zl(i)}function B1(r,i){if(r==="input"||r==="change")return zl(i)}function q1(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var tr=typeof Object.is=="function"?Object.is:q1;function ya(r,i){if(tr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!m.call(i,d)||!tr(r[d],i[d]))return!1}return!0}function Op(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vp(r,i){var a=Op(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Op(a)}}function Fp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Fp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Mp(){for(var r=window,i=zn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=zn(r.document)}return i}function rh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function H1(r){var i=Mp(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Fp(a.ownerDocument.documentElement,a)){if(h!==null&&rh(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!r.extend&&g>h&&(d=h,h=g,g=d),d=Vp(a,g);var _=Vp(a,h);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),g>h?(r.addRange(i),r.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var G1=f&&"documentMode"in document&&11>=document.documentMode,ho=null,ih=null,va=null,sh=!1;function Lp(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sh||ho==null||ho!==zn(h)||(h=ho,"selectionStart"in h&&rh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),va&&ya(va,h)||(va=h,h=Gl(ih,"onSelect"),0<h.length&&(i=new ro("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=ho)))}function Bl(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var fo={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},oh={},jp={};f&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ql(r){if(oh[r])return oh[r];if(!fo[r])return r;var i=fo[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in jp)return oh[r]=i[a];return r}var $p=ql("animationend"),Up=ql("animationiteration"),zp=ql("animationstart"),Bp=ql("transitionend"),qp=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,i){qp.set(r,i),l(i,[r])}for(var ah=0;ah<Hp.length;ah++){var lh=Hp[ah],W1=lh.toLowerCase(),K1=lh[0].toUpperCase()+lh.slice(1);hi(W1,"on"+K1)}hi($p,"onAnimationEnd"),hi(Up,"onAnimationIteration"),hi(zp,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Bp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Gp(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,El(h,i,void 0,r),r.currentTarget=null}function Wp(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var _=h.length-1;0<=_;_--){var R=h[_],D=R.instance,B=R.currentTarget;if(R=R.listener,D!==g&&d.isPropagationStopped())break e;Gp(d,R,B),g=D}else for(_=0;_<h.length;_++){if(R=h[_],D=R.instance,B=R.currentTarget,R=R.listener,D!==g&&d.isPropagationStopped())break e;Gp(d,R,B),g=D}}}if(Wn)throw r=ra,Wn=!1,ra=null,r}function st(r,i){var a=i[gh];a===void 0&&(a=i[gh]=new Set);var h=r+"__bubble";a.has(h)||(Kp(i,r,2,!1),a.add(h))}function uh(r,i,a){var h=0;i&&(h|=4),Kp(a,r,h,i)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Ea(r){if(!r[Hl]){r[Hl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Q1.has(a)||uh(a,!1,r),uh(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Hl]||(i[Hl]=!0,uh("selectionchange",!1,i))}}function Kp(r,i,a,h){switch(ca(i)){case 1:var d=lt;break;case 4:d=Zc;break;default:d=ua}a=d.bind(null,i,a,r),d=void 0,!Gs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function ch(r,i,a,h,d){var g=h;if(!(i&1)&&!(i&2)&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var R=h.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(_===4)for(_=h.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;_=_.return}for(;R!==null;){if(_=as(R),_===null)return;if(D=_.tag,D===5||D===6){h=g=_;continue e}R=R.parentNode}}h=h.return}na(function(){var B=g,J=Bs(a),te=[];e:{var X=qp.get(r);if(X!==void 0){var ce=ro,pe=r;switch(r){case"keypress":if(no(a)===0)break e;case"keydown":case"keyup":ce=p;break;case"focusin":pe="focus",ce=ao;break;case"focusout":pe="blur",ce=ao;break;case"beforeblur":case"afterblur":ce=ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=H;break;case $p:case Up:case zp:ce=Mr;break;case Bp:ce=Ye;break;case"scroll":ce=eh;break;case"wheel":ce=Ue;break;case"copy":case"cut":case"paste":ce=Ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=w}var ge=(i&4)!==0,_t=!ge&&r==="scroll",L=ge?X!==null?X+"Capture":null:X;ge=[];for(var N=B,U;N!==null;){U=N;var re=U.stateNode;if(U.tag===5&&re!==null&&(U=re,L!==null&&(re=vt(N,L),re!=null&&ge.push(wa(N,re,U)))),_t)break;N=N.return}0<ge.length&&(X=new ce(X,pe,null,a,J),te.push({event:X,listeners:ge}))}}if(!(i&7)){e:{if(X=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",X&&a!==Ki&&(pe=a.relatedTarget||a.fromElement)&&(as(pe)||pe[Lr]))break e;if((ce||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,ce?(pe=a.relatedTarget||a.toElement,ce=B,pe=pe?as(pe):null,pe!==null&&(_t=Kn(pe),pe!==_t||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=B),ce!==pe)){if(ge=so,re="onMouseLeave",L="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(ge=w,re="onPointerLeave",L="onPointerEnter",N="pointer"),_t=ce==null?X:go(ce),U=pe==null?X:go(pe),X=new ge(re,N+"leave",ce,a,J),X.target=_t,X.relatedTarget=U,re=null,as(J)===B&&(ge=new ge(L,N+"enter",pe,a,J),ge.target=U,ge.relatedTarget=_t,re=ge),_t=re,ce&&pe)t:{for(ge=ce,L=pe,N=0,U=ge;U;U=po(U))N++;for(U=0,re=L;re;re=po(re))U++;for(;0<N-U;)ge=po(ge),N--;for(;0<U-N;)L=po(L),U--;for(;N--;){if(ge===L||L!==null&&ge===L.alternate)break t;ge=po(ge),L=po(L)}ge=null}else ge=null;ce!==null&&Qp(te,X,ce,ge,!1),pe!==null&&_t!==null&&Qp(te,_t,pe,ge,!0)}}e:{if(X=B?go(B):window,ce=X.nodeName&&X.nodeName.toLowerCase(),ce==="select"||ce==="input"&&X.type==="file")var ye=j1;else if(Pp(X))if(xp)ye=B1;else{ye=U1;var Ie=$1}else(ce=X.nodeName)&&ce.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ye=z1);if(ye&&(ye=ye(r,B))){kp(te,ye,a,J);break e}Ie&&Ie(r,X,B),r==="focusout"&&(Ie=X._wrapperState)&&Ie.controlled&&X.type==="number"&&ur(X,"number",X.value)}switch(Ie=B?go(B):window,r){case"focusin":(Pp(Ie)||Ie.contentEditable==="true")&&(ho=Ie,ih=B,va=null);break;case"focusout":va=ih=ho=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Lp(te,a,J);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":Lp(te,a,J)}var Ae;if(wt)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else co?Cp(r,a)&&(Pe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(os&&a.locale!=="ko"&&(co||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&co&&(Ae=ha()):(_n=J,to="value"in _n?_n.value:_n.textContent,co=!0)),Ie=Gl(B,Pe),0<Ie.length&&(Pe=new pa(Pe,r,null,a,J),te.push({event:Pe,listeners:Ie}),Ae?Pe.data=Ae:(Ae=Rp(a),Ae!==null&&(Pe.data=Ae)))),(Ae=En?V1(r,a):F1(r,a))&&(B=Gl(B,"onBeforeInput"),0<B.length&&(J=new pa("onBeforeInput","beforeinput",null,a,J),te.push({event:J,listeners:B}),J.data=Ae))}Wp(te,i)})}function wa(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Gl(r,i){for(var a=i+"Capture",h=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=vt(r,a),g!=null&&h.unshift(wa(r,g,d)),g=vt(r,i),g!=null&&h.push(wa(r,g,d))),r=r.return}return h}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Qp(r,i,a,h,d){for(var g=i._reactName,_=[];a!==null&&a!==h;){var R=a,D=R.alternate,B=R.stateNode;if(D!==null&&D===h)break;R.tag===5&&B!==null&&(R=B,d?(D=vt(a,g),D!=null&&_.unshift(wa(a,D,R))):d||(D=vt(a,g),D!=null&&_.push(wa(a,D,R)))),a=a.return}_.length!==0&&r.push({event:i,listeners:_})}var Y1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function Yp(r){return(typeof r=="string"?r:""+r).replace(Y1,`
`).replace(X1,"")}function Wl(r,i,a){if(i=Yp(i),Yp(r)!==i&&a)throw Error(t(425))}function Kl(){}var hh=null,fh=null;function dh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(r){return Xp.resolve(null).then(r).catch(eE)}:ph;function eE(r){setTimeout(function(){throw r})}function mh(r,i){var a=i,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Zn(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Zn(i)}function fi(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Jp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var mo=Math.random().toString(36).slice(2),yr="__reactFiber$"+mo,Ta="__reactProps$"+mo,Lr="__reactContainer$"+mo,gh="__reactEvents$"+mo,tE="__reactListeners$"+mo,nE="__reactHandles$"+mo;function as(r){var i=r[yr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Lr]||a[yr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Jp(r);r!==null;){if(a=r[yr])return a;r=Jp(r)}return i}r=a,a=r.parentNode}return null}function Sa(r){return r=r[yr]||r[Lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ql(r){return r[Ta]||null}var yh=[],yo=-1;function di(r){return{current:r}}function ot(r){0>yo||(r.current=yh[yo],yh[yo]=null,yo--)}function rt(r,i){yo++,yh[yo]=r.current,r.current=i}var pi={},Bt=di(pi),sn=di(!1),ls=pi;function vo(r,i){var a=r.type.contextTypes;if(!a)return pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=i[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function on(r){return r=r.childContextTypes,r!=null}function Yl(){ot(sn),ot(Bt)}function Zp(r,i,a){if(Bt.current!==pi)throw Error(t(168));rt(Bt,i),rt(sn,a)}function em(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in i))throw Error(t(108,Ne(r)||"Unknown",d));return ae({},a,h)}function Xl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,ls=Bt.current,rt(Bt,r),rt(sn,sn.current),!0}function tm(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=em(r,i,ls),h.__reactInternalMemoizedMergedChildContext=r,ot(sn),ot(Bt),rt(Bt,r)):ot(sn),rt(sn,a)}var jr=null,Jl=!1,vh=!1;function nm(r){jr===null?jr=[r]:jr.push(r)}function rE(r){Jl=!0,nm(r)}function mi(){if(!vh&&jr!==null){vh=!0;var r=0,i=je;try{var a=jr;for(je=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}jr=null,Jl=!1}catch(d){throw jr!==null&&(jr=jr.slice(r+1)),Ys(Zi,mi),d}finally{je=i,vh=!1}}return null}var _o=[],Eo=0,Zl=null,eu=0,Vn=[],Fn=0,us=null,$r=1,Ur="";function cs(r,i){_o[Eo++]=eu,_o[Eo++]=Zl,Zl=r,eu=i}function rm(r,i,a){Vn[Fn++]=$r,Vn[Fn++]=Ur,Vn[Fn++]=us,us=r;var h=$r;r=Ur;var d=32-Xt(h)-1;h&=~(1<<d),a+=1;var g=32-Xt(i)+d;if(30<g){var _=d-d%5;g=(h&(1<<_)-1).toString(32),h>>=_,d-=_,$r=1<<32-Xt(i)+d|a<<d|h,Ur=g+r}else $r=1<<g|a<<d|h,Ur=r}function _h(r){r.return!==null&&(cs(r,1),rm(r,1,0))}function Eh(r){for(;r===Zl;)Zl=_o[--Eo],_o[Eo]=null,eu=_o[--Eo],_o[Eo]=null;for(;r===us;)us=Vn[--Fn],Vn[Fn]=null,Ur=Vn[--Fn],Vn[Fn]=null,$r=Vn[--Fn],Vn[Fn]=null}var wn=null,Tn=null,ut=!1,nr=null;function im(r,i){var a=$n(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function sm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,wn=r,Tn=fi(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,wn=r,Tn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=us!==null?{id:$r,overflow:Ur}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=$n(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,wn=r,Tn=null,!0):!1;default:return!1}}function wh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Th(r){if(ut){var i=Tn;if(i){var a=i;if(!sm(r,i)){if(wh(r))throw Error(t(418));i=fi(a.nextSibling);var h=wn;i&&sm(r,i)?im(h,a):(r.flags=r.flags&-4097|2,ut=!1,wn=r)}}else{if(wh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ut=!1,wn=r}}}function om(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;wn=r}function tu(r){if(r!==wn)return!1;if(!ut)return om(r),ut=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!dh(r.type,r.memoizedProps)),i&&(i=Tn)){if(wh(r))throw am(),Error(t(418));for(;i;)im(r,i),i=fi(i.nextSibling)}if(om(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){Tn=fi(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}Tn=null}}else Tn=wn?fi(r.stateNode.nextSibling):null;return!0}function am(){for(var r=Tn;r;)r=fi(r.nextSibling)}function wo(){Tn=wn=null,ut=!1}function Sh(r){nr===null?nr=[r]:nr.push(r)}var iE=se.ReactCurrentBatchConfig;function Ia(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(_){var R=d.refs;_===null?delete R[g]:R[g]=_},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function nu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function lm(r){var i=r._init;return i(r._payload)}function um(r){function i(L,N){if(r){var U=L.deletions;U===null?(L.deletions=[N],L.flags|=16):U.push(N)}}function a(L,N){if(!r)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function h(L,N){for(L=new Map;N!==null;)N.key!==null?L.set(N.key,N):L.set(N.index,N),N=N.sibling;return L}function d(L,N){return L=Si(L,N),L.index=0,L.sibling=null,L}function g(L,N,U){return L.index=U,r?(U=L.alternate,U!==null?(U=U.index,U<N?(L.flags|=2,N):U):(L.flags|=2,N)):(L.flags|=1048576,N)}function _(L){return r&&L.alternate===null&&(L.flags|=2),L}function R(L,N,U,re){return N===null||N.tag!==6?(N=mf(U,L.mode,re),N.return=L,N):(N=d(N,U),N.return=L,N)}function D(L,N,U,re){var ye=U.type;return ye===P?J(L,N,U.props.children,re,U.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ft&&lm(ye)===N.type)?(re=d(N,U.props),re.ref=Ia(L,N,U),re.return=L,re):(re=Cu(U.type,U.key,U.props,null,L.mode,re),re.ref=Ia(L,N,U),re.return=L,re)}function B(L,N,U,re){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=gf(U,L.mode,re),N.return=L,N):(N=d(N,U.children||[]),N.return=L,N)}function J(L,N,U,re,ye){return N===null||N.tag!==7?(N=vs(U,L.mode,re,ye),N.return=L,N):(N=d(N,U),N.return=L,N)}function te(L,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=mf(""+N,L.mode,U),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case W:return U=Cu(N.type,N.key,N.props,null,L.mode,U),U.ref=Ia(L,null,N),U.return=L,U;case Z:return N=gf(N,L.mode,U),N.return=L,N;case ft:var re=N._init;return te(L,re(N._payload),U)}if(Bn(N)||me(N))return N=vs(N,L.mode,U,null),N.return=L,N;nu(L,N)}return null}function X(L,N,U,re){var ye=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ye!==null?null:R(L,N,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case W:return U.key===ye?D(L,N,U,re):null;case Z:return U.key===ye?B(L,N,U,re):null;case ft:return ye=U._init,X(L,N,ye(U._payload),re)}if(Bn(U)||me(U))return ye!==null?null:J(L,N,U,re,null);nu(L,U)}return null}function ce(L,N,U,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return L=L.get(U)||null,R(N,L,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case W:return L=L.get(re.key===null?U:re.key)||null,D(N,L,re,ye);case Z:return L=L.get(re.key===null?U:re.key)||null,B(N,L,re,ye);case ft:var Ie=re._init;return ce(L,N,U,Ie(re._payload),ye)}if(Bn(re)||me(re))return L=L.get(U)||null,J(N,L,re,ye,null);nu(N,re)}return null}function pe(L,N,U,re){for(var ye=null,Ie=null,Ae=N,Pe=N=0,Nt=null;Ae!==null&&Pe<U.length;Pe++){Ae.index>Pe?(Nt=Ae,Ae=null):Nt=Ae.sibling;var Ge=X(L,Ae,U[Pe],re);if(Ge===null){Ae===null&&(Ae=Nt);break}r&&Ae&&Ge.alternate===null&&i(L,Ae),N=g(Ge,N,Pe),Ie===null?ye=Ge:Ie.sibling=Ge,Ie=Ge,Ae=Nt}if(Pe===U.length)return a(L,Ae),ut&&cs(L,Pe),ye;if(Ae===null){for(;Pe<U.length;Pe++)Ae=te(L,U[Pe],re),Ae!==null&&(N=g(Ae,N,Pe),Ie===null?ye=Ae:Ie.sibling=Ae,Ie=Ae);return ut&&cs(L,Pe),ye}for(Ae=h(L,Ae);Pe<U.length;Pe++)Nt=ce(Ae,L,Pe,U[Pe],re),Nt!==null&&(r&&Nt.alternate!==null&&Ae.delete(Nt.key===null?Pe:Nt.key),N=g(Nt,N,Pe),Ie===null?ye=Nt:Ie.sibling=Nt,Ie=Nt);return r&&Ae.forEach(function(Ii){return i(L,Ii)}),ut&&cs(L,Pe),ye}function ge(L,N,U,re){var ye=me(U);if(typeof ye!="function")throw Error(t(150));if(U=ye.call(U),U==null)throw Error(t(151));for(var Ie=ye=null,Ae=N,Pe=N=0,Nt=null,Ge=U.next();Ae!==null&&!Ge.done;Pe++,Ge=U.next()){Ae.index>Pe?(Nt=Ae,Ae=null):Nt=Ae.sibling;var Ii=X(L,Ae,Ge.value,re);if(Ii===null){Ae===null&&(Ae=Nt);break}r&&Ae&&Ii.alternate===null&&i(L,Ae),N=g(Ii,N,Pe),Ie===null?ye=Ii:Ie.sibling=Ii,Ie=Ii,Ae=Nt}if(Ge.done)return a(L,Ae),ut&&cs(L,Pe),ye;if(Ae===null){for(;!Ge.done;Pe++,Ge=U.next())Ge=te(L,Ge.value,re),Ge!==null&&(N=g(Ge,N,Pe),Ie===null?ye=Ge:Ie.sibling=Ge,Ie=Ge);return ut&&cs(L,Pe),ye}for(Ae=h(L,Ae);!Ge.done;Pe++,Ge=U.next())Ge=ce(Ae,L,Pe,Ge.value,re),Ge!==null&&(r&&Ge.alternate!==null&&Ae.delete(Ge.key===null?Pe:Ge.key),N=g(Ge,N,Pe),Ie===null?ye=Ge:Ie.sibling=Ge,Ie=Ge);return r&&Ae.forEach(function(ME){return i(L,ME)}),ut&&cs(L,Pe),ye}function _t(L,N,U,re){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case W:e:{for(var ye=U.key,Ie=N;Ie!==null;){if(Ie.key===ye){if(ye=U.type,ye===P){if(Ie.tag===7){a(L,Ie.sibling),N=d(Ie,U.props.children),N.return=L,L=N;break e}}else if(Ie.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ft&&lm(ye)===Ie.type){a(L,Ie.sibling),N=d(Ie,U.props),N.ref=Ia(L,Ie,U),N.return=L,L=N;break e}a(L,Ie);break}else i(L,Ie);Ie=Ie.sibling}U.type===P?(N=vs(U.props.children,L.mode,re,U.key),N.return=L,L=N):(re=Cu(U.type,U.key,U.props,null,L.mode,re),re.ref=Ia(L,N,U),re.return=L,L=re)}return _(L);case Z:e:{for(Ie=U.key;N!==null;){if(N.key===Ie)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(L,N.sibling),N=d(N,U.children||[]),N.return=L,L=N;break e}else{a(L,N);break}else i(L,N);N=N.sibling}N=gf(U,L.mode,re),N.return=L,L=N}return _(L);case ft:return Ie=U._init,_t(L,N,Ie(U._payload),re)}if(Bn(U))return pe(L,N,U,re);if(me(U))return ge(L,N,U,re);nu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(L,N.sibling),N=d(N,U),N.return=L,L=N):(a(L,N),N=mf(U,L.mode,re),N.return=L,L=N),_(L)):a(L,N)}return _t}var To=um(!0),cm=um(!1),ru=di(null),iu=null,So=null,Ih=null;function Ah(){Ih=So=iu=null}function Ch(r){var i=ru.current;ot(ru),r._currentValue=i}function Rh(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function Io(r,i){iu=r,Ih=So=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(an=!0),r.firstContext=null)}function Mn(r){var i=r._currentValue;if(Ih!==r)if(r={context:r,memoizedValue:i,next:null},So===null){if(iu===null)throw Error(t(308));So=r,iu.dependencies={lanes:0,firstContext:r}}else So=So.next=r;return i}var hs=null;function Ph(r){hs===null?hs=[r]:hs.push(r)}function hm(r,i,a,h){var d=i.interleaved;return d===null?(a.next=a,Ph(i)):(a.next=d.next,d.next=a),i.interleaved=a,zr(r,h)}function zr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var gi=!1;function kh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Br(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function yi(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,He&2){var d=h.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),h.pending=i,zr(r,a)}return d=h.interleaved,d===null?(i.next=i,Ph(h)):(i.next=d.next,d.next=i),h.interleaved=i,zr(r,a)}function su(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,oi(r,a)}}function dm(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function ou(r,i,a,h){var d=r.updateQueue;gi=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var D=R,B=D.next;D.next=null,_===null?g=B:_.next=B,_=D;var J=r.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==_&&(R===null?J.firstBaseUpdate=B:R.next=B,J.lastBaseUpdate=D))}if(g!==null){var te=d.baseState;_=0,J=B=D=null,R=g;do{var X=R.lane,ce=R.eventTime;if((h&X)===X){J!==null&&(J=J.next={eventTime:ce,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var pe=r,ge=R;switch(X=i,ce=a,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){te=pe.call(ce,te,X);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,X=typeof pe=="function"?pe.call(ce,te,X):pe,X==null)break e;te=ae({},te,X);break e;case 2:gi=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[R]:X.push(R))}else ce={eventTime:ce,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(B=J=ce,D=te):J=J.next=ce,_|=X;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;X=R,R=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(D=te),d.baseState=D,d.firstBaseUpdate=B,d.lastBaseUpdate=J,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else g===null&&(d.shared.lanes=0);ps|=_,r.lanes=_,r.memoizedState=te}}function pm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Aa={},vr=di(Aa),Ca=di(Aa),Ra=di(Aa);function fs(r){if(r===Aa)throw Error(t(174));return r}function xh(r,i){switch(rt(Ra,i),rt(Ca,r),rt(vr,Aa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Re(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Re(i,r)}ot(vr),rt(vr,i)}function Ao(){ot(vr),ot(Ca),ot(Ra)}function mm(r){fs(Ra.current);var i=fs(vr.current),a=Re(i,r.type);i!==a&&(rt(Ca,r),rt(vr,a))}function Dh(r){Ca.current===r&&(ot(vr),ot(Ca))}var dt=di(0);function au(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bh=[];function Nh(){for(var r=0;r<bh.length;r++)bh[r]._workInProgressVersionPrimary=null;bh.length=0}var lu=se.ReactCurrentDispatcher,Oh=se.ReactCurrentBatchConfig,ds=0,pt=null,At=null,Dt=null,uu=!1,Pa=!1,ka=0,sE=0;function qt(){throw Error(t(321))}function Vh(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!tr(r[a],i[a]))return!1;return!0}function Fh(r,i,a,h,d,g){if(ds=g,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,lu.current=r===null||r.memoizedState===null?uE:cE,r=a(h,d),Pa){g=0;do{if(Pa=!1,ka=0,25<=g)throw Error(t(301));g+=1,Dt=At=null,i.updateQueue=null,lu.current=hE,r=a(h,d)}while(Pa)}if(lu.current=fu,i=At!==null&&At.next!==null,ds=0,Dt=At=pt=null,uu=!1,i)throw Error(t(300));return r}function Mh(){var r=ka!==0;return ka=0,r}function _r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?pt.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function Ln(){if(At===null){var r=pt.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var i=Dt===null?pt.memoizedState:Dt.next;if(i!==null)Dt=i,At=r;else{if(r===null)throw Error(t(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Dt===null?pt.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function xa(r,i){return typeof i=="function"?i(r):i}function Lh(r){var i=Ln(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=At,d=h.baseQueue,g=a.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}h.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,h=h.baseState;var R=_=null,D=null,B=g;do{var J=B.lane;if((ds&J)===J)D!==null&&(D=D.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:r(h,B.action);else{var te={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};D===null?(R=D=te,_=h):D=D.next=te,pt.lanes|=J,ps|=J}B=B.next}while(B!==null&&B!==g);D===null?_=h:D.next=R,tr(h,i.memoizedState)||(an=!0),i.memoizedState=h,i.baseState=_,i.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do g=d.lane,pt.lanes|=g,ps|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function jh(r){var i=Ln(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do g=r(g,_.action),_=_.next;while(_!==d);tr(g,i.memoizedState)||(an=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,h]}function gm(){}function ym(r,i){var a=pt,h=Ln(),d=i(),g=!tr(h.memoizedState,d);if(g&&(h.memoizedState=d,an=!0),h=h.queue,$h(Em.bind(null,a,h,r),[r]),h.getSnapshot!==i||g||Dt!==null&&Dt.memoizedState.tag&1){if(a.flags|=2048,Da(9,_m.bind(null,a,h,d,i),void 0,null),bt===null)throw Error(t(349));ds&30||vm(a,i,d)}return d}function vm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function _m(r,i,a,h){i.value=a,i.getSnapshot=h,wm(i)&&Tm(r)}function Em(r,i,a){return a(function(){wm(i)&&Tm(r)})}function wm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!tr(r,a)}catch{return!0}}function Tm(r){var i=zr(r,1);i!==null&&or(i,r,1,-1)}function Sm(r){var i=_r();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:r},i.queue=r,r=r.dispatch=lE.bind(null,pt,r),[i.memoizedState,r]}function Da(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function Im(){return Ln().memoizedState}function cu(r,i,a,h){var d=_r();pt.flags|=r,d.memoizedState=Da(1|i,a,void 0,h===void 0?null:h)}function hu(r,i,a,h){var d=Ln();h=h===void 0?null:h;var g=void 0;if(At!==null){var _=At.memoizedState;if(g=_.destroy,h!==null&&Vh(h,_.deps)){d.memoizedState=Da(i,a,g,h);return}}pt.flags|=r,d.memoizedState=Da(1|i,a,g,h)}function Am(r,i){return cu(8390656,8,r,i)}function $h(r,i){return hu(2048,8,r,i)}function Cm(r,i){return hu(4,2,r,i)}function Rm(r,i){return hu(4,4,r,i)}function Pm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function km(r,i,a){return a=a!=null?a.concat([r]):null,hu(4,4,Pm.bind(null,i,r),a)}function Uh(){}function xm(r,i){var a=Ln();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Vh(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function Dm(r,i){var a=Ln();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Vh(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function bm(r,i,a){return ds&21?(tr(a,i)||(a=ns(),pt.lanes|=a,ps|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a)}function oE(r,i){var a=je;je=a!==0&&4>a?a:4,r(!0);var h=Oh.transition;Oh.transition={};try{r(!1),i()}finally{je=a,Oh.transition=h}}function Nm(){return Ln().memoizedState}function aE(r,i,a){var h=wi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Om(r))Vm(i,a);else if(a=hm(r,i,a,h),a!==null){var d=en();or(a,r,h,d),Fm(a,i,h)}}function lE(r,i,a){var h=wi(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Om(r))Vm(i,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var _=i.lastRenderedState,R=g(_,a);if(d.hasEagerState=!0,d.eagerState=R,tr(R,_)){var D=i.interleaved;D===null?(d.next=d,Ph(i)):(d.next=D.next,D.next=d),i.interleaved=d;return}}catch{}finally{}a=hm(r,i,d,h),a!==null&&(d=en(),or(a,r,h,d),Fm(a,i,h))}}function Om(r){var i=r.alternate;return r===pt||i!==null&&i===pt}function Vm(r,i){Pa=uu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Fm(r,i,a){if(a&4194240){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,oi(r,a)}}var fu={readContext:Mn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},uE={readContext:Mn,useCallback:function(r,i){return _r().memoizedState=[r,i===void 0?null:i],r},useContext:Mn,useEffect:Am,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,cu(4194308,4,Pm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return cu(4194308,4,r,i)},useInsertionEffect:function(r,i){return cu(4,2,r,i)},useMemo:function(r,i){var a=_r();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=_r();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=aE.bind(null,pt,r),[h.memoizedState,r]},useRef:function(r){var i=_r();return r={current:r},i.memoizedState=r},useState:Sm,useDebugValue:Uh,useDeferredValue:function(r){return _r().memoizedState=r},useTransition:function(){var r=Sm(!1),i=r[0];return r=oE.bind(null,r[1]),_r().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=pt,d=_r();if(ut){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),bt===null)throw Error(t(349));ds&30||vm(h,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Am(Em.bind(null,h,g,r),[r]),h.flags|=2048,Da(9,_m.bind(null,h,g,a,i),void 0,null),a},useId:function(){var r=_r(),i=bt.identifierPrefix;if(ut){var a=Ur,h=$r;a=(h&~(1<<32-Xt(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=ka++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=sE++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},cE={readContext:Mn,useCallback:xm,useContext:Mn,useEffect:$h,useImperativeHandle:km,useInsertionEffect:Cm,useLayoutEffect:Rm,useMemo:Dm,useReducer:Lh,useRef:Im,useState:function(){return Lh(xa)},useDebugValue:Uh,useDeferredValue:function(r){var i=Ln();return bm(i,At.memoizedState,r)},useTransition:function(){var r=Lh(xa)[0],i=Ln().memoizedState;return[r,i]},useMutableSource:gm,useSyncExternalStore:ym,useId:Nm,unstable_isNewReconciler:!1},hE={readContext:Mn,useCallback:xm,useContext:Mn,useEffect:$h,useImperativeHandle:km,useInsertionEffect:Cm,useLayoutEffect:Rm,useMemo:Dm,useReducer:jh,useRef:Im,useState:function(){return jh(xa)},useDebugValue:Uh,useDeferredValue:function(r){var i=Ln();return At===null?i.memoizedState=r:bm(i,At.memoizedState,r)},useTransition:function(){var r=jh(xa)[0],i=Ln().memoizedState;return[r,i]},useMutableSource:gm,useSyncExternalStore:ym,useId:Nm,unstable_isNewReconciler:!1};function rr(r,i){if(r&&r.defaultProps){i=ae({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function zh(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:ae({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var du={isMounted:function(r){return(r=r._reactInternals)?Kn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=en(),d=wi(r),g=Br(h,d);g.payload=i,a!=null&&(g.callback=a),i=yi(r,g,d),i!==null&&(or(i,r,d,h),su(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=en(),d=wi(r),g=Br(h,d);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=yi(r,g,d),i!==null&&(or(i,r,d,h),su(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=en(),h=wi(r),d=Br(a,h);d.tag=2,i!=null&&(d.callback=i),i=yi(r,d,h),i!==null&&(or(i,r,h,a),su(i,r,h))}};function Mm(r,i,a,h,d,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,_):i.prototype&&i.prototype.isPureReactComponent?!ya(a,h)||!ya(d,g):!0}function Lm(r,i,a){var h=!1,d=pi,g=i.contextType;return typeof g=="object"&&g!==null?g=Mn(g):(d=on(i)?ls:Bt.current,h=i.contextTypes,g=(h=h!=null)?vo(r,d):pi),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=du,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),i}function jm(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&du.enqueueReplaceState(i,i.state,null)}function Bh(r,i,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},kh(r);var g=i.contextType;typeof g=="object"&&g!==null?d.context=Mn(g):(g=on(i)?ls:Bt.current,d.context=vo(r,g)),d.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(zh(r,i,g,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&du.enqueueReplaceState(d,d.state,null),ou(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Co(r,i){try{var a="",h=i;do a+=Ee(h),h=h.return;while(h);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:d,digest:null}}function qh(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Hh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var fE=typeof WeakMap=="function"?WeakMap:Map;function $m(r,i,a){a=Br(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){Eu||(Eu=!0,af=h),Hh(r,i)},a}function Um(r,i,a){a=Br(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=i.value;a.payload=function(){return h(d)},a.callback=function(){Hh(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Hh(r,i),typeof h!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function zm(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new fE;var d=new Set;h.set(i,d)}else d=h.get(i),d===void 0&&(d=new Set,h.set(i,d));d.has(a)||(d.add(a),r=CE.bind(null,r,i,a),i.then(r,r))}function Bm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function qm(r,i,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Br(-1,1),i.tag=2,yi(a,i,1))),a.lanes|=1),r)}var dE=se.ReactCurrentOwner,an=!1;function Zt(r,i,a,h){i.child=r===null?cm(i,null,a,h):To(i,r.child,a,h)}function Hm(r,i,a,h,d){a=a.render;var g=i.ref;return Io(i,d),h=Fh(r,i,a,h,g,d),a=Mh(),r!==null&&!an?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,qr(r,i,d)):(ut&&a&&_h(i),i.flags|=1,Zt(r,i,h,d),i.child)}function Gm(r,i,a,h,d){if(r===null){var g=a.type;return typeof g=="function"&&!pf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,Wm(r,i,g,h,d)):(r=Cu(a.type,null,h,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!(r.lanes&d)){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(_,h)&&r.ref===i.ref)return qr(r,i,d)}return i.flags|=1,r=Si(g,h),r.ref=i.ref,r.return=i,i.child=r}function Wm(r,i,a,h,d){if(r!==null){var g=r.memoizedProps;if(ya(g,h)&&r.ref===i.ref)if(an=!1,i.pendingProps=h=g,(r.lanes&d)!==0)r.flags&131072&&(an=!0);else return i.lanes=r.lanes,qr(r,i,d)}return Gh(r,i,a,h,d)}function Km(r,i,a){var h=i.pendingProps,d=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Po,Sn),Sn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,rt(Po,Sn),Sn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,rt(Po,Sn),Sn|=h}else g!==null?(h=g.baseLanes|a,i.memoizedState=null):h=a,rt(Po,Sn),Sn|=h;return Zt(r,i,d,a),i.child}function Qm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Gh(r,i,a,h,d){var g=on(a)?ls:Bt.current;return g=vo(i,g),Io(i,d),a=Fh(r,i,a,h,g,d),h=Mh(),r!==null&&!an?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,qr(r,i,d)):(ut&&h&&_h(i),i.flags|=1,Zt(r,i,a,d),i.child)}function Ym(r,i,a,h,d){if(on(a)){var g=!0;Xl(i)}else g=!1;if(Io(i,d),i.stateNode===null)mu(r,i),Lm(i,a,h),Bh(i,a,h,d),h=!0;else if(r===null){var _=i.stateNode,R=i.memoizedProps;_.props=R;var D=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=Mn(B):(B=on(a)?ls:Bt.current,B=vo(i,B));var J=a.getDerivedStateFromProps,te=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==h||D!==B)&&jm(i,_,h,B),gi=!1;var X=i.memoizedState;_.state=X,ou(i,h,_,d),D=i.memoizedState,R!==h||X!==D||sn.current||gi?(typeof J=="function"&&(zh(i,a,J,h),D=i.memoizedState),(R=gi||Mm(i,a,R,h,X,D,B))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=D),_.props=h,_.state=D,_.context=B,h=R):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{_=i.stateNode,fm(r,i),R=i.memoizedProps,B=i.type===i.elementType?R:rr(i.type,R),_.props=B,te=i.pendingProps,X=_.context,D=a.contextType,typeof D=="object"&&D!==null?D=Mn(D):(D=on(a)?ls:Bt.current,D=vo(i,D));var ce=a.getDerivedStateFromProps;(J=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==te||X!==D)&&jm(i,_,h,D),gi=!1,X=i.memoizedState,_.state=X,ou(i,h,_,d);var pe=i.memoizedState;R!==te||X!==pe||sn.current||gi?(typeof ce=="function"&&(zh(i,a,ce,h),pe=i.memoizedState),(B=gi||Mm(i,a,B,h,X,pe,D)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,pe,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,pe,D)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=pe),_.props=h,_.state=pe,_.context=D,h=B):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),h=!1)}return Wh(r,i,a,h,g,d)}function Wh(r,i,a,h,d,g){Qm(r,i);var _=(i.flags&128)!==0;if(!h&&!_)return d&&tm(i,a,!1),qr(r,i,g);h=i.stateNode,dE.current=i;var R=_&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&_?(i.child=To(i,r.child,null,g),i.child=To(i,null,R,g)):Zt(r,i,R,g),i.memoizedState=h.state,d&&tm(i,a,!0),i.child}function Xm(r){var i=r.stateNode;i.pendingContext?Zp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Zp(r,i.context,!1),xh(r,i.containerInfo)}function Jm(r,i,a,h,d){return wo(),Sh(d),i.flags|=256,Zt(r,i,a,h),i.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Qh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Zm(r,i,a){var h=i.pendingProps,d=dt.current,g=!1,_=(i.flags&128)!==0,R;if((R=_)||(R=r!==null&&r.memoizedState===null?!1:(d&2)!==0),R?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),rt(dt,d&1),r===null)return Th(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=h.children,r=h.fallback,g?(h=i.mode,g=i.child,_={mode:"hidden",children:_},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Ru(_,h,0,null),r=vs(r,h,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Qh(a),i.memoizedState=Kh,r):Yh(i,_));if(d=r.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return pE(r,i,_,h,R,d,a);if(g){g=h.fallback,_=i.mode,d=r.child,R=d.sibling;var D={mode:"hidden",children:h.children};return!(_&1)&&i.child!==d?(h=i.child,h.childLanes=0,h.pendingProps=D,i.deletions=null):(h=Si(d,D),h.subtreeFlags=d.subtreeFlags&14680064),R!==null?g=Si(R,g):(g=vs(g,_,a,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,_=r.child.memoizedState,_=_===null?Qh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,i.memoizedState=Kh,h}return g=r.child,r=g.sibling,h=Si(g,{mode:"visible",children:h.children}),!(i.mode&1)&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function Yh(r,i){return i=Ru({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function pu(r,i,a,h){return h!==null&&Sh(h),To(i,r.child,null,a),r=Yh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function pE(r,i,a,h,d,g,_){if(a)return i.flags&256?(i.flags&=-257,h=qh(Error(t(422))),pu(r,i,_,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=h.fallback,d=i.mode,h=Ru({mode:"visible",children:h.children},d,0,null),g=vs(g,d,_,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,i.mode&1&&To(i,r.child,null,_),i.child.memoizedState=Qh(_),i.memoizedState=Kh,g);if(!(i.mode&1))return pu(r,i,_,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=qh(g,h,void 0),pu(r,i,_,h)}if(R=(_&r.childLanes)!==0,an||R){if(h=bt,h!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,zr(r,d),or(h,r,d,-1))}return df(),h=qh(Error(t(421))),pu(r,i,_,h)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=RE.bind(null,r),d._reactRetry=i,null):(r=g.treeContext,Tn=fi(d.nextSibling),wn=i,ut=!0,nr=null,r!==null&&(Vn[Fn++]=$r,Vn[Fn++]=Ur,Vn[Fn++]=us,$r=r.id,Ur=r.overflow,us=i),i=Yh(i,h.children),i.flags|=4096,i)}function eg(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Rh(r.return,i,a)}function Xh(r,i,a,h,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=d)}function tg(r,i,a){var h=i.pendingProps,d=h.revealOrder,g=h.tail;if(Zt(r,i,h.children,a),h=dt.current,h&2)h=h&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&eg(r,a,i);else if(r.tag===19)eg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(rt(dt,h),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&au(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Xh(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&au(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Xh(i,!0,a,null,g);break;case"together":Xh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mu(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function qr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),ps|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Si(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Si(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function mE(r,i,a){switch(i.tag){case 3:Xm(i),wo();break;case 5:mm(i);break;case 1:on(i.type)&&Xl(i);break;case 4:xh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,d=i.memoizedProps.value;rt(ru,h._currentValue),h._currentValue=d;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(rt(dt,dt.current&1),i.flags|=128,null):a&i.child.childLanes?Zm(r,i,a):(rt(dt,dt.current&1),r=qr(r,i,a),r!==null?r.sibling:null);rt(dt,dt.current&1);break;case 19:if(h=(a&i.childLanes)!==0,r.flags&128){if(h)return tg(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),rt(dt,dt.current),h)break;return null;case 22:case 23:return i.lanes=0,Km(r,i,a)}return qr(r,i,a)}var ng,Jh,rg,ig;ng=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Jh=function(){},rg=function(r,i,a,h){var d=r.memoizedProps;if(d!==h){r=i.stateNode,fs(vr.current);var g=null;switch(a){case"input":d=xr(r,d),h=xr(r,h),g=[];break;case"select":d=ae({},d,{value:void 0}),h=ae({},h,{value:void 0}),g=[];break;case"textarea":d=q(r,d),h=q(r,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Kl)}Jo(a,h);var _;a=null;for(B in d)if(!h.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var R=d[B];for(_ in R)R.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in h){var D=h[B];if(R=d!=null?d[B]:void 0,h.hasOwnProperty(B)&&D!==R&&(D!=null||R!=null))if(B==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in D)D.hasOwnProperty(_)&&R[_]!==D[_]&&(a||(a={}),a[_]=D[_])}else a||(g||(g=[]),g.push(B,a)),a=D;else B==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(B,D)):B==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(B,""+D):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(D!=null&&B==="onScroll"&&st("scroll",r),g||R===D||(g=[])):(g=g||[]).push(B,D))}a&&(g=g||[]).push("style",a);var B=g;(i.updateQueue=B)&&(i.flags|=4)}},ig=function(r,i,a,h){a!==h&&(i.flags|=4)};function ba(r,i){if(!ut)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ht(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function gE(r,i,a){var h=i.pendingProps;switch(Eh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(i),null;case 1:return on(i.type)&&Yl(),Ht(i),null;case 3:return h=i.stateNode,Ao(),ot(sn),ot(Bt),Nh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(tu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,nr!==null&&(cf(nr),nr=null))),Jh(r,i),Ht(i),null;case 5:Dh(i);var d=fs(Ra.current);if(a=i.type,r!==null&&i.stateNode!=null)rg(r,i,a,h,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ht(i),null}if(r=fs(vr.current),tu(i)){h=i.stateNode,a=i.type;var g=i.memoizedProps;switch(h[yr]=i,h[Ta]=g,r=(i.mode&1)!==0,a){case"dialog":st("cancel",h),st("close",h);break;case"iframe":case"object":case"embed":st("load",h);break;case"video":case"audio":for(d=0;d<_a.length;d++)st(_a[d],h);break;case"source":st("error",h);break;case"img":case"image":case"link":st("error",h),st("load",h);break;case"details":st("toggle",h);break;case"input":ei(h,g),st("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},st("invalid",h);break;case"textarea":le(h,g),st("invalid",h)}Jo(a,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var R=g[_];_==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&Wl(h.textContent,R,r),d=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Wl(h.textContent,R,r),d=["children",""+R]):o.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&st("scroll",h)}switch(a){case"input":gn(h),Us(h,g,!0);break;case"textarea":gn(h),_e(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Kl)}h=d,i.updateQueue=h,h!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ve(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=_.createElement(a,{is:h.is}):(r=_.createElement(a),a==="select"&&(_=r,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):r=_.createElementNS(r,a),r[yr]=i,r[Ta]=h,ng(r,i,!1,!1),i.stateNode=r;e:{switch(_=Zo(a,h),a){case"dialog":st("cancel",r),st("close",r),d=h;break;case"iframe":case"object":case"embed":st("load",r),d=h;break;case"video":case"audio":for(d=0;d<_a.length;d++)st(_a[d],r);d=h;break;case"source":st("error",r),d=h;break;case"img":case"image":case"link":st("error",r),st("load",r),d=h;break;case"details":st("toggle",r),d=h;break;case"input":ei(r,h),d=xr(r,h),st("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ae({},h,{value:void 0}),st("invalid",r);break;case"textarea":le(r,h),d=q(r,h),st("invalid",r);break;default:d=h}Jo(a,d),R=d;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?ti(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Yt(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&xn(r,D):typeof D=="number"&&xn(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&st("scroll",r):D!=null&&Q(r,g,D,_))}switch(a){case"input":gn(r),Us(r,h,!1);break;case"textarea":gn(r),_e(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Me(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?qn(r,!!h.multiple,g,!1):h.defaultValue!=null&&qn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Kl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ht(i),null;case 6:if(r&&i.stateNode!=null)ig(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=fs(Ra.current),fs(vr.current),tu(i)){if(h=i.stateNode,a=i.memoizedProps,h[yr]=i,(g=h.nodeValue!==a)&&(r=wn,r!==null))switch(r.tag){case 3:Wl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Wl(h.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[yr]=i,i.stateNode=h}return Ht(i),null;case 13:if(ot(dt),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ut&&Tn!==null&&i.mode&1&&!(i.flags&128))am(),wo(),i.flags|=98560,g=!1;else if(g=tu(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[yr]=i}else wo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Ht(i),g=!1}else nr!==null&&(cf(nr),nr=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,i.mode&1&&(r===null||dt.current&1?Ct===0&&(Ct=3):df())),i.updateQueue!==null&&(i.flags|=4),Ht(i),null);case 4:return Ao(),Jh(r,i),r===null&&Ea(i.stateNode.containerInfo),Ht(i),null;case 10:return Ch(i.type._context),Ht(i),null;case 17:return on(i.type)&&Yl(),Ht(i),null;case 19:if(ot(dt),g=i.memoizedState,g===null)return Ht(i),null;if(h=(i.flags&128)!==0,_=g.rendering,_===null)if(h)ba(g,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(_=au(r),_!==null){for(i.flags|=128,ba(g,!1),h=_.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)g=a,r=h,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return rt(dt,dt.current&1|2),i.child}r=r.sibling}g.tail!==null&&nt()>ko&&(i.flags|=128,h=!0,ba(g,!1),i.lanes=4194304)}else{if(!h)if(r=au(_),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ba(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!ut)return Ht(i),null}else 2*nt()-g.renderingStartTime>ko&&a!==1073741824&&(i.flags|=128,h=!0,ba(g,!1),i.lanes=4194304);g.isBackwards?(_.sibling=i.child,i.child=_):(a=g.last,a!==null?a.sibling=_:i.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=nt(),i.sibling=null,a=dt.current,rt(dt,h?a&1|2:a&1),i):(Ht(i),null);case 22:case 23:return ff(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&i.mode&1?Sn&1073741824&&(Ht(i),i.subtreeFlags&6&&(i.flags|=8192)):Ht(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function yE(r,i){switch(Eh(i),i.tag){case 1:return on(i.type)&&Yl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ao(),ot(sn),ot(Bt),Nh(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Dh(i),null;case 13:if(ot(dt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));wo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ot(dt),null;case 4:return Ao(),null;case 10:return Ch(i.type._context),null;case 22:case 23:return ff(),null;case 24:return null;default:return null}}var gu=!1,Gt=!1,vE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ro(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){gt(r,i,h)}else a.current=null}function Zh(r,i,a){try{a()}catch(h){gt(r,i,h)}}var sg=!1;function _E(r,i){if(hh=ui,r=Mp(),rh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,R=-1,D=-1,B=0,J=0,te=r,X=null;t:for(;;){for(var ce;te!==a||d!==0&&te.nodeType!==3||(R=_+d),te!==g||h!==0&&te.nodeType!==3||(D=_+h),te.nodeType===3&&(_+=te.nodeValue.length),(ce=te.firstChild)!==null;)X=te,te=ce;for(;;){if(te===r)break t;if(X===a&&++B===d&&(R=_),X===g&&++J===h&&(D=_),(ce=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=ce}a=R===-1||D===-1?null:{start:R,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(fh={focusedElem:r,selectionRange:a},ui=!1,fe=i;fe!==null;)if(i=fe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,fe=r;else for(;fe!==null;){i=fe;try{var pe=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,_t=pe.memoizedState,L=i.stateNode,N=L.getSnapshotBeforeUpdate(i.elementType===i.type?ge:rr(i.type,ge),_t);L.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){gt(i,i.return,re)}if(r=i.sibling,r!==null){r.return=i.return,fe=r;break}fe=i.return}return pe=sg,sg=!1,pe}function Na(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&Zh(i,a,g)}d=d.next}while(d!==h)}}function yu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function ef(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function og(r){var i=r.alternate;i!==null&&(r.alternate=null,og(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[yr],delete i[Ta],delete i[gh],delete i[tE],delete i[nE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ag(r){return r.tag===5||r.tag===3||r.tag===4}function lg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ag(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tf(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kl));else if(h!==4&&(r=r.child,r!==null))for(tf(r,i,a),r=r.sibling;r!==null;)tf(r,i,a),r=r.sibling}function nf(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(nf(r,i,a),r=r.sibling;r!==null;)nf(r,i,a),r=r.sibling}var Mt=null,ir=!1;function vi(r,i,a){for(a=a.child;a!==null;)ug(r,i,a),a=a.sibling}function ug(r,i,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(es,a)}catch{}switch(a.tag){case 5:Gt||Ro(a,i);case 6:var h=Mt,d=ir;Mt=null,vi(r,i,a),Mt=h,ir=d,Mt!==null&&(ir?(r=Mt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Mt.removeChild(a.stateNode));break;case 18:Mt!==null&&(ir?(r=Mt,a=a.stateNode,r.nodeType===8?mh(r.parentNode,a):r.nodeType===1&&mh(r,a),Zn(r)):mh(Mt,a.stateNode));break;case 4:h=Mt,d=ir,Mt=a.stateNode.containerInfo,ir=!0,vi(r,i,a),Mt=h,ir=d;break;case 0:case 11:case 14:case 15:if(!Gt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&Zh(a,i,_),d=d.next}while(d!==h)}vi(r,i,a);break;case 1:if(!Gt&&(Ro(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(R){gt(a,i,R)}vi(r,i,a);break;case 21:vi(r,i,a);break;case 22:a.mode&1?(Gt=(h=Gt)||a.memoizedState!==null,vi(r,i,a),Gt=h):vi(r,i,a);break;default:vi(r,i,a)}}function cg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new vE),i.forEach(function(h){var d=PE.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function sr(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var g=r,_=i,R=_;e:for(;R!==null;){switch(R.tag){case 5:Mt=R.stateNode,ir=!1;break e;case 3:Mt=R.stateNode.containerInfo,ir=!0;break e;case 4:Mt=R.stateNode.containerInfo,ir=!0;break e}R=R.return}if(Mt===null)throw Error(t(160));ug(g,_,d),Mt=null,ir=!1;var D=d.alternate;D!==null&&(D.return=null),d.return=null}catch(B){gt(d,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)hg(i,r),i=i.sibling}function hg(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(sr(i,r),Er(r),h&4){try{Na(3,r,r.return),yu(3,r)}catch(ge){gt(r,r.return,ge)}try{Na(5,r,r.return)}catch(ge){gt(r,r.return,ge)}}break;case 1:sr(i,r),Er(r),h&512&&a!==null&&Ro(a,a.return);break;case 5:if(sr(i,r),Er(r),h&512&&a!==null&&Ro(a,a.return),r.flags&32){var d=r.stateNode;try{xn(d,"")}catch(ge){gt(r,r.return,ge)}}if(h&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,R=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Hi(d,g),Zo(R,_);var B=Zo(R,g);for(_=0;_<D.length;_+=2){var J=D[_],te=D[_+1];J==="style"?ti(d,te):J==="dangerouslySetInnerHTML"?Yt(d,te):J==="children"?xn(d,te):Q(d,J,te,B)}switch(R){case"input":Gi(d,g);break;case"textarea":de(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?qn(d,!!g.multiple,ce,!1):X!==!!g.multiple&&(g.defaultValue!=null?qn(d,!!g.multiple,g.defaultValue,!0):qn(d,!!g.multiple,g.multiple?[]:"",!1))}d[Ta]=g}catch(ge){gt(r,r.return,ge)}}break;case 6:if(sr(i,r),Er(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(ge){gt(r,r.return,ge)}}break;case 3:if(sr(i,r),Er(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Zn(i.containerInfo)}catch(ge){gt(r,r.return,ge)}break;case 4:sr(i,r),Er(r);break;case 13:sr(i,r),Er(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(of=nt())),h&4&&cg(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(Gt=(B=Gt)||J,sr(i,r),Gt=B):sr(i,r),Er(r),h&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!J&&r.mode&1)for(fe=r,J=r.child;J!==null;){for(te=fe=J;fe!==null;){switch(X=fe,ce=X.child,X.tag){case 0:case 11:case 14:case 15:Na(4,X,X.return);break;case 1:Ro(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){h=X,a=X.return;try{i=h,pe.props=i.memoizedProps,pe.state=i.memoizedState,pe.componentWillUnmount()}catch(ge){gt(h,a,ge)}}break;case 5:Ro(X,X.return);break;case 22:if(X.memoizedState!==null){pg(te);continue}}ce!==null?(ce.return=X,fe=ce):pg(te)}J=J.sibling}e:for(J=null,te=r;;){if(te.tag===5){if(J===null){J=te;try{d=te.stateNode,B?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=te.stateNode,D=te.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=zs("display",_))}catch(ge){gt(r,r.return,ge)}}}else if(te.tag===6){if(J===null)try{te.stateNode.nodeValue=B?"":te.memoizedProps}catch(ge){gt(r,r.return,ge)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;J===te&&(J=null),te=te.return}J===te&&(J=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:sr(i,r),Er(r),h&4&&cg(r);break;case 21:break;default:sr(i,r),Er(r)}}function Er(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(ag(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(xn(d,""),h.flags&=-33);var g=lg(r);nf(r,g,d);break;case 3:case 4:var _=h.stateNode.containerInfo,R=lg(r);tf(r,R,_);break;default:throw Error(t(161))}}catch(D){gt(r,r.return,D)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function EE(r,i,a){fe=r,fg(r)}function fg(r,i,a){for(var h=(r.mode&1)!==0;fe!==null;){var d=fe,g=d.child;if(d.tag===22&&h){var _=d.memoizedState!==null||gu;if(!_){var R=d.alternate,D=R!==null&&R.memoizedState!==null||Gt;R=gu;var B=Gt;if(gu=_,(Gt=D)&&!B)for(fe=d;fe!==null;)_=fe,D=_.child,_.tag===22&&_.memoizedState!==null?mg(d):D!==null?(D.return=_,fe=D):mg(d);for(;g!==null;)fe=g,fg(g),g=g.sibling;fe=d,gu=R,Gt=B}dg(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,fe=g):dg(r)}}function dg(r){for(;fe!==null;){var i=fe;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Gt||yu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Gt)if(a===null)h.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:rr(i.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&pm(i,g,h);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}pm(i,_,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var te=J.dehydrated;te!==null&&Zn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||i.flags&512&&ef(i)}catch(X){gt(i,i.return,X)}}if(i===r){fe=null;break}if(a=i.sibling,a!==null){a.return=i.return,fe=a;break}fe=i.return}}function pg(r){for(;fe!==null;){var i=fe;if(i===r){fe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,fe=a;break}fe=i.return}}function mg(r){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{yu(4,i)}catch(D){gt(i,a,D)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var d=i.return;try{h.componentDidMount()}catch(D){gt(i,d,D)}}var g=i.return;try{ef(i)}catch(D){gt(i,g,D)}break;case 5:var _=i.return;try{ef(i)}catch(D){gt(i,_,D)}}}catch(D){gt(i,i.return,D)}if(i===r){fe=null;break}var R=i.sibling;if(R!==null){R.return=i.return,fe=R;break}fe=i.return}}var wE=Math.ceil,vu=se.ReactCurrentDispatcher,rf=se.ReactCurrentOwner,jn=se.ReactCurrentBatchConfig,He=0,bt=null,Tt=null,Lt=0,Sn=0,Po=di(0),Ct=0,Oa=null,ps=0,_u=0,sf=0,Va=null,ln=null,of=0,ko=1/0,Hr=null,Eu=!1,af=null,_i=null,wu=!1,Ei=null,Tu=0,Fa=0,lf=null,Su=-1,Iu=0;function en(){return He&6?nt():Su!==-1?Su:Su=nt()}function wi(r){return r.mode&1?He&2&&Lt!==0?Lt&-Lt:iE.transition!==null?(Iu===0&&(Iu=ns()),Iu):(r=je,r!==0||(r=window.event,r=r===void 0?16:ca(r.type)),r):1}function or(r,i,a,h){if(50<Fa)throw Fa=0,lf=null,Error(t(185));si(r,a,h),(!(He&2)||r!==bt)&&(r===bt&&(!(He&2)&&(_u|=a),Ct===4&&Ti(r,Lt)),un(r,h),a===1&&He===0&&!(i.mode&1)&&(ko=nt()+500,Jl&&mi()))}function un(r,i){var a=r.callbackNode;Nr(r,i);var h=ts(r,r===bt?Lt:0);if(h===0)a!==null&&sa(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&sa(a),i===1)r.tag===0?rE(yg.bind(null,r)):nm(yg.bind(null,r)),Z1(function(){!(He&6)&&mi()}),a=null;else{switch(ai(h)){case 1:a=Zi;break;case 4:a=ni;break;case 16:a=bn;break;case 536870912:a=Il;break;default:a=bn}a=Ag(a,gg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function gg(r,i){if(Su=-1,Iu=0,He&6)throw Error(t(327));var a=r.callbackNode;if(xo()&&r.callbackNode!==a)return null;var h=ts(r,r===bt?Lt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||i)i=Au(r,h);else{i=h;var d=He;He|=2;var g=_g();(bt!==r||Lt!==i)&&(Hr=null,ko=nt()+500,gs(r,i));do try{IE();break}catch(R){vg(r,R)}while(!0);Ah(),vu.current=g,He=d,Tt!==null?i=0:(bt=null,Lt=0,i=Ct)}if(i!==0){if(i===2&&(d=vn(r),d!==0&&(h=d,i=uf(r,d))),i===1)throw a=Oa,gs(r,0),Ti(r,h),un(r,nt()),a;if(i===6)Ti(r,h);else{if(d=r.current.alternate,!(h&30)&&!TE(d)&&(i=Au(r,h),i===2&&(g=vn(r),g!==0&&(h=g,i=uf(r,g))),i===1))throw a=Oa,gs(r,0),Ti(r,h),un(r,nt()),a;switch(r.finishedWork=d,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:ys(r,ln,Hr);break;case 3:if(Ti(r,h),(h&130023424)===h&&(i=of+500-nt(),10<i)){if(ts(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){en(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=ph(ys.bind(null,r,ln,Hr),i);break}ys(r,ln,Hr);break;case 4:if(Ti(r,h),(h&4194240)===h)break;for(i=r.eventTimes,d=-1;0<h;){var _=31-Xt(h);g=1<<_,_=i[_],_>d&&(d=_),h&=~g}if(h=d,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*wE(h/1960))-h,10<h){r.timeoutHandle=ph(ys.bind(null,r,ln,Hr),h);break}ys(r,ln,Hr);break;case 5:ys(r,ln,Hr);break;default:throw Error(t(329))}}}return un(r,nt()),r.callbackNode===a?gg.bind(null,r):null}function uf(r,i){var a=Va;return r.current.memoizedState.isDehydrated&&(gs(r,i).flags|=256),r=Au(r,i),r!==2&&(i=ln,ln=a,i!==null&&cf(i)),r}function cf(r){ln===null?ln=r:ln.push.apply(ln,r)}function TE(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],g=d.getSnapshot;d=d.value;try{if(!tr(g(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ti(r,i){for(i&=~sf,i&=~_u,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Xt(i),h=1<<a;r[a]=-1,i&=~h}}function yg(r){if(He&6)throw Error(t(327));xo();var i=ts(r,0);if(!(i&1))return un(r,nt()),null;var a=Au(r,i);if(r.tag!==0&&a===2){var h=vn(r);h!==0&&(i=h,a=uf(r,h))}if(a===1)throw a=Oa,gs(r,0),Ti(r,i),un(r,nt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ys(r,ln,Hr),un(r,nt()),null}function hf(r,i){var a=He;He|=1;try{return r(i)}finally{He=a,He===0&&(ko=nt()+500,Jl&&mi())}}function ms(r){Ei!==null&&Ei.tag===0&&!(He&6)&&xo();var i=He;He|=1;var a=jn.transition,h=je;try{if(jn.transition=null,je=1,r)return r()}finally{je=h,jn.transition=a,He=i,!(He&6)&&mi()}}function ff(){Sn=Po.current,ot(Po)}function gs(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,J1(a)),Tt!==null)for(a=Tt.return;a!==null;){var h=a;switch(Eh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Yl();break;case 3:Ao(),ot(sn),ot(Bt),Nh();break;case 5:Dh(h);break;case 4:Ao();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Ch(h.type._context);break;case 22:case 23:ff()}a=a.return}if(bt=r,Tt=r=Si(r.current,null),Lt=Sn=i,Ct=0,Oa=null,sf=_u=ps=0,ln=Va=null,hs!==null){for(i=0;i<hs.length;i++)if(a=hs[i],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,g=a.pending;if(g!==null){var _=g.next;g.next=d,h.next=_}a.pending=h}hs=null}return r}function vg(r,i){do{var a=Tt;try{if(Ah(),lu.current=fu,uu){for(var h=pt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}uu=!1}if(ds=0,Dt=At=pt=null,Pa=!1,ka=0,rf.current=null,a===null||a.return===null){Ct=1,Oa=i,Tt=null;break}e:{var g=r,_=a.return,R=a,D=i;if(i=Lt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var B=D,J=R,te=J.tag;if(!(J.mode&1)&&(te===0||te===11||te===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var ce=Bm(_);if(ce!==null){ce.flags&=-257,qm(ce,_,R,g,i),ce.mode&1&&zm(g,B,i),i=ce,D=B;var pe=i.updateQueue;if(pe===null){var ge=new Set;ge.add(D),i.updateQueue=ge}else pe.add(D);break e}else{if(!(i&1)){zm(g,B,i),df();break e}D=Error(t(426))}}else if(ut&&R.mode&1){var _t=Bm(_);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),qm(_t,_,R,g,i),Sh(Co(D,R));break e}}g=D=Co(D,R),Ct!==4&&(Ct=2),Va===null?Va=[g]:Va.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var L=$m(g,D,i);dm(g,L);break e;case 1:R=D;var N=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(_i===null||!_i.has(U)))){g.flags|=65536,i&=-i,g.lanes|=i;var re=Um(g,R,i);dm(g,re);break e}}g=g.return}while(g!==null)}wg(a)}catch(ye){i=ye,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(!0)}function _g(){var r=vu.current;return vu.current=fu,r===null?fu:r}function df(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),bt===null||!(ps&268435455)&&!(_u&268435455)||Ti(bt,Lt)}function Au(r,i){var a=He;He|=2;var h=_g();(bt!==r||Lt!==i)&&(Hr=null,gs(r,i));do try{SE();break}catch(d){vg(r,d)}while(!0);if(Ah(),He=a,vu.current=h,Tt!==null)throw Error(t(261));return bt=null,Lt=0,Ct}function SE(){for(;Tt!==null;)Eg(Tt)}function IE(){for(;Tt!==null&&!Tl();)Eg(Tt)}function Eg(r){var i=Ig(r.alternate,r,Sn);r.memoizedProps=r.pendingProps,i===null?wg(r):Tt=i,rf.current=null}function wg(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=yE(a,i),a!==null){a.flags&=32767,Tt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,Tt=null;return}}else if(a=gE(a,i,Sn),a!==null){Tt=a;return}if(i=i.sibling,i!==null){Tt=i;return}Tt=i=r}while(i!==null);Ct===0&&(Ct=5)}function ys(r,i,a){var h=je,d=jn.transition;try{jn.transition=null,je=1,AE(r,i,a,h)}finally{jn.transition=d,je=h}return null}function AE(r,i,a,h){do xo();while(Ei!==null);if(He&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(et(r,g),r===bt&&(Tt=bt=null,Lt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wu||(wu=!0,Ag(bn,function(){return xo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=jn.transition,jn.transition=null;var _=je;je=1;var R=He;He|=4,rf.current=null,_E(r,a),hg(a,r),H1(fh),ui=!!hh,fh=hh=null,r.current=a,EE(a),Qc(),He=R,je=_,jn.transition=g}else r.current=a;if(wu&&(wu=!1,Ei=r,Tu=d),g=r.pendingLanes,g===0&&(_i=null),Al(a.stateNode),un(r,nt()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Eu)throw Eu=!1,r=af,af=null,r;return Tu&1&&r.tag!==0&&xo(),g=r.pendingLanes,g&1?r===lf?Fa++:(Fa=0,lf=r):Fa=0,mi(),null}function xo(){if(Ei!==null){var r=ai(Tu),i=jn.transition,a=je;try{if(jn.transition=null,je=16>r?16:r,Ei===null)var h=!1;else{if(r=Ei,Ei=null,Tu=0,He&6)throw Error(t(331));var d=He;for(He|=4,fe=r.current;fe!==null;){var g=fe,_=g.child;if(fe.flags&16){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var B=R[D];for(fe=B;fe!==null;){var J=fe;switch(J.tag){case 0:case 11:case 15:Na(8,J,g)}var te=J.child;if(te!==null)te.return=J,fe=te;else for(;fe!==null;){J=fe;var X=J.sibling,ce=J.return;if(og(J),J===B){fe=null;break}if(X!==null){X.return=ce,fe=X;break}fe=ce}}}var pe=g.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var _t=ge.sibling;ge.sibling=null,ge=_t}while(ge!==null)}}fe=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,fe=_;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Na(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,fe=L;break e}fe=g.return}}var N=r.current;for(fe=N;fe!==null;){_=fe;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,fe=U;else e:for(_=N;fe!==null;){if(R=fe,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:yu(9,R)}}catch(ye){gt(R,R.return,ye)}if(R===_){fe=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,fe=re;break e}fe=R.return}}if(He=d,mi(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(es,r)}catch{}h=!0}return h}finally{je=a,jn.transition=i}}return!1}function Tg(r,i,a){i=Co(a,i),i=$m(r,i,1),r=yi(r,i,1),i=en(),r!==null&&(si(r,1,i),un(r,i))}function gt(r,i,a){if(r.tag===3)Tg(r,r,a);else for(;i!==null;){if(i.tag===3){Tg(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_i===null||!_i.has(h))){r=Co(a,r),r=Um(i,r,1),i=yi(i,r,1),r=en(),i!==null&&(si(i,1,r),un(i,r));break}}i=i.return}}function CE(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=en(),r.pingedLanes|=r.suspendedLanes&a,bt===r&&(Lt&a)===a&&(Ct===4||Ct===3&&(Lt&130023424)===Lt&&500>nt()-of?gs(r,0):sf|=a),un(r,i)}function Sg(r,i){i===0&&(r.mode&1?(i=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):i=1);var a=en();r=zr(r,i),r!==null&&(si(r,i,a),un(r,a))}function RE(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Sg(r,a)}function PE(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),Sg(r,a)}var Ig;Ig=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||sn.current)an=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return an=!1,mE(r,i,a);an=!!(r.flags&131072)}else an=!1,ut&&i.flags&1048576&&rm(i,eu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;mu(r,i),r=i.pendingProps;var d=vo(i,Bt.current);Io(i,a),d=Fh(null,i,h,r,d,a);var g=Mh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,on(h)?(g=!0,Xl(i)):g=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(i),d.updater=du,i.stateNode=d,d._reactInternals=i,Bh(i,h,r,a),i=Wh(null,i,h,!0,g,a)):(i.tag=0,ut&&g&&_h(i),Zt(null,i,d,a),i=i.child),i;case 16:h=i.elementType;e:{switch(mu(r,i),r=i.pendingProps,d=h._init,h=d(h._payload),i.type=h,d=i.tag=xE(h),r=rr(h,r),d){case 0:i=Gh(null,i,h,r,a);break e;case 1:i=Ym(null,i,h,r,a);break e;case 11:i=Hm(null,i,h,r,a);break e;case 14:i=Gm(null,i,h,rr(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:rr(h,d),Gh(r,i,h,d,a);case 1:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:rr(h,d),Ym(r,i,h,d,a);case 3:e:{if(Xm(i),r===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,d=g.element,fm(r,i),ou(i,h,null,a);var _=i.memoizedState;if(h=_.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){d=Co(Error(t(423)),i),i=Jm(r,i,h,a,d);break e}else if(h!==d){d=Co(Error(t(424)),i),i=Jm(r,i,h,a,d);break e}else for(Tn=fi(i.stateNode.containerInfo.firstChild),wn=i,ut=!0,nr=null,a=cm(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(wo(),h===d){i=qr(r,i,a);break e}Zt(r,i,h,a)}i=i.child}return i;case 5:return mm(i),r===null&&Th(i),h=i.type,d=i.pendingProps,g=r!==null?r.memoizedProps:null,_=d.children,dh(h,d)?_=null:g!==null&&dh(h,g)&&(i.flags|=32),Qm(r,i),Zt(r,i,_,a),i.child;case 6:return r===null&&Th(i),null;case 13:return Zm(r,i,a);case 4:return xh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=To(i,null,h,a):Zt(r,i,h,a),i.child;case 11:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:rr(h,d),Hm(r,i,h,d,a);case 7:return Zt(r,i,i.pendingProps,a),i.child;case 8:return Zt(r,i,i.pendingProps.children,a),i.child;case 12:return Zt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,d=i.pendingProps,g=i.memoizedProps,_=d.value,rt(ru,h._currentValue),h._currentValue=_,g!==null)if(tr(g.value,_)){if(g.children===d.children&&!sn.current){i=qr(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var R=g.dependencies;if(R!==null){_=g.child;for(var D=R.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=Br(-1,a&-a),D.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?D.next=D:(D.next=J.next,J.next=D),B.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),Rh(g.return,a,i),R.lanes|=a;break}D=D.next}}else if(g.tag===10)_=g.type===i.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,R=_.alternate,R!==null&&(R.lanes|=a),Rh(_,a,i),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Zt(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,h=i.pendingProps.children,Io(i,a),d=Mn(d),h=h(d),i.flags|=1,Zt(r,i,h,a),i.child;case 14:return h=i.type,d=rr(h,i.pendingProps),d=rr(h.type,d),Gm(r,i,h,d,a);case 15:return Wm(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,d=i.pendingProps,d=i.elementType===h?d:rr(h,d),mu(r,i),i.tag=1,on(h)?(r=!0,Xl(i)):r=!1,Io(i,a),Lm(i,h,d),Bh(i,h,d,a),Wh(null,i,h,!0,r,a);case 19:return tg(r,i,a);case 22:return Km(r,i,a)}throw Error(t(156,i.tag))};function Ag(r,i){return Ys(r,i)}function kE(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,i,a,h){return new kE(r,i,a,h)}function pf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xE(r){if(typeof r=="function")return pf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===tt)return 14}return 2}function Si(r,i){var a=r.alternate;return a===null?(a=$n(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Cu(r,i,a,h,d,g){var _=2;if(h=r,typeof r=="function")pf(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case P:return vs(a.children,d,g,i);case S:_=8,d|=8;break;case A:return r=$n(12,a,i,d|2),r.elementType=A,r.lanes=g,r;case C:return r=$n(13,a,i,d),r.elementType=C,r.lanes=g,r;case Ve:return r=$n(19,a,i,d),r.elementType=Ve,r.lanes=g,r;case Oe:return Ru(a,d,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:_=10;break e;case k:_=9;break e;case O:_=11;break e;case tt:_=14;break e;case ft:_=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=$n(_,a,i,d),i.elementType=r,i.type=h,i.lanes=g,i}function vs(r,i,a,h){return r=$n(7,r,h,i),r.lanes=a,r}function Ru(r,i,a,h){return r=$n(22,r,h,i),r.elementType=Oe,r.lanes=a,r.stateNode={isHidden:!1},r}function mf(r,i,a){return r=$n(6,r,null,i),r.lanes=a,r}function gf(r,i,a){return i=$n(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function DE(r,i,a,h,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function yf(r,i,a,h,d,g,_,R,D){return r=new DE(r,i,a,R,D),i===1?(i=1,g===!0&&(i|=8)):i=0,g=$n(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(g),r}function bE(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function Cg(r){if(!r)return pi;r=r._reactInternals;e:{if(Kn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(on(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(on(a))return em(r,a,i)}return i}function Rg(r,i,a,h,d,g,_,R,D){return r=yf(a,h,!0,r,d,g,_,R,D),r.context=Cg(null),a=r.current,h=en(),d=wi(a),g=Br(h,d),g.callback=i??null,yi(a,g,d),r.current.lanes=d,si(r,d,h),un(r,h),r}function Pu(r,i,a,h){var d=i.current,g=en(),_=wi(d);return a=Cg(a),i.context===null?i.context=a:i.pendingContext=a,i=Br(g,_),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=yi(d,i,_),r!==null&&(or(r,d,_,g),su(r,d,_)),_}function ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Pg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function vf(r,i){Pg(r,i),(r=r.alternate)&&Pg(r,i)}function NE(){return null}var kg=typeof reportError=="function"?reportError:function(r){console.error(r)};function _f(r){this._internalRoot=r}xu.prototype.render=_f.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Pu(r,i,null,null)},xu.prototype.unmount=_f.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ms(function(){Pu(null,r,null,null)}),i[Lr]=null}};function xu(r){this._internalRoot=r}xu.prototype.unstable_scheduleHydration=function(r){if(r){var i=xl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<dr.length&&i!==0&&i<dr[a].priority;a++);dr.splice(a,0,r),a===0&&Nl(r)}};function Ef(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Du(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xg(){}function OE(r,i,a,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var B=ku(_);g.call(B)}}var _=Rg(i,h,r,0,null,!1,!1,"",xg);return r._reactRootContainer=_,r[Lr]=_.current,Ea(r.nodeType===8?r.parentNode:r),ms(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var R=h;h=function(){var B=ku(D);R.call(B)}}var D=yf(r,0,!1,null,null,!1,!1,"",xg);return r._reactRootContainer=D,r[Lr]=D.current,Ea(r.nodeType===8?r.parentNode:r),ms(function(){Pu(i,D,a,h)}),D}function bu(r,i,a,h,d){var g=a._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var R=d;d=function(){var D=ku(_);R.call(D)}}Pu(i,_,r,d)}else _=OE(a,i,r,d,h);return ku(_)}Pl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=ri(i.pendingLanes);a!==0&&(oi(i,a|1),un(i,nt()),!(He&6)&&(ko=nt()+500,mi()))}break;case 13:ms(function(){var h=zr(r,1);if(h!==null){var d=en();or(h,r,1,d)}}),vf(r,1)}},Zs=function(r){if(r.tag===13){var i=zr(r,134217728);if(i!==null){var a=en();or(i,r,134217728,a)}vf(r,134217728)}},kl=function(r){if(r.tag===13){var i=wi(r),a=zr(r,i);if(a!==null){var h=en();or(a,r,i,h)}vf(r,i)}},xl=function(){return je},Dl=function(r,i){var a=je;try{return je=r,i()}finally{je=a}},qs=function(r,i,a){switch(i){case"input":if(Gi(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var d=Ql(h);if(!d)throw Error(t(90));Zr(h),Gi(h,d)}}}break;case"textarea":de(r,a);break;case"select":i=a.value,i!=null&&qn(r,!!a.multiple,i,!1)}},Qi=hf,ta=ms;var VE={usingClientEntryPoint:!1,Events:[Sa,go,Ql,hr,ea,hf]},Ma={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FE={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ia(r),r===null?null:r.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||NE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{es=Nu.inject(FE),yn=Nu}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE,cn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(i))throw Error(t(200));return bE(r,i,null,a)},cn.createRoot=function(r,i){if(!Ef(r))throw Error(t(299));var a=!1,h="",d=kg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=yf(r,1,!1,null,null,a,!1,h,d),r[Lr]=i.current,Ea(r.nodeType===8?r.parentNode:r),new _f(i)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ia(i),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return ms(r)},cn.hydrate=function(r,i,a){if(!Du(i))throw Error(t(200));return bu(null,r,i,!0,a)},cn.hydrateRoot=function(r,i,a){if(!Ef(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,g="",_=kg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=Rg(i,null,r,1,a??null,d,!1,g,_),r[Lr]=i.current,Ea(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new xu(i)},cn.render=function(r,i,a){if(!Du(i))throw Error(t(200));return bu(null,r,i,!1,a)},cn.unmountComponentAtNode=function(r){if(!Du(r))throw Error(t(40));return r._reactRootContainer?(ms(function(){bu(null,null,r,!1,function(){r._reactRootContainer=null,r[Lr]=null})}),!0):!1},cn.unstable_batchedUpdates=hf,cn.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!Du(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return bu(r,i,a,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Lg;function jv(){if(Lg)return Sf.exports;Lg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sf.exports=qE(),Sf.exports}var jg;function HE(){if(jg)return Ou;jg=1;var n=jv();return Ou.createRoot=n.createRoot,Ou.hydrateRoot=n.hydrateRoot,Ou}var GE=HE(),$v={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$g=qe.createContext&&qe.createContext($v),WE=["attr","size","title"];function KE(n,e){if(n==null)return{};var t=QE(n,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function QE(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function Zu(){return Zu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Zu.apply(this,arguments)}function Ug(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function ec(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ug(Object(t),!0).forEach(function(s){YE(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ug(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function YE(n,e,t){return e=XE(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XE(n){var e=JE(n,"string");return typeof e=="symbol"?e:e+""}function JE(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Uv(n){return n&&n.map((e,t)=>qe.createElement(e.tag,ec({key:t},e.attr),Uv(e.child)))}function Ns(n){return e=>qe.createElement(ZE,Zu({attr:ec({},n.attr)},e),Uv(n.child))}function ZE(n){var e=t=>{var{attr:s,size:o,title:l}=n,c=KE(n,WE),f=o||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),qe.createElement("svg",Zu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:m,style:ec(ec({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&qe.createElement("title",null,l),n.children)};return $g!==void 0?qe.createElement($g.Consumer,null,t=>e(t)):e($v)}function ew(n){return Ns({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function zv(n){return Ns({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"},child:[]}]})(n)}const tw=()=>we.jsxs("div",{className:"my-4 h-[60px] gap-2 rounded-lg bg-white flex justify-center items-center text-xl font-medium",children:[we.jsx(zv,{className:"text-4xl text-orange"}),we.jsx("div",{className:"text-orange",children:"Contant App"})]});function nw(n){return Ns({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`},child:[]}]}]})(n)}function rw(n){return Ns({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"},child:[]}]})(n)}function iw(n){return Ns({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(n)}var zg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},sw=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,E=l>>2,T=(l&3)<<4|f>>4;let I=(f&15)<<2|v>>6,b=v&63;m||(b=64,c||(I=64)),s.push(t[E],t[T],t[I],t[b])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Bv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new ow;const I=l<<2|f>>4;if(s.push(I),v!==64){const b=f<<4&240|v>>2;if(s.push(b),T!==64){const $=v<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ow extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aw=function(n){const e=Bv(n);return qv.encodeByteArray(e,!0)},tc=function(n){return aw(n).replace(/\./g,"")},lw=function(n){try{return qv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=()=>uw().__FIREBASE_DEFAULTS__,hw=()=>{if(typeof process>"u"||typeof zg>"u")return;const n=zg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lw(n[1]);return e&&JSON.parse(e)},xd=()=>{try{return cw()||hw()||fw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dw=n=>{var e,t;return(t=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pw=n=>{const e=dw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Hv=()=>{var n;return(n=xd())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[tc(JSON.stringify(t)),tc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vw(){var n;const e=(n=xd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _w(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ew(){return!vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gv(){try{return typeof indexedDB=="object"}catch{return!1}}function Wv(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function ww(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FirebaseError";class Ui extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Tw,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?Sw(l,s):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Ui(o,f,s)}}function Sw(n,e){return n.replace(Iw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Iw=/\{\$([^}]+)}/g;function nc(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(Bg(l)&&Bg(c)){if(!nc(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Bg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1e3,Cw=2,Rw=4*60*60*1e3,Pw=.5;function qg(n,e=Aw,t=Cw){const s=e*Math.pow(t,n),o=Math.round(Pw*s*(Math.random()-.5)*2);return Math.min(Rw,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n){return n&&n._delegate?n._delegate:n}class Kr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new mw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dw(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(n){return n===Es?void 0:n}function Dw(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const Nw={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Ow=Be.INFO,Vw={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Fw=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=Vw[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=Ow,this._logHandler=Fw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Mw=(n,e)=>e.some(t=>n instanceof t);let Hg,Gg;function Lw(){return Hg||(Hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jw(){return Gg||(Gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,Qf=new WeakMap,Qv=new WeakMap,Cf=new WeakMap,bd=new WeakMap;function $w(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ki(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Kv.set(t,n)}).catch(()=>{}),bd.set(e,n),e}function Uw(n){if(Qf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Qf.set(n,e)}let Yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Qv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zw(n){Yf=n(Yf)}function Bw(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Rf(this),e,...t);return Qv.set(s,e.sort?e.sort():[e]),ki(s)}:jw().includes(n)?function(...e){return n.apply(Rf(this),e),ki(Kv.get(this))}:function(...e){return ki(n.apply(Rf(this),e))}}function qw(n){return typeof n=="function"?Bw(n):(n instanceof IDBTransaction&&Uw(n),Mw(n,Lw())?new Proxy(n,Yf):n)}function ki(n){if(n instanceof IDBRequest)return $w(n);if(Cf.has(n))return Cf.get(n);const e=qw(n);return e!==n&&(Cf.set(n,e),bd.set(e,n)),e}const Rf=n=>bd.get(n);function Yv(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=ki(c);return s&&c.addEventListener("upgradeneeded",m=>{s(ki(c.result),m.oldVersion,m.newVersion,ki(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const Hw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],Pf=new Map;function Wg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Gw.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Hw.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&m.done]))[0]};return Pf.set(e,l),l}zw(n=>({...n,get:(e,t,s)=>Wg(e,t)||n.get(e,t,s),has:(e,t)=>!!Wg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Kw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Kw(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Kg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Dd("@firebase/app"),Qw="@firebase/app-compat",Yw="@firebase/analytics-compat",Xw="@firebase/analytics",Jw="@firebase/app-check-compat",Zw="@firebase/app-check",eT="@firebase/auth",tT="@firebase/auth-compat",nT="@firebase/database",rT="@firebase/data-connect",iT="@firebase/database-compat",sT="@firebase/functions",oT="@firebase/functions-compat",aT="@firebase/installations",lT="@firebase/installations-compat",uT="@firebase/messaging",cT="@firebase/messaging-compat",hT="@firebase/performance",fT="@firebase/performance-compat",dT="@firebase/remote-config",pT="@firebase/remote-config-compat",mT="@firebase/storage",gT="@firebase/storage-compat",yT="@firebase/firestore",vT="@firebase/vertexai",_T="@firebase/firestore-compat",ET="firebase",wT="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",TT={[Xf]:"fire-core",[Qw]:"fire-core-compat",[Xw]:"fire-analytics",[Yw]:"fire-analytics-compat",[Zw]:"fire-app-check",[Jw]:"fire-app-check-compat",[eT]:"fire-auth",[tT]:"fire-auth-compat",[nT]:"fire-rtdb",[rT]:"fire-data-connect",[iT]:"fire-rtdb-compat",[sT]:"fire-fn",[oT]:"fire-fn-compat",[aT]:"fire-iid",[lT]:"fire-iid-compat",[uT]:"fire-fcm",[cT]:"fire-fcm-compat",[hT]:"fire-perf",[fT]:"fire-perf-compat",[dT]:"fire-rc",[pT]:"fire-rc-compat",[mT]:"fire-gcs",[gT]:"fire-gcs-compat",[yT]:"fire-fst",[_T]:"fire-fst-compat",[vT]:"fire-vertex","fire-js":"fire-js",[ET]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,ST=new Map,Zf=new Map;function Qg(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oi(n){const e=n.name;if(Zf.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,n);for(const t of rc.values())Qg(t,n);for(const t of ST.values())Qg(t,n);return!0}function fl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new wc("app","Firebase",IT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=wT;function Xv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(t||(t=Hv()),!t)throw xi.create("no-options");const l=rc.get(o);if(l){if(nc(t,l.options)&&nc(s,l.config))return l;throw xi.create("duplicate-app",{appName:o})}const c=new bw(o);for(const m of Zf.values())c.addComponent(m);const f=new AT(t,s,c);return rc.set(o,f),f}function Jv(n=Jf){const e=rc.get(n);if(!e&&n===Jf&&Hv())return Xv();if(!e)throw xi.create("no-app",{appName:n});return e}function Tr(n,e,t){var s;let o=(s=TT[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(f.join(" "));return}Oi(new Kr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebase-heartbeat-database",PT=1,Za="firebase-heartbeat-store";let kf=null;function Zv(){return kf||(kf=Yv(RT,PT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),kf}async function kT(n){try{const t=(await Zv()).transaction(Za),s=await t.objectStore(Za).get(e0(n));return await t.done,s}catch(e){if(e instanceof Ui)Qr.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(t.message)}}}async function Yg(n,e){try{const s=(await Zv()).transaction(Za,"readwrite");await s.objectStore(Za).put(e,e0(n)),await s.done}catch(t){if(t instanceof Ui)Qr.warn(t.message);else{const s=xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qr.warn(s.message)}}}function e0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=1024,DT=30*24*60*60*1e3;class bT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Xg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=DT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Qr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Xg(),{heartbeatsToSend:s,unsentEntries:o}=NT(this._heartbeatsCache.heartbeats),l=tc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Qr.warn(t),""}}}function Xg(){return new Date().toISOString().substring(0,10)}function NT(n,e=xT){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Jg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Jg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class OT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gv()?Wv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jg(n){return tc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n){Oi(new Kr("platform-logger",e=>new Ww(e),"PRIVATE")),Oi(new Kr("heartbeat",e=>new bT(e),"PRIVATE")),Tr(Xf,Kg,n),Tr(Xf,Kg,"esm2017"),Tr("fire-js","")}VT("");var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,t0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function A(){}A.prototype=S.prototype,P.D=S.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(x,k,O){for(var C=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)C[Ve-2]=arguments[Ve];return S.prototype[k].apply(x,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,A){A||(A=0);var x=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)x[k]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(k=0;16>k;++k)x[k]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=P.g[0],A=P.g[1],k=P.g[2];var O=P.g[3],C=S+(O^A&(k^O))+x[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=O+(k^S&(A^k))+x[1]+3905402710&4294967295,O=S+(C<<12&4294967295|C>>>20),C=k+(A^O&(S^A))+x[2]+606105819&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(S^k&(O^S))+x[3]+3250441966&4294967295,A=k+(C<<22&4294967295|C>>>10),C=S+(O^A&(k^O))+x[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=O+(k^S&(A^k))+x[5]+1200080426&4294967295,O=S+(C<<12&4294967295|C>>>20),C=k+(A^O&(S^A))+x[6]+2821735955&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(S^k&(O^S))+x[7]+4249261313&4294967295,A=k+(C<<22&4294967295|C>>>10),C=S+(O^A&(k^O))+x[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=O+(k^S&(A^k))+x[9]+2336552879&4294967295,O=S+(C<<12&4294967295|C>>>20),C=k+(A^O&(S^A))+x[10]+4294925233&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(S^k&(O^S))+x[11]+2304563134&4294967295,A=k+(C<<22&4294967295|C>>>10),C=S+(O^A&(k^O))+x[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=O+(k^S&(A^k))+x[13]+4254626195&4294967295,O=S+(C<<12&4294967295|C>>>20),C=k+(A^O&(S^A))+x[14]+2792965006&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(S^k&(O^S))+x[15]+1236535329&4294967295,A=k+(C<<22&4294967295|C>>>10),C=S+(k^O&(A^k))+x[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(S^A))+x[6]+3225465664&4294967295,O=S+(C<<9&4294967295|C>>>23),C=k+(S^A&(O^S))+x[11]+643717713&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^S&(k^O))+x[0]+3921069994&4294967295,A=k+(C<<20&4294967295|C>>>12),C=S+(k^O&(A^k))+x[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(S^A))+x[10]+38016083&4294967295,O=S+(C<<9&4294967295|C>>>23),C=k+(S^A&(O^S))+x[15]+3634488961&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^S&(k^O))+x[4]+3889429448&4294967295,A=k+(C<<20&4294967295|C>>>12),C=S+(k^O&(A^k))+x[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(S^A))+x[14]+3275163606&4294967295,O=S+(C<<9&4294967295|C>>>23),C=k+(S^A&(O^S))+x[3]+4107603335&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^S&(k^O))+x[8]+1163531501&4294967295,A=k+(C<<20&4294967295|C>>>12),C=S+(k^O&(A^k))+x[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(S^A))+x[2]+4243563512&4294967295,O=S+(C<<9&4294967295|C>>>23),C=k+(S^A&(O^S))+x[7]+1735328473&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^S&(k^O))+x[12]+2368359562&4294967295,A=k+(C<<20&4294967295|C>>>12),C=S+(A^k^O)+x[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=O+(S^A^k)+x[8]+2272392833&4294967295,O=S+(C<<11&4294967295|C>>>21),C=k+(O^S^A)+x[11]+1839030562&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^S)+x[14]+4259657740&4294967295,A=k+(C<<23&4294967295|C>>>9),C=S+(A^k^O)+x[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=O+(S^A^k)+x[4]+1272893353&4294967295,O=S+(C<<11&4294967295|C>>>21),C=k+(O^S^A)+x[7]+4139469664&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^S)+x[10]+3200236656&4294967295,A=k+(C<<23&4294967295|C>>>9),C=S+(A^k^O)+x[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=O+(S^A^k)+x[0]+3936430074&4294967295,O=S+(C<<11&4294967295|C>>>21),C=k+(O^S^A)+x[3]+3572445317&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^S)+x[6]+76029189&4294967295,A=k+(C<<23&4294967295|C>>>9),C=S+(A^k^O)+x[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=O+(S^A^k)+x[12]+3873151461&4294967295,O=S+(C<<11&4294967295|C>>>21),C=k+(O^S^A)+x[15]+530742520&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^S)+x[2]+3299628645&4294967295,A=k+(C<<23&4294967295|C>>>9),C=S+(k^(A|~O))+x[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=O+(A^(S|~k))+x[7]+1126891415&4294967295,O=S+(C<<10&4294967295|C>>>22),C=k+(S^(O|~A))+x[14]+2878612391&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~S))+x[5]+4237533241&4294967295,A=k+(C<<21&4294967295|C>>>11),C=S+(k^(A|~O))+x[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=O+(A^(S|~k))+x[3]+2399980690&4294967295,O=S+(C<<10&4294967295|C>>>22),C=k+(S^(O|~A))+x[10]+4293915773&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~S))+x[1]+2240044497&4294967295,A=k+(C<<21&4294967295|C>>>11),C=S+(k^(A|~O))+x[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=O+(A^(S|~k))+x[15]+4264355552&4294967295,O=S+(C<<10&4294967295|C>>>22),C=k+(S^(O|~A))+x[6]+2734768916&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~S))+x[13]+1309151649&4294967295,A=k+(C<<21&4294967295|C>>>11),C=S+(k^(A|~O))+x[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=O+(A^(S|~k))+x[11]+3174756917&4294967295,O=S+(C<<10&4294967295|C>>>22),C=k+(S^(O|~A))+x[2]+718787259&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~S))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+O&4294967295}s.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var A=S-this.blockSize,x=this.B,k=this.h,O=0;O<S;){if(k==0)for(;O<=A;)o(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<S;)if(x[k++]=P.charCodeAt(O++),k==this.blockSize){o(this,x),k=0;break}}else for(;O<S;)if(x[k++]=P[O++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var A=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=A&255,A/=256;for(this.u(P),P=Array(16),S=A=0;4>S;++S)for(var x=0;32>x;x+=8)P[A++]=this.g[S]>>>x&255;return P};function l(P,S){var A=f;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=S(P)}function c(P,S){this.h=S;for(var A=[],x=!0,k=P.length-1;0<=k;k--){var O=P[k]|0;x&&O==S||(A[k]=O,x=!1)}this.g=A}var f={};function m(P){return-128<=P&&128>P?l(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return F(v(-P));for(var S=[],A=1,x=0;P>=A;x++)S[x]=P/A|0,A*=4294967296;return new c(S,0)}function E(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return F(E(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(S,8)),x=T,k=0;k<P.length;k+=8){var O=Math.min(8,P.length-k),C=parseInt(P.substring(k,k+O),S);8>O?(O=v(Math.pow(S,O)),x=x.j(O).add(v(C))):(x=x.j(A),x=x.add(v(C)))}return x}var T=m(0),I=m(1),b=m(16777216);n=c.prototype,n.m=function(){if(j(this))return-F(this).m();for(var P=0,S=1,A=0;A<this.g.length;A++){var x=this.i(A);P+=(0<=x?x:4294967296+x)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if($(this))return"0";if(j(this))return"-"+F(this).toString(P);for(var S=v(Math.pow(P,6)),A=this,x="";;){var k=se(A,S).g;A=z(A,k.j(S));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=k,$(A))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function $(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function j(P){return P.h==-1}n.l=function(P){return P=z(this,P),j(P)?-1:$(P)?0:1};function F(P){for(var S=P.g.length,A=[],x=0;x<S;x++)A[x]=~P.g[x];return new c(A,~P.h).add(I)}n.abs=function(){return j(this)?F(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],x=0,k=0;k<=S;k++){var O=x+(this.i(k)&65535)+(P.i(k)&65535),C=(O>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);x=C>>>16,O&=65535,C&=65535,A[k]=C<<16|O}return new c(A,A[A.length-1]&-2147483648?-1:0)};function z(P,S){return P.add(F(S))}n.j=function(P){if($(this)||$(P))return T;if(j(this))return j(P)?F(this).j(F(P)):F(F(this).j(P));if(j(P))return F(this.j(F(P)));if(0>this.l(b)&&0>P.l(b))return v(this.m()*P.m());for(var S=this.g.length+P.g.length,A=[],x=0;x<2*S;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<P.g.length;k++){var O=this.i(x)>>>16,C=this.i(x)&65535,Ve=P.i(k)>>>16,tt=P.i(k)&65535;A[2*x+2*k]+=C*tt,K(A,2*x+2*k),A[2*x+2*k+1]+=O*tt,K(A,2*x+2*k+1),A[2*x+2*k+1]+=C*Ve,K(A,2*x+2*k+1),A[2*x+2*k+2]+=O*Ve,K(A,2*x+2*k+2)}for(x=0;x<S;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=S;x<2*S;x++)A[x]=0;return new c(A,0)};function K(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function Q(P,S){this.g=P,this.h=S}function se(P,S){if($(S))throw Error("division by zero");if($(P))return new Q(T,T);if(j(P))return S=se(F(P),S),new Q(F(S.g),F(S.h));if(j(S))return S=se(P,F(S)),new Q(F(S.g),S.h);if(30<P.g.length){if(j(P)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var A=I,x=S;0>=x.l(P);)A=W(A),x=W(x);var k=Z(A,1),O=Z(x,1);for(x=Z(x,2),A=Z(A,2);!$(x);){var C=O.add(x);0>=C.l(P)&&(k=k.add(A),O=C),x=Z(x,1),A=Z(A,1)}return S=z(P,k.j(S)),new Q(k,S)}for(k=T;0<=P.l(S);){for(A=Math.max(1,Math.floor(P.m()/S.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=v(A),C=O.j(S);j(C)||0<C.l(P);)A-=x,O=v(A),C=O.j(S);$(O)&&(O=I),k=k.add(O),P=z(P,C)}return new Q(k,P)}n.A=function(P){return se(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],x=0;x<S;x++)A[x]=this.i(x)&P.i(x);return new c(A,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],x=0;x<S;x++)A[x]=this.i(x)|P.i(x);return new c(A,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],x=0;x<S;x++)A[x]=this.i(x)^P.i(x);return new c(A,this.h^P.h)};function W(P){for(var S=P.g.length+1,A=[],x=0;x<S;x++)A[x]=P.i(x)<<1|P.i(x-1)>>>31;return new c(A,P.h)}function Z(P,S){var A=S>>5;S%=32;for(var x=P.g.length-A,k=[],O=0;O<x;O++)k[O]=0<S?P.i(O+A)>>>S|P.i(O+A+1)<<32-S:P.i(O+A);return new c(k,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,t0=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=E,Is=c}).apply(typeof Zg<"u"?Zg:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n0,$a,r0,Hu,ed,i0,s0,o0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var M=u[w];if(!(M in y))break e;y=y[M]}u=u[u.length-1],w=y[u],p=p(w),p!=w&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,w=!1,M={next:function(){if(!w&&y<u.length){var H=y++;return{value:p(H,u[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,y){return u.call.apply(u.bind,arguments)}function T(u,p,y){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,w),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function I(u,p,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,I.apply(null,arguments)}function b(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function $(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(w,M,H){for(var oe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)oe[Ye-2]=arguments[Ye];return p.prototype[M].apply(w,oe)}}function j(u){const p=u.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=u[w];return y}return[]}function F(u,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(m(w)){const M=u.length||0,H=w.length||0;u.length=M+H;for(let oe=0;oe<H;oe++)u[M+oe]=w[oe]}else u.push(w)}}class z{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function se(u){return se[" "](u),u}se[" "]=function(){};var W=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Z(u,p,y){for(const w in u)p.call(y,u[w],w,u)}function P(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function S(u){const p={};for(const y in u)p[y]=u[y];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let y,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(y in w)u[y]=w[y];for(let H=0;H<A.length;H++)y=A[H],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function k(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function O(u){f.setTimeout(()=>{throw u},0)}function C(){var u=me;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ve{constructor(){this.h=this.g=null}add(p,y){const w=tt.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var tt=new z(()=>new ft,u=>u.reset());class ft{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,ne=!1,me=new Ve,ae=()=>{const u=f.Promise.resolve(void 0);Oe=()=>{u.then(V)}};var V=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){O(y)}var p=tt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ne=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u}();function Ee(u,p){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(W){e:{try{se(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}$(Ee,ue);var xe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Qe(u,p,y,w,M){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=M,this.key=++Me,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gn(u){this.src=u,this.g={},this.h=0}gn.prototype.add=function(u,p,y,w,M){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var oe=zn(u,p,w,M);return-1<oe?(p=u[oe],y||(p.fa=!1)):(p=new Qe(p,this.src,H,!!w,M),p.fa=y,u.push(p)),p};function Zr(u,p){var y=p.type;if(y in u.g){var w=u.g[y],M=Array.prototype.indexOf.call(w,p,void 0),H;(H=0<=M)&&Array.prototype.splice.call(w,M,1),H&&(yt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function zn(u,p,y,w){for(var M=0;M<u.length;++M){var H=u[M];if(!H.da&&H.listener==p&&H.capture==!!y&&H.ha==w)return M}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),ei={};function Hi(u,p,y,w,M){if(Array.isArray(p)){for(var H=0;H<p.length;H++)Hi(u,p[H],y,w,M);return null}return y=_e(y),u&&u[Ne]?u.K(p,y,v(w)?!!w.capture:!!w,M):Gi(u,p,y,!1,w,M)}function Gi(u,p,y,w,M,H){if(!p)throw Error("Invalid event type");var oe=v(M)?!!M.capture:!!M,Ye=le(u);if(Ye||(u[xr]=Ye=new gn(u)),y=Ye.add(p,y,w,oe,H),y.proxy)return y;if(w=Us(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)Te||(M=oe),M===void 0&&(M=!1),u.addEventListener(p.toString(),w,M);else if(u.attachEvent)u.attachEvent(qn(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Us(){function u(y){return p.call(u.src,u.listener,y)}const p=q;return u}function ur(u,p,y,w,M){if(Array.isArray(p))for(var H=0;H<p.length;H++)ur(u,p[H],y,w,M);else w=v(w)?!!w.capture:!!w,y=_e(y),u&&u[Ne]?(u=u.i,p=String(p).toString(),p in u.g&&(H=u.g[p],y=zn(H,y,w,M),-1<y&&(yt(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[p],u.h--)))):u&&(u=le(u))&&(p=u.g[p.toString()],u=-1,p&&(u=zn(p,y,w,M)),(y=-1<u?p[u]:null)&&Bn(y))}function Bn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ne])Zr(p.i,u);else{var y=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(y,w,u.capture):p.detachEvent?p.detachEvent(qn(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=le(p))?(Zr(y,u),y.h==0&&(y.src=null,p[xr]=null)):yt(u)}}}function qn(u){return u in ei?ei[u]:ei[u]="on"+u}function q(u,p){if(u.da)u=!0;else{p=new Ee(p,this);var y=u.listener,w=u.ha||u.src;u.fa&&Bn(u),u=y.call(w,p)}return u}function le(u){return u=u[xr],u instanceof gn?u:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(u){return typeof u=="function"?u:(u[de]||(u[de]=function(p){return u.handleEvent(p)}),u[de])}function ve(){G.call(this),this.i=new gn(this),this.M=this,this.F=null}$(ve,G),ve.prototype[Ne]=!0,ve.prototype.removeEventListener=function(u,p,y,w){ur(this,u,p,y,w)};function Re(u,p){var y,w=u.F;if(w)for(y=[];w;w=w.F)y.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new ue(p,u);else if(p instanceof ue)p.target=p.target||u;else{var M=p;p=new ue(w,u),x(p,M)}if(M=!0,y)for(var H=y.length-1;0<=H;H--){var oe=p.g=y[H];M=Je(oe,w,!0,p)&&M}if(oe=p.g=u,M=Je(oe,w,!0,p)&&M,M=Je(oe,w,!1,p)&&M,y)for(H=0;H<y.length;H++)oe=p.g=y[H],M=Je(oe,w,!1,p)&&M}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],w=0;w<y.length;w++)yt(y[w]);delete u.g[p],u.h--}}this.F=null},ve.prototype.K=function(u,p,y,w){return this.i.add(String(u),p,!1,y,w)},ve.prototype.L=function(u,p,y,w){return this.i.add(String(u),p,!0,y,w)};function Je(u,p,y,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,H=0;H<p.length;++H){var oe=p[H];if(oe&&!oe.da&&oe.capture==y){var Ye=oe.listener,It=oe.ha||oe.src;oe.fa&&Zr(u.i,oe),M=Ye.call(It,w)!==!1&&M}}return M&&!w.defaultPrevented}function Yt(u,p,y){if(typeof u=="function")y&&(u=I(u,y));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function xn(u){u.g=Yt(()=>{u.g=null,u.i&&(u.i=!1,xn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Hn extends G{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:xn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){G.call(this),this.h=u,this.g={}}$(Dr,G);var zs=[];function ti(u){Z(u.g,function(p,y){this.g.hasOwnProperty(y)&&Bn(p)},u),u.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),ti(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=f.JSON.stringify,Jo=f.JSON.parse,Zo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ki(){}Ki.prototype.h=null;function Bs(u){return u.h||(u.h=u.i())}function qs(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){ue.call(this,"d")}$(cr,ue);function Hs(){ue.call(this,"c")}$(Hs,ue);var hr={},ea=null;function Qi(){return ea=ea||new ve}hr.La="serverreachability";function ta(u){ue.call(this,hr.La,u)}$(ta,ue);function br(u){const p=Qi();Re(p,new ta(p))}hr.STAT_EVENT="statevent";function na(u,p){ue.call(this,hr.STAT_EVENT,u),this.stat=p}$(na,ue);function vt(u){const p=Qi();Re(p,new na(p,u))}hr.Ma="timingevent";function Gs(u,p){ue.call(this,hr.Ma,u),this.size=p}$(Gs,ue);function Gn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function Xi(u,p,y,w,M,H){u.info(function(){if(u.g)if(H)for(var oe="",Ye=H.split("&"),It=0;It<Ye.length;It++){var Ue=Ye[It].split("=");if(1<Ue.length){var xt=Ue[0];Ue=Ue[1];var wt=xt.split("_");oe=2<=wt.length&&wt[1]=="type"?oe+(xt+"="+Ue+"&"):oe+(xt+"=redacted&")}}else oe=null;else oe=H;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+p+`
`+y+`
`+oe})}function Ws(u,p,y,w,M,H,oe){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+p+`
`+y+`
`+H+" "+oe})}function Wn(u,p,y,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Kc(u,y)+(w?" "+w:"")})}function ra(u,p){u.info(function(){return"TIMEOUT: "+p})}Yi.prototype.info=function(){};function Kc(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var w=y[u];if(!(2>w.length)){var M=w[1];if(Array.isArray(M)&&!(1>M.length)){var H=M[0];if(H!="noop"&&H!="stop"&&H!="close")for(var oe=1;oe<M.length;oe++)M[oe]=""}}}}return Wi(y)}catch{return p}}var Ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},El={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Ji(){}$(Ji,Ki),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},Kn=new Ji;function Qn(u,p,y,w){this.j=u,this.i=p,this.l=y,this.R=w||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wl}function wl(){this.i=null,this.g="",this.h=!1}var ia={},Qs={};function Ys(u,p,y){u.L=1,u.v=oi(vn(p)),u.m=y,u.P=!0,sa(u,null)}function sa(u,p){u.F=Date.now(),nt(u),u.A=vn(u.v);var y=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),li(y.i,"t",w),u.C=0,y=u.j.J,u.h=new wl,u.g=jl(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Hn(I(u.Y,u,u.g),u.O)),p=u.U,y=u.g,w=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(zs[0]=M.toString()),M=zs);for(var H=0;H<M.length;H++){var oe=Hi(y,M[H],w||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),br(),Xi(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const p=this.M;p&&rn(u)==3?p.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const wt=rn(this.g);var p=this.g.Ba();const On=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||ha(this.g)))){this.J||wt!=4||p==7||(p==8||0>=On?br(3):br(2)),Zi(this);var y=this.g.Z();this.X=y;t:if(Tl(this)){var w=ha(this.g);u="";var M=w.length,H=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),ni(this);var oe="";break t}this.h.i=new f.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(H&&p==M-1)});w.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=y==200,Ws(this.i,this.u,this.A,this.l,this.R,wt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,It=this.g;if((Ye=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ye)){var Ue=Ye;break t}}Ue=null}if(y=Ue)Wn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,y);else{this.o=!1,this.s=3,vt(12),bn(this),ni(this);break e}}if(this.P){y=!0;let En;for(;!this.J&&this.C<oe.length;)if(En=Qc(this,oe),En==Qs){wt==4&&(this.s=4,vt(14),y=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==ia){this.s=4,vt(15),Wn(this.i,this.l,oe,"[Invalid Chunk]"),y=!1;break}else Wn(this.i,this.l,En,null),oa(this,En);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||oe.length!=0||this.h.h||(this.s=1,vt(16),y=!1),this.o=this.o&&y,!y)Wn(this.i,this.l,oe,"[Invalid Chunked Response]"),bn(this),ni(this);else if(0<oe.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),da(xt),xt.M=!0,vt(11))}}else Wn(this.i,this.l,oe,null),oa(this,oe);wt==4&&bn(this),this.o&&!this.J&&(wt==4?ao(this.j,this):(this.o=!1,nt(this)))}else no(this.g),y==400&&0<oe.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),bn(this),ni(this)}}}catch{}finally{}};function Tl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qc(u,p){var y=u.C,w=p.indexOf(`
`,y);return w==-1?Qs:(y=Number(p.substring(y,w)),isNaN(y)?ia:(w+=1,w+y>p.length?Qs:(p=p.slice(w,w+y),u.C=w+y,p)))}Qn.prototype.cancel=function(){this.J=!0,bn(this)};function nt(u){u.S=Date.now()+u.I,Sl(u,u.I)}function Sl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gn(I(u.ba,u),p)}function Zi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ra(this.i,this.A),this.L!=2&&(br(),vt(17)),bn(this),this.s=2,ni(this)):Sl(this,this.S-u)};function ni(u){u.j.G==0||u.J||ao(u.j,u)}function bn(u){Zi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ti(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function oa(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Xt(y.h,u))){if(!u.K&&Xt(y.h,u)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)oo(y),er(y);else break e;so(y),vt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Gn(I(y.Za,y),6e3));if(1>=Al(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Mr(y,11)}else if((u.K||y.g==u)&&oo(y),!K(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let Ue=M[p];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const xt=Ue[3];xt!=null&&(y.la=xt,y.j.info("VER="+y.la));const wt=Ue[4];wt!=null&&(y.Aa=wt,y.j.info("SVER="+y.Aa));const On=Ue[5];On!=null&&typeof On=="number"&&0<On&&(w=1.5*On,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const En=u.g;if(En){const os=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var H=w.h;H.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(aa(H,H.h),H.h=null))}if(w.D){const uo=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(w.ya=uo,et(w.I,w.D,uo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var oe=u;if(w.qa=Ll(w,w.J?w.ia:null,w.W),oe.K){Cl(w.h,oe);var Ye=oe,It=w.L;It&&(Ye.I=It),Ye.B&&(Zi(Ye),nt(Ye)),w.g=oe}else ss(w);0<y.i.length&&mr(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Mr(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Mr(y,7):Ft(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}br(4)}catch{}}var Il=class{constructor(u,p){this.g=u,this.map=p}};function es(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Al(u){return u.h?1:u.g?u.g.size:0}function Xt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function aa(u,p){u.g?u.g.add(p):u.h=p}function Cl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}es.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Rl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return j(u.i)}function Xs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],y=u.length,w=0;w<y;w++)p.push(u[w]);return p}p=[],y=0;for(w in u)p[y++]=u[w];return p}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const w in u)p[y++]=w;return p}}}function ri(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Js(u),w=Xs(u),M=w.length,H=0;H<M;H++)p.call(void 0,w[H],y&&y[H],u)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var w=u[y].indexOf("="),M=null;if(0<=w){var H=u[y].substring(0,w);M=u[y].substring(w+1)}else H=u[y];p(H,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,ns(this,u.j),this.o=u.o,this.g=u.g,ii(this,u.s),this.l=u.l;var p=u.i,y=new fr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),si(this,y),this.m=u.m}else u&&(p=String(u).match(ts))?(this.h=!1,ns(this,p[1]||"",!0),this.o=je(p[2]||""),this.g=je(p[3]||"",!0),ii(this,p[4]),this.l=je(p[5]||"",!0),si(this,p[6]||"",!0),this.m=je(p[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}Nr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ai(p,Zs,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ai(p,Zs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ai(y,y.charAt(0)=="/"?xl:kl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ai(y,la)),u.join("")};function vn(u){return new Nr(u)}function ns(u,p,y){u.j=y?je(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ii(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function si(u,p,y){p instanceof fr?(u.i=p,dr(u.i,u.h)):(y||(p=ai(p,Dl)),u.i=new fr(p,u.h))}function et(u,p,y){u.i.set(p,y)}function oi(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function je(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Pl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,kl=/[#\?:]/g,xl=/[#\?]/g,Dl=/[#\?@]/g,la=/#/g;function fr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Vt(u){u.g||(u.g=new Map,u.h=0,u.i&&Yc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=fr.prototype,n.add=function(u,p){Vt(this),this.i=null,u=Nn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Yn(u,p){Vt(u),p=Nn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Xn(u,p){return Vt(u),p=Nn(u,p),u.g.has(p)}n.forEach=function(u,p){Vt(this),this.g.forEach(function(y,w){y.forEach(function(M){u.call(p,M,w,this)},this)},this)},n.na=function(){Vt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const M=u[w];for(let H=0;H<M.length;H++)y.push(p[w])}return y},n.V=function(u){Vt(this);let p=[];if(typeof u=="string")Xn(this,u)&&(p=p.concat(this.g.get(Nn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},n.set=function(u,p){return Vt(this),this.i=null,u=Nn(this,u),Xn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function li(u,p,y){Yn(u,p),0<y.length&&(u.i=null,u.g.set(Nn(u,p),j(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const H=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var M=H;oe[w]!==""&&(M+="="+encodeURIComponent(String(oe[w]))),u.push(M)}}return this.i=u.join("&")};function Nn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function dr(u,p){p&&!u.j&&(Vt(u),u.i=null,u.g.forEach(function(y,w){var M=w.toLowerCase();w!=M&&(Yn(this,w),li(this,M,y))},u)),u.j=p}function Xc(u,p){const y=new Yi;if(f.Image){const w=new Image;w.onload=b(nn,y,"TestLoadImage: loaded",!0,p,w),w.onerror=b(nn,y,"TestLoadImage: error",!1,p,w),w.onabort=b(nn,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=b(nn,y,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function bl(u,p){const y=new Yi,w=new AbortController,M=setTimeout(()=>{w.abort(),nn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(H=>{clearTimeout(M),H.ok?nn(y,"TestPingServer: ok",!0,p):nn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),nn(y,"TestPingServer: error",!1,p)})}function nn(u,p,y,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(y)}catch{}}function Jc(){this.g=new Zo}function Nl(u,p,y){const w=y||"";try{ri(u,function(M,H){let oe=M;v(M)&&(oe=Wi(M)),p.push(w+H+"="+encodeURIComponent(oe))})}catch(M){throw p.push(w+"type="+encodeURIComponent("_badmap")),M}}function Or(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Or,Ki),Or.prototype.g=function(){return new rs(this.l,this.j)},Or.prototype.i=function(u){return function(){return u}}({});function rs(u,p){ve.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(rs,ve),n=rs.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Zn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Jn(this):Zn(this),this.readyState==3&&Ol(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Jn(this))},n.Qa=function(u){this.g&&(this.response=u,Jn(this))},n.ga=function(){this.g&&Jn(this)};function Jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vr(u){let p="";return Z(u,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function ui(u,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Vr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):et(u,p,y))}function lt(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(lt,ve);var Zc=/^https?$/i,ua=["POST","PUT"];n=lt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?Bs(this.o):Bs(Kn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){is(this,H);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)y.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())y.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),M=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ua,p,void 0))||w||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of y)this.g.setRequestHeader(H,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){is(this,H)}};function is(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,eo(u),_n(u)}function eo(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),_n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_n(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},n.bb=function(){ca(this)};function ca(u){if(u.h&&typeof c<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)Yt(u.Ea,0,u);else if(Re(u,"readystatechange"),rn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=oe===0){var M=String(u.D).match(ts)[1]||null;!M&&f.self&&f.self.location&&(M=f.self.location.protocol.slice(0,-1)),w=!Zc.test(M?M.toLowerCase():"")}y=w}if(y)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var H=2<rn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",eo(u)}}finally{_n(u)}}}}function _n(u,p){if(u.g){to(u);const y=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Re(u,"ready");try{y.onreadystatechange=w}catch{}}}function to(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Jo(p)}};function ha(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function no(u){const p={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(K(u[w]))continue;var y=k(u[w]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=p[M]||[];p[M]=H,H.push(y)}P(p,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function fa(u){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,u),this.cb=pr("retryDelaySeedMs",1e4,u),this.Wa=pr("forwardChannelMaxRetries",2,u),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new es(u&&u.concurrentRequestLimit),this.Da=new Jc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fa.prototype,n.la=8,n.G=1,n.connect=function(u,p,y,w){vt(0),this.W=u,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Ll(this,null,this.W),mr(this)};function Ft(u){if(ro(u),u.G==3){var p=u.U++,y=vn(u.I);if(et(y,"SID",u.K),et(y,"RID",p),et(y,"TYPE","terminate"),Fr(u,y),p=new Qn(u,u.j,p),p.L=2,p.v=oi(vn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=jl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),nt(p)}Ml(u)}function er(u){u.g&&(da(u),u.g.cancel(),u.g=null)}function ro(u){er(u),u.u&&(f.clearTimeout(u.u),u.u=null),oo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function mr(u){if(!yn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Oe||ae(),ne||(Oe(),ne=!0),me.add(p,u),u.B=0}}function eh(u,p){return Al(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gn(I(u.Ga,u,p),Fl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Qn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),x(H,this.S)):H=this.S),this.m!==null||this.O||(M.H=H,H=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=ci(this,M,p),y=vn(this.I),et(y,"RID",u),et(y,"CVER",22),this.D&&et(y,"X-HTTP-Session-Id",this.D),Fr(this,y),H&&(this.O?p="headers="+encodeURIComponent(String(Vr(H)))+"&"+p:this.m&&ui(y,this.m,H)),aa(this.h,M),this.Ua&&et(y,"TYPE","init"),this.P?(et(y,"$req",p),et(y,"SID","null"),M.T=!0,Ys(M,y,null)):Ys(M,y,p),this.G=2}}else this.G==3&&(u?io(this,u):this.i.length==0||yn(this.h)||io(this))};function io(u,p){var y;p?y=p.l:y=u.U++;const w=vn(u.I);et(w,"SID",u.K),et(w,"RID",y),et(w,"AID",u.T),Fr(u,w),u.m&&u.o&&ui(w,u.m,u.o),y=new Qn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ci(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),aa(u.h,y),Ys(y,w,p)}function Fr(u,p){u.H&&Z(u.H,function(y,w){et(p,w,y)}),u.l&&ri({},function(y,w){et(p,w,y)})}function ci(u,p,y){y=Math.min(u.i.length,y);var w=u.l?I(u.l.Na,u.l,u):null;e:{var M=u.i;let H=-1;for(;;){const oe=["count="+y];H==-1?0<y?(H=M[0].g,oe.push("ofs="+H)):H=0:oe.push("ofs="+H);let Ye=!0;for(let It=0;It<y;It++){let Ue=M[It].g;const xt=M[It].map;if(Ue-=H,0>Ue)H=Math.max(0,M[It].g-100),Ye=!1;else try{Nl(xt,oe,"req"+Ue+"_")}catch{w&&w(xt)}}if(Ye){w=oe.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,w}function ss(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Oe||ae(),ne||(Oe(),ne=!0),me.add(p,u),u.v=0}}function so(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gn(I(u.Fa,u),Fl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Vl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),er(this),Vl(this))};function da(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Vl(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=vn(u.qa);et(p,"RID","rpc"),et(p,"SID",u.K),et(p,"AID",u.T),et(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(p,"TO",u.ja),et(p,"TYPE","xmlhttp"),Fr(u,p),u.m&&u.o&&ui(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=oi(vn(p)),y.m=null,y.P=!0,sa(y,u)}n.Za=function(){this.C!=null&&(this.C=null,er(this),so(this),vt(19))};function oo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function ao(u,p){var y=null;if(u.g==p){oo(u),da(u),u.g=null;var w=2}else if(Xt(u.h,p))y=p.D,Cl(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;w=Qi(),Re(w,new Gs(w,y)),mr(u)}else ss(u);else if(M=p.s,M==3||M==0&&0<p.X||!(w==1&&eh(u,p)||w==2&&so(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),M){case 1:Mr(u,5);break;case 4:Mr(u,10);break;case 3:Mr(u,6);break;default:Mr(u,2)}}}function Fl(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Mr(u,p){if(u.j.info("Error code "+p),p==2){var y=I(u.fb,u),w=u.Xa;const M=!w;w=new Nr(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ns(w,"https"),oi(w),M?Xc(w.toString(),y):bl(w.toString(),y)}else vt(2);u.G=0,u.l&&u.l.sa(p),Ml(u),ro(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ml(u){if(u.G=0,u.ka=[],u.l){const p=Rl(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ka,p),F(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Ll(u,p,y){var w=y instanceof Nr?vn(y):new Nr(y);if(w.g!="")p&&(w.g=p+"."+w.g),ii(w,w.s);else{var M=f.location;w=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var H=new Nr(null);w&&ns(H,w),p&&(H.g=p),M&&ii(H,M),y&&(H.l=y),w=H}return y=u.D,p=u.ya,y&&p&&et(w,y,p),et(w,"VER",u.la),Fr(u,w),w}function jl(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new lt(new Or({eb:y})):new lt(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pa(){}n=pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(u,p){return new Jt(u,p)};function Jt(u,p){ve.call(this),this.g=new fa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!K(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!K(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new gr(this)}$(Jt,ve),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Ft(this.g)},Jt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Wi(u),u=y);p.i.push(new Il(p.Ya++,u)),p.G==3&&mr(p)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,Jt.aa.N.call(this)};function $l(u){cr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}$($l,cr);function Ul(){Hs.call(this),this.status=1}$(Ul,Hs);function gr(u){this.g=u}$(gr,pa),gr.prototype.ua=function(){Re(this.g,"a")},gr.prototype.ta=function(u){Re(this.g,new $l(u))},gr.prototype.sa=function(u){Re(this.g,new Ul)},gr.prototype.ra=function(){Re(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,o0=function(){return new lo},s0=function(){return Qi()},i0=hr,ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,Hu=Ks,El.COMPLETE="complete",r0=El,qs.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,$a=qs,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,n0=lt}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const ey="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Dd("@firebase/firestore");function bo(){return Ps.logLevel}function he(n,...e){if(Ps.logLevel<=Be.DEBUG){const t=e.map(Nd);Ps.debug(`Firestore (${Wo}): ${n}`,...t)}}function Yr(n,...e){if(Ps.logLevel<=Be.ERROR){const t=e.map(Nd);Ps.error(`Firestore (${Wo}): ${n}`,...t)}}function Lo(n,...e){if(Ps.logLevel<=Be.WARN){const t=e.map(Nd);Ps.warn(`Firestore (${Wo}): ${n}`,...t)}}function Nd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+n;throw Yr(e),new Error(e)}function Ke(n,e){n||ke()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class MT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LT{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new As;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new As,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new As)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new a0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Kt(e)}}class jT{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $T{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new jT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ke(this.o===void 0);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new UT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=BT(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function $e(n,e){return n<e?-1:n>e?1:0}function jo(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Pt(0,0))}static max(){return new De(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,s){t===void 0?t=0:t>e.length&&ke(),s===void 0?s=e.length-t:s>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ht extends el{construct(e,t,s){return new ht(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const qT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends el{construct(e,t,s){return new Ut(e,t,s)}static isValidIdentifier(e){return qT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Se(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Se(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Se(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(s+=f,o++):(l(),o++)}if(l(),c)throw new Se(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ht.fromString(e))}static fromName(e){return new Ce(ht.fromString(e).popFirst(5))}static empty(){return new Ce(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ht(e.slice()))}}function HT(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=De.fromTimestamp(s===1e9?new Pt(t+1,0):new Pt(t,s));return new Vi(o,Ce.empty(),e)}function GT(n){return new Vi(n.readTime,n.key,-1)}class Vi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vi(De.min(),Ce.empty(),-1)}static max(){return new Vi(De.max(),Ce.empty(),-1)}}function WT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==KT)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,s)=>{t(e)})}static reject(e){return new Y((t,s)=>{s(e)})}static waitFor(e){return new Y((t,s)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},m=>s(m))}),c=!0,l===o&&t()})}static or(e){let t=Y.resolve(!1);for(const s of e)t=t.next(o=>o?Y.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Y((s,o)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next(E=>{c[v]=E,++f,f===l&&s(c)},E=>o(E))}})}static doWhile(e,t){return new Y((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function YT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tc.oe=-1;function Sc(n){return n==null}function ic(n){return n===0&&1/n==-1/0}function XT(n){return typeof n=="number"&&Number.isInteger(n)&&!ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ty(e)),e=ZT(n.get(t),e);return ty(e)}function ZT(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function ty(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=l??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,s,o,l){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ry(this.data.getIterator())}getIteratorFrom(e){return new ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new In([])}unionWith(e){let t=new kt(Ut.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new c0("Invalid base64 string: "+l):l}}(e);return new zt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const eS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=eS.exec(n);if(Ke(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Mi(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ic(n){const e=n.mapValue.fields.__previous_value__;return Od(e)?Ic(e):e}function tl(n){const e=Fi(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,s,o,l,c,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class nl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Li(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Od(n)?4:rS(n)?9007199254740991:nS(n)?10:11:ke()}function Cr(n,e){if(n===e)return!0;const t=Li(n);if(t!==Li(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tl(n).isEqual(tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Fi(o.timestampValue),f=Fi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Mi(o.bytesValue).isEqual(Mi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return Et(o.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Et(o.integerValue)===Et(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Et(o.doubleValue),f=Et(l.doubleValue);return c===f?ic(c)===ic(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return jo(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(ny(c)!==ny(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Cr(c[m],f[m])))return!1;return!0}(n,e);default:return ke()}}function rl(n,e){return(n.values||[]).find(t=>Cr(t,e))!==void 0}function $o(n,e){if(n===e)return 0;const t=Li(n),s=Li(e);if(t!==s)return $e(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Et(l.integerValue||l.doubleValue),m=Et(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return iy(n.timestampValue,e.timestampValue);case 4:return iy(tl(n),tl(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Mi(l),m=Mi(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let v=0;v<f.length&&v<m.length;v++){const E=$e(f[v],m[v]);if(E!==0)return E}return $e(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=$e(Et(l.latitude),Et(c.latitude));return f!==0?f:$e(Et(l.longitude),Et(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,v,E;const T=l.fields||{},I=c.fields||{},b=(f=T.value)===null||f===void 0?void 0:f.arrayValue,$=(m=I.value)===null||m===void 0?void 0:m.arrayValue,j=$e(((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0,((E=$==null?void 0:$.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:sy(b,$)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Mu.mapValue&&c===Mu.mapValue)return 0;if(l===Mu.mapValue)return 1;if(c===Mu.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),v=c.fields||{},E=Object.keys(v);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const I=$e(m[T],E[T]);if(I!==0)return I;const b=$o(f[m[T]],v[E[T]]);if(b!==0)return b}return $e(m.length,E.length)}(n.mapValue,e.mapValue);default:throw ke()}}function iy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Fi(n),s=Fi(e),o=$e(t.seconds,s.seconds);return o!==0?o:$e(t.nanos,s.nanos)}function sy(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=$o(t[o],s[o]);if(l)return l}return $e(t.length,s.length)}function Uo(n){return td(n)}function td(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Fi(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Mi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=td(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${td(t.fields[c])}`;return o+"}"}(n.mapValue):ke()}function Gu(n){switch(Li(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ic(n);return e?16+Gu(e):16;case 5:return 2*n.stringValue.length;case 6:return Mi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Gu(l),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return zi(s.fields,(l,c)=>{o+=l.length+Gu(c)}),o}(n.mapValue);default:throw ke()}}function nd(n){return!!n&&"integerValue"in n}function Vd(n){return!!n&&"arrayValue"in n}function oy(n){return!!n&&"nullValue"in n}function ay(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wu(n){return!!n&&"mapValue"in n}function nS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ha(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zi(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ha(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ha(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Wu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(t)}setAll(e){let t=Ut.emptyPath(),s={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=f.popLast()}c?s[f.lastSegment()]=Ha(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Wu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){zi(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new pn(Ha(this.value))}}function h0(n){const e=[];return zi(n.fields,(t,s)=>{const o=new Ut([t]);if(Wu(s)){const l=h0(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,s,o,l,c,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,De.min(),De.min(),De.min(),pn.empty(),0)}static newFoundDocument(e,t,s,o){return new Qt(e,1,t,De.min(),s,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,De.min(),De.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,De.min(),De.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.position=e,this.inclusive=t}}function ly(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=Ce.comparator(Ce.fromName(c.referenceValue),t.key):s=$o(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function uy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function iS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{}class Rt extends f0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new oS(e,t,s):t==="array-contains"?new uS(e,s):t==="in"?new cS(e,s):t==="not-in"?new hS(e,s):t==="array-contains-any"?new fS(e,s):new Rt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new aS(e,s):new lS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($o(t,this.value)):t!==null&&Li(this.value)===Li(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends f0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Rr(e,t)}matches(e){return d0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d0(n){return n.op==="and"}function p0(n){return sS(n)&&d0(n)}function sS(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function rd(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Uo(n.value);if(p0(n))return n.filters.map(e=>rd(e)).join(",");{const e=n.filters.map(t=>rd(t)).join(",");return`${n.op}(${e})`}}function m0(n,e){return n instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Cr(s.value,o.value)}(n,e):n instanceof Rr?function(s,o){return o instanceof Rr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,f)=>l&&m0(c,o.filters[f]),!0):!1}(n,e):void ke()}function g0(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`}(n):n instanceof Rr?function(t){return t.op.toString()+" {"+t.getFilters().map(g0).join(" ,")+"}"}(n):"Filter"}class oS extends Rt{constructor(e,t,s){super(e,t,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class aS extends Rt{constructor(e,t){super(e,"in",t),this.keys=y0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lS extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=y0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function y0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ce.fromName(s.referenceValue))}class uS extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vd(t)&&rl(t.arrayValue,this.value)}}class cS extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rl(this.value.arrayValue,t)}}class hS extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rl(this.value.arrayValue,t)}}class fS extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>rl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t=null,s=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function cy(n,e=null,t=[],s=[],o=null,l=null,c=null){return new dS(n,e,t,s,o,l,c)}function Fd(n){const e=be(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>rd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Sc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Uo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Uo(s)).join(",")),e.ue=t}return e.ue}function Md(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!m0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uy(n.startAt,e.startAt)&&uy(n.endAt,e.endAt)}function id(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t=null,s=[],o=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pS(n,e,t,s,o,l,c,f){return new Ac(n,e,t,s,o,l,c,f)}function Ld(n){return new Ac(n)}function hy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mS(n){return n.collectionGroup!==null}function Ga(n){const e=be(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new kt(Ut.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new oc(l,s))}),t.has(Ut.keyField().canonicalString())||e.ce.push(new oc(Ut.keyField(),s))}return e.ce}function Sr(n){const e=be(n);return e.le||(e.le=gS(e,Ga(n))),e.le}function gS(n,e){if(n.limitType==="F")return cy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new oc(o.field,l)});const t=n.endAt?new sc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new sc(n.startAt.position,n.startAt.inclusive):null;return cy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function sd(n,e,t){return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cc(n,e){return Md(Sr(n),Sr(e))&&n.limitType===e.limitType}function v0(n){return`${Fd(Sr(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>g0(o)).join(", ")}]`),Sc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Uo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Uo(o)).join(",")),`Target(${s})`}(Sr(n))}; limitType=${n.limitType})`}function Rc(n,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ce.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,o){for(const l of Ga(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(c,f,m){const v=ly(c,f,m);return c.inclusive?v<=0:v<0}(s.startAt,Ga(s),o)||s.endAt&&!function(c,f,m){const v=ly(c,f,m);return c.inclusive?v>=0:v>0}(s.endAt,Ga(s),o))}(n,e)}function yS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _0(n){return(e,t)=>{let s=!1;for(const o of Ga(n)){const l=vS(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function vS(n,e,t){const s=n.field.isKeyField()?Ce.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),v=f.data.field(l);return m!==null&&v!==null?$o(m,v):ke()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new mt(Ce.comparator);function Xr(){return _S}const E0=new mt(Ce.comparator);function Ua(...n){let e=E0;for(const t of n)e=e.insert(t.key,t);return e}function w0(n){let e=E0;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ws(){return Wa()}function T0(){return Wa()}function Wa(){return new Os(n=>n.toString(),(n,e)=>n.isEqual(e))}const ES=new mt(Ce.comparator),wS=new kt(Ce.comparator);function Le(...n){let e=wS;for(const t of n)e=e.add(t);return e}const TS=new kt($e);function SS(){return TS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function S0(n){return{integerValue:""+n}}function IS(n,e){return XT(e)?S0(e):jd(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this._=void 0}}function AS(n,e,t){return n instanceof ac?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Od(l)&&(l=Ic(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof il?A0(n,e):n instanceof sl?C0(n,e):function(o,l){const c=I0(o,l),f=fy(c)+fy(o.Pe);return nd(c)&&nd(o.Pe)?S0(f):jd(o.serializer,f)}(n,e)}function CS(n,e,t){return n instanceof il?A0(n,e):n instanceof sl?C0(n,e):t}function I0(n,e){return n instanceof lc?function(s){return nd(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class ac extends Pc{}class il extends Pc{constructor(e){super(),this.elements=e}}function A0(n,e){const t=R0(e);for(const s of n.elements)t.some(o=>Cr(o,s))||t.push(s);return{arrayValue:{values:t}}}class sl extends Pc{constructor(e){super(),this.elements=e}}function C0(n,e){let t=R0(e);for(const s of n.elements)t=t.filter(o=>!Cr(o,s));return{arrayValue:{values:t}}}class lc extends Pc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function fy(n){return Et(n.integerValue||n.doubleValue)}function R0(n){return Vd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RS(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof il&&o instanceof il||s instanceof sl&&o instanceof sl?jo(s.elements,o.elements,Cr):s instanceof lc&&o instanceof lc?Cr(s.Pe,o.Pe):s instanceof ac&&o instanceof ac}(n.transform,e.transform)}class PS{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kc{}function P0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $d(n.key,ar.none()):new dl(n.key,n.data,ar.none());{const t=n.data,s=pn.empty();let o=new kt(Ut.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Bi(n.key,s,new In(o.toArray()),ar.none())}}function kS(n,e,t){n instanceof dl?function(o,l,c){const f=o.value.clone(),m=py(o.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Bi?function(o,l,c){if(!Ku(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=py(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(k0(o)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ka(n,e,t,s){return n instanceof dl?function(l,c,f,m){if(!Ku(l.precondition,c))return f;const v=l.value.clone(),E=my(l.fieldTransforms,m,c);return v.setAll(E),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(n,e,t,s):n instanceof Bi?function(l,c,f,m){if(!Ku(l.precondition,c))return f;const v=my(l.fieldTransforms,m,c),E=c.data;return E.setAll(k0(l)),E.setAll(v),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,s):function(l,c,f){return Ku(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function xS(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=I0(s.transform,o||null);l!=null&&(t===null&&(t=pn.empty()),t.set(s.field,l))}return t||null}function dy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,(l,c)=>RS(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class dl extends kc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bi extends kc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function k0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function py(n,e,t){const s=new Map;Ke(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);s.set(l.field,CS(c,f,t[o]))}return s}function my(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,AS(l,c,e))}return s}class $d extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DS extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&kS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ka(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ka(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=T0();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const m=P0(c,f);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(De.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,s)=>dy(t,s))&&jo(this.baseMutations,e.baseMutations,(t,s)=>dy(t,s))}}class Ud{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length);let o=function(){return ES}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Ud(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ze;function VS(n){switch(n){default:return ke();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function x0(n){if(n===void 0)return Yr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return ke()}}(ze=St||(St={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new Is([4294967295,4294967295],0);function gy(n){const e=FS().encode(n),t=new t0;return t.update(e),new Uint8Array(t.digest())}function yy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([t,s],0),new Is([o,l],0)]}class zd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new za(`Invalid padding: ${t}`);if(s<0)throw new za(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new za(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Is.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(Is.fromNumber(s)));return o.compare(MS)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=gy(e),[s,o]=yy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);if(!this.de(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new zd(l,o,t);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const t=gy(e),[s,o]=yy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xc(De.min(),o,new mt($e),Xr(),Le())}}class pl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pl(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class D0{constructor(e,t){this.targetId=e,this.me=t}}class b0{constructor(e,t,s=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class vy{constructor(){this.fe=0,this.ge=_y(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),s=Le();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ke()}}),new pl(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=_y()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class LS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=Lu(),this.Qe=Lu(),this.Ke=new mt($e)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(id(l))if(s===0){const c=new Ce(l.path);this.We(t,c,Qt.newNoDocument(c,De.min()))}else Ke(s===1);else{const c=this.Ze(t);if(c!==s){const f=this.Xe(e),m=f?this.et(f,e,c):1;if(m!==0){this.He(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Mi(s).toUint8Array()}catch(m){if(m instanceof c0)return Lo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new zd(c,o,l)}catch(m){return Lo(m instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.Le.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const f=this.Ye(c);if(f){if(l.current&&id(f.target)){const m=new Ce(f.target.path);this.st(m).has(c)||this.ot(c,m)||this.We(c,m,Qt.newNoDocument(m,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let s=Le();this.Qe.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const v=this.Ye(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new xc(e,t,this.Ke,this.ke,s);return this.ke=Xr(),this.qe=Lu(),this.Qe=Lu(),this.Ke=new mt($e),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new vy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new kt($e),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt($e),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new vy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Lu(){return new mt(Ce.comparator)}function _y(){return new mt(Ce.comparator)}const jS={asc:"ASCENDING",desc:"DESCENDING"},$S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},US={and:"AND",or:"OR"};class zS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function od(n,e){return n.useProto3Json||Sc(e)?e:{value:e}}function uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BS(n,e){return uc(n,e.toTimestamp())}function Ir(n){return Ke(!!n),De.fromTimestamp(function(t){const s=Fi(t);return new Pt(s.seconds,s.nanos)}(n))}function Bd(n,e){return ad(n,e).canonicalString()}function ad(n,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function O0(n){const e=ht.fromString(n);return Ke(j0(e)),e}function ld(n,e){return Bd(n.databaseId,e.path)}function xf(n,e){const t=O0(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(F0(t))}function V0(n,e){return Bd(n.databaseId,e)}function qS(n){const e=O0(n);return e.length===4?ht.emptyPath():F0(e)}function ud(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F0(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ey(n,e,t){return{name:ld(n,e),fields:t.value.mapValue.fields}}function HS(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(v,E){return v.useProto3Json?(Ke(E===void 0||typeof E=="string"),zt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array),zt.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(v){const E=v.code===void 0?ee.UNKNOWN:x0(v.code);return new Se(E,v.message||"")}(c);t=new b0(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xf(n,s.document.name),l=Ir(s.document.updateTime),c=s.document.createTime?Ir(s.document.createTime):De.min(),f=new pn({mapValue:{fields:s.document.fields}}),m=Qt.newFoundDocument(o,l,c,f),v=s.targetIds||[],E=s.removedTargetIds||[];t=new Qu(v,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xf(n,s.document),l=s.readTime?Ir(s.readTime):De.min(),c=Qt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new Qu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xf(n,s.document),l=s.removedTargetIds||[];t=new Qu([],l,o,null)}else{if(!("filter"in e))return ke();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new OS(o,l),f=s.targetId;t=new D0(f,c)}}return t}function GS(n,e){let t;if(e instanceof dl)t={update:Ey(n,e.key,e.value)};else if(e instanceof $d)t={delete:ld(n,e.key)};else if(e instanceof Bi)t={update:Ey(n,e.key,e.data),updateMask:tI(e.fieldMask)};else{if(!(e instanceof DS))return ke();t={verify:ld(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const f=c.transform;if(f instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof lc)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw ke()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:BS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke()}(n,e.precondition)),t}function WS(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?Ir(o.updateTime):Ir(l);return c.isEqual(De.min())&&(c=Ir(l)),new PS(c,o.transformResults||[])}(t,e))):[]}function KS(n,e){return{documents:[V0(n,e.path)]}}function QS(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=V0(n,o);const l=function(v){if(v.length!==0)return L0(Rr.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(v){if(v.length!==0)return v.map(E=>function(I){return{field:Oo(I.field),direction:JS(I.dir)}}(E))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=od(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:o}}function YS(n){let e=qS(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const I=M0(T);return I instanceof Rr&&p0(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function($){return new oc(Vo($.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(I))}(t.orderBy));let f=null;t.limit&&(f=function(T){let I;return I=typeof T=="object"?T.value:T,Sc(I)?null:I}(t.limit));let m=null;t.startAt&&(m=function(T){const I=!!T.before,b=T.values||[];return new sc(b,I)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const I=!T.before,b=T.values||[];return new sc(b,I)}(t.endAt)),pS(e,o,c,l,f,"F",m,v)}function XS(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Vo(t.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(t.unaryFilter.field);return Rt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(t.unaryFilter.field);return Rt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(Vo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rr.create(t.compositeFilter.filters.map(s=>M0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function JS(n){return jS[n]}function ZS(n){return $S[n]}function eI(n){return US[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Vo(n){return Ut.fromServerFormat(n.fieldPath)}function L0(n){return n instanceof Rt?function(t){if(t.op==="=="){if(ay(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(oy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ay(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(oy(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:ZS(t.op),value:t.value}}}(n):n instanceof Rr?function(t){const s=t.getFilters().map(o=>L0(o));return s.length===1?s[0]:{compositeFilter:{op:eI(t.op),filters:s}}}(n):ke()}function tI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t,s,o,l=De.min(),c=De.min(),f=zt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.ht=e}}function rI(n){const e=YS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.ln=new sI}addToCollectionParentIndex(e,t){return this.ln.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Vi.min())}updateCollectionGroup(e,t,s){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class sI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(ht.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new zo(0)}static Qn(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty([n,e],[t,s]){const o=$e(n,t);return o===0?$e(e,s):o}class oI{constructor(e){this.Gn=e,this.buffer=new kt(Ty),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ty(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ko(t)}await this.Yn(3e5)})}}class lI{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Tc.oe);const s=new oI(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(wy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,c,f,m,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(v=Date.now(),bo()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(v-m)+`ms
Total Duration: ${v-E}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function uI(n,e){return new lI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.changes=new Os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ka(s.mutation,o,In.empty(),Pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Ua();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=ws();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,s,o){let l=Xr();const c=Wa(),f=function(){return Wa()}();return t.forEach((m,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Bi)?l=l.insert(v.key,v):E!==void 0?(c.set(v.key,E.mutation.getFieldMask()),Ka(E.mutation,v,E.mutation.getFieldMask(),Pt.now())):c.set(v.key,In.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((v,E)=>c.set(v,E)),t.forEach((v,E)=>{var T;return f.set(v,new hI(E,(T=c.get(v))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Wa();let o=new mt((c,f)=>c-f),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const v=t.get(m);if(v===null)return;let E=s.get(m)||In.empty();E=f.applyToLocalView(v,E),s.set(m,E);const T=(o.get(f.batchId)||Le()).add(m);o=o.insert(f.batchId,T)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,E=m.value,T=T0();E.forEach(I=>{if(!l.has(I)){const b=P0(t.get(I),s.get(I));b!==null&&T.set(I,b),l=l.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Y.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Y.resolve(ws());let f=-1,m=l;return c.next(v=>Y.forEach(v,(E,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(E)?Y.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{m=m.insert(E,I)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,m,v,Le())).next(E=>({batchId:f,changes:w0(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(s=>{let o=Ua();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Ua();return this.indexManager.getCollectionParents(e,l).next(f=>Y.forEach(f,m=>{const v=function(T,I){return new Ac(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(E=>{E.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((m,v)=>{const E=v.getKey();c.get(E)===null&&(c=c.insert(E,Qt.newInvalidDocument(E)))});let f=Ua();return c.forEach((m,v)=>{const E=l.get(m);E!==void 0&&Ka(E.mutation,v,In.empty(),Pt.now()),Rc(t,v)&&(f=f.insert(m,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Y.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ir(o.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:rI(o.bundledQuery),readTime:Ir(o.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.overlays=new mt(Ce.comparator),this.Er=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ws();return Y.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),Y.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),Y.resolve()}getOverlaysForCollection(e,t,s){const o=ws(),l=t.length+1,c=new Ce(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new mt((v,E)=>v-E);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let E=l.get(v.largestBatchId);E===null&&(E=ws(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=ws(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,E)=>f.set(v,E)),!(f.size()>=o)););return Y.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new NS(t,s));let l=this.Er.get(t);l===void 0&&(l=Le(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.dr=new kt(Ot.Ar),this.Rr=new kt(Ot.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new Ot(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Ot(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new Ce(new ht([])),s=new Ot(t,e),o=new Ot(t,e+1),l=[];return this.Rr.forEachInRange([s,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ce(new ht([])),s=new Ot(t,e),o=new Ot(t,e+1);let l=Le();return this.Rr.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ot(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ot{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ce.comparator(e.key,t.key)||$e(e.br,t.br)}static Vr(e,t){return $e(e.br,t.br)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new kt(Ot.Ar)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bS(l,t,s,o);this.mutationQueue.push(c);for(const f of o)this.vr=this.vr.add(new Ot(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ot(t,0),o=new Ot(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],c=>{const f=this.Cr(c.br);l.push(f)}),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt($e);return t.forEach(o=>{const l=new Ot(o,0),c=new Ot(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],f=>{s=s.add(f.br)})}),Y.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ce.isDocumentKey(l)||(l=l.child(""));const c=new Ot(new Ce(l),0);let f=new kt($e);return this.vr.forEachWhile(m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(m.br)),!0)},c),Y.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Y.forEach(t.mutations,o=>{const l=new Ot(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new Ot(t,0),o=this.vr.firstAfterOrEqual(s);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.Nr=e,this.docs=function(){return new mt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Y.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let s=Xr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Qt.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Xr();const c=t.path,f=new Ce(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:E}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||WT(GT(E),s)<=0||(o.has(E.key)||Rc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,s,o){ke()}Lr(e,t){return Y.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new vI(this)}getSize(e){return Y.resolve(this.size)}}class vI extends cI{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),Y.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.persistence=e,this.Br=new Os(t=>Fd(t),Md),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.kr=0,this.qr=new qd,this.targetCount=0,this.Qr=zo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),Y.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Un(t),Y.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((c,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Y.waitFor(l).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return Y.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),Y.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return Y.resolve(s)}containsKey(e,t){return Y.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Tc(0),this.Ur=!1,this.Ur=!0,this.Wr=new mI,this.referenceDelegate=e(this),this.Gr=new _I(this),this.indexManager=new iI,this.remoteDocumentCache=function(o){return new yI(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new nI(t),this.jr=new dI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new gI(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new EI(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Y.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class EI extends QT{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Zr=new qd,this.Xr=null}static ei(e){return new Hd(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),Y.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ti,s=>{const o=Ce.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,De.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Y.or([()=>Y.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class cc{constructor(e,t){this.persistence=e,this.ri=new Os(s=>JT(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=uI(this,t)}static ei(e,t){return new cc(e,t)}Hr(){}Jr(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return Y.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?Y.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(f=>{f||(s++,l.removeEntry(c,De.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gu(e.data.value)),t}ir(e,t,s){return Y.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Le(),o=Le();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Gd(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Ew()?8:YT(yw())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new wI;return this.ts(e,t,c).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,c,f.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(bo()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Y.resolve()):(bo()<=Be.DEBUG&&he("QueryEngine","Query:",No(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(bo()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Y.resolve())}Xi(e,t){if(hy(t))return Y.resolve(null);let s=Sr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sd(t,null,"F"),s=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Le(...l);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const v=this.rs(t,f);return this.ss(t,v,c,m.readTime)?this.Xi(e,sd(t,null,"F")):this.os(e,v,t,m)}))})))}es(e,t,s,o){return hy(t)||o.isEqual(De.min())?Y.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const c=this.rs(t,l);return this.ss(t,c,s,o)?Y.resolve(null):(bo()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(t)),this.os(e,c,t,HT(o,-1)).next(f=>f))})}rs(e,t){let s=new kt(_0(e));return t.forEach((o,l)=>{Rc(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return bo()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",No(t)),this.Zi.getDocumentsMatchingQuery(e,t,Vi.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new mt($e),this.cs=new Os(l=>Fd(l),Md),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function II(n,e,t,s){return new SI(n,e,t,s)}async function U0(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let m=Le();for(const v of o){c.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}for(const v of l){f.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(s,m).next(v=>({Ts:v,removedBatchIds:c,addedBatchIds:f}))})})}function AI(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,m,v,E){const T=v.batch,I=T.keys();let b=Y.resolve();return I.forEach($=>{b=b.next(()=>E.getEntry(m,$)).next(j=>{const F=v.docVersions.get($);Ke(F!==null),j.version.compareTo(F)<0&&(T.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),E.addEntry(j)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(m,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Le();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(m=m.add(f.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function z0(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function CI(n,e){const t=be(n),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((E,T)=>{const I=o.get(T);if(!I)return;f.push(t.Gr.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,E.addedDocuments,T)));let b=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?b=b.withResumeToken(zt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):E.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(E.resumeToken,s)),o=o.insert(T,b),function(j,F,z){return j.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(I,b,E)&&f.push(t.Gr.updateTargetData(l,b))});let m=Xr(),v=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(RI(l,c,e.documentUpdates).next(E=>{m=E.Is,v=E.Es})),!s.isEqual(De.min())){const E=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(E)}return Y.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,v)).next(()=>m)}).then(l=>(t.us=o,l))}function RI(n,e,t){let s=Le(),o=Le();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let c=Xr();return t.forEach((f,m)=>{const v=l.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(De.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):he("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{Is:c,Es:o}})}function PI(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kI(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,Y.resolve(o)):t.Gr.allocateTargetId(s).next(c=>(o=new Ci(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function cd(n,e,t){const s=be(n),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Qo(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Sy(n,e,t){const s=be(n);let o=De.min(),l=Le();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,v,E){const T=be(m),I=T.cs.get(E);return I!==void 0?Y.resolve(T.us.get(I)):T.Gr.getTargetData(v,E)}(s,c,Sr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>s._s.getDocumentsMatchingQuery(c,e,t?o:De.min(),t?l:Le())).next(f=>(xI(s,yS(e),f),{documents:f,ds:l})))}function xI(n,e,t){let s=n.ls.get(e)||De.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.ls.set(e,s)}class Iy{constructor(){this.activeTargetIds=SS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DI{constructor(){this._o=new Iy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Iy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Df(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class VI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,c){const f=Df(),m=this.No(t,s.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${f}:`,m,o);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,l,c),this.Bo(t,m,v,o).then(E=>(he("RestConnection",`Received RPC '${t}' ${f}: `,E),E),E=>{throw Lo("RestConnection",`RPC '${t}' ${f} failed with error: `,E,"url: ",m,"request:",o),E})}ko(t,s,o,l,c,f){return this.Oo(t,s,o,l,c)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,s){const o=NI[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=Df();return new Promise((c,f)=>{const m=new n0;m.setWithCredentials(!0),m.listenOnce(r0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Hu.NO_ERROR:const E=m.getResponseJson();he(Wt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),c(E);break;case Hu.TIMEOUT:he(Wt,`RPC '${e}' ${l} timed out`),f(new Se(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const T=m.getStatus();if(he(Wt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const b=I==null?void 0:I.error;if(b&&b.status&&b.message){const $=function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(z)>=0?z:ee.UNKNOWN}(b.status);f(new Se($,b.message))}else f(new Se(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Se(ee.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{he(Wt,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(o);he(Wt,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",v,s,15)})}qo(e,t,s){const o=Df(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=o0(),f=s0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Lo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const E=l.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,m);const T=c.createWebChannel(E,m);let I=!1,b=!1;const $=new OI({Eo:F=>{b?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(I||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Ao:()=>T.close()}),j=(F,z,K)=>{F.listen(z,Q=>{try{K(Q)}catch(se){setTimeout(()=>{throw se},0)}})};return j(T,$a.EventType.OPEN,()=>{b||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),$.So())}),j(T,$a.EventType.CLOSE,()=>{b||(b=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),$.Do())}),j(T,$a.EventType.ERROR,F=>{b||(b=!0,Lo(Wt,`RPC '${e}' stream ${o} transport errored:`,F),$.Do(new Se(ee.UNAVAILABLE,"The operation could not be completed")))}),j(T,$a.EventType.MESSAGE,F=>{var z;if(!b){const K=F.data[0];Ke(!!K);const Q=K,se=(Q==null?void 0:Q.error)||((z=Q[0])===null||z===void 0?void 0:z.error);if(se){he(Wt,`RPC '${e}' stream ${o} received error:`,se);const W=se.status;let Z=function(A){const x=St[A];if(x!==void 0)return x0(x)}(W),P=se.message;Z===void 0&&(Z=ee.INTERNAL,P="Unknown error status: "+W+" with message "+se.message),b=!0,$.Do(new Se(Z,P)),T.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,K),$.vo(K)}}),j(f,i0.STAT_EVENT,F=>{F.stat===ed.PROXY?he(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===ed.NOPROXY&&he(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.bo()},0),$}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){return new zS(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t,s,o,l,c,f,m){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new B0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new Se(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FI extends q0{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=HS(this.serializer,e),s=function(l){if(!("targetChange"in l))return De.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?Ir(c.readTime):De.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=ud(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=id(m)?{documents:KS(l,m)}:{query:QS(l,m).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=N0(l,c.resumeToken);const v=od(l,c.expectedCount);v!==null&&(f.expectedCount=v)}else if(c.snapshotVersion.compareTo(De.min())>0){f.readTime=uc(l,c.snapshotVersion.toTimestamp());const v=od(l,c.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=XS(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=ud(this.serializer),t.removeTarget=e,this.c_(t)}}class MI extends q0{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=WS(e.writeResults,e.commitTime),s=Ir(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=ud(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>GS(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Se(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,ad(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ee.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,ad(t,s),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ee.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class jI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Yr(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{s.enqueueAndForget(async()=>{Vs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(m){const v=be(m);v.k_.add(4),await ml(v),v.K_.set("Unknown"),v.k_.delete(4),await bc(v)}(this))})}),this.K_=new jI(s,o)}}async function bc(n){if(Vs(n))for(const e of n.q_)await e(!0)}async function ml(n){for(const e of n.q_)await e(!1)}function H0(n,e){const t=be(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Yd(t)?Qd(t):Yo(t).s_()&&Kd(t,e))}function Wd(n,e){const t=be(n),s=Yo(t);t.B_.delete(e),s.s_()&&G0(t,e),t.B_.size===0&&(s.s_()?s.a_():Vs(t)&&t.K_.set("Unknown"))}function Kd(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(n).V_(e)}function G0(n,e){n.U_.xe(e),Yo(n).m_(e)}function Qd(n){n.U_=new LS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Yo(n).start(),n.K_.F_()}function Yd(n){return Vs(n)&&!Yo(n).i_()&&n.B_.size>0}function Vs(n){return be(n).k_.size===0}function W0(n){n.U_=void 0}async function UI(n){n.K_.set("Online")}async function zI(n){n.B_.forEach((e,t)=>{Kd(n,e)})}async function BI(n,e){W0(n),Yd(n)?(n.K_.O_(e),Qd(n)):n.K_.set("Unknown")}async function qI(n,e,t){if(n.K_.set("Online"),e instanceof b0&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(s){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hc(n,s)}else if(e instanceof Qu?n.U_.$e(e):e instanceof D0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(De.min()))try{const s=await z0(n.localStore);t.compareTo(s)>=0&&await function(l,c){const f=l.U_.it(c);return f.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const E=l.B_.get(v);E&&l.B_.set(v,E.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,v)=>{const E=l.B_.get(m);if(!E)return;l.B_.set(m,E.withResumeToken(zt.EMPTY_BYTE_STRING,E.snapshotVersion)),G0(l,m);const T=new Ci(E.target,m,v,E.sequenceNumber);Kd(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(s){he("RemoteStore","Failed to raise snapshot:",s),await hc(n,s)}}async function hc(n,e,t){if(!Qo(e))throw e;n.k_.add(1),await ml(n),n.K_.set("Offline"),t||(t=()=>z0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await bc(n)})}function K0(n,e){return e().catch(t=>hc(n,t,e))}async function Nc(n){const e=be(n),t=ji(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;HI(e);)try{const o=await PI(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,GI(e,o)}catch(o){await hc(e,o)}Q0(e)&&Y0(e)}function HI(n){return Vs(n)&&n.L_.length<10}function GI(n,e){n.L_.push(e);const t=ji(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Q0(n){return Vs(n)&&!ji(n).i_()&&n.L_.length>0}function Y0(n){ji(n).start()}async function WI(n){ji(n).w_()}async function KI(n){const e=ji(n);for(const t of n.L_)e.g_(t.mutations)}async function QI(n,e,t){const s=n.L_.shift(),o=Ud.from(s,e,t);await K0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Nc(n)}async function YI(n,e){e&&ji(n).f_&&await async function(s,o){if(function(c){return VS(c)&&c!==ee.ABORTED}(o.code)){const l=s.L_.shift();ji(s).__(),await K0(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Nc(s)}}(n,e),Q0(n)&&Y0(n)}async function Cy(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const s=Vs(t);t.k_.add(3),await ml(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await bc(t)}async function XI(n,e){const t=be(n);e?(t.k_.delete(2),await bc(t)):e||(t.k_.add(2),await ml(t),t.K_.set("Unknown"))}function Yo(n){return n.W_||(n.W_=function(t,s,o){const l=be(t);return l.b_(),new FI(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:UI.bind(null,n),mo:zI.bind(null,n),po:BI.bind(null,n),R_:qI.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Yd(n)?Qd(n):n.K_.set("Unknown")):(await n.W_.stop(),W0(n))})),n.W_}function ji(n){return n.G_||(n.G_=function(t,s,o){const l=be(t);return l.b_(),new MI(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:WI.bind(null,n),po:YI.bind(null,n),p_:KI.bind(null,n),y_:QI.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Nc(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,f=new Xd(e,t,c,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jd(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),Qo(n))return new Se(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ce.comparator(t.key,s.key):(t,s)=>Ce.comparator(t.key,s.key),this.keyedMap=Ua(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.z_=new mt(Ce.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Bo{constructor(e,t,s,o,l,c,f,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Bo(e,t,Mo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ZI{constructor(){this.queries=Py(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=be(t),l=o.queries;o.queries=Py(),l.forEach((c,f)=>{for(const m of f.J_)m.onError(s)})})(this,new Se(ee.ABORTED,"Firestore shutting down"))}}function Py(){return new Os(n=>v0(n),Cc)}async function eA(n,e){const t=be(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new JI,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Jd(c,`Initialization of query '${No(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Zd(t)}async function tA(n,e){const t=be(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function nA(n,e){const t=be(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.J_)f.ta(o)&&(s=!0);c.H_=o}}s&&Zd(t)}function rA(n,e,t){const s=be(n),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function Zd(n){n.X_.forEach(e=>{e.next()})}var hd,ky;(ky=hd||(hd={})).na="default",ky.Cache="cache";class iA{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.key=e}}class J0{constructor(e){this.key=e}}class sA{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=_0(e),this.ma=new Mo(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new Ry,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const I=o.get(E),b=Rc(this.query,T)?T:null,$=!!I&&this.mutatedKeys.has(I.key),j=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let F=!1;I&&b?I.data.isEqual(b.data)?$!==j&&(s.track({type:3,doc:b}),F=!0):this.ya(I,b)||(s.track({type:2,doc:b}),F=!0,(m&&this.Va(b,m)>0||v&&this.Va(b,v)<0)&&(f=!0)):!I&&b?(s.track({type:0,doc:b}),F=!0):I&&!b&&(s.track({type:1,doc:I}),F=!0,(m||v)&&(f=!0)),F&&(b?(c=c.add(b),l=j?l.add(E):l.delete(E)):(c=c.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{ma:c,pa:s,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((E,T)=>function(b,$){const j=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return j(b)-j($)}(E.type,T.type)||this.Va(E.doc,T.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],m=this.Ra.size===0&&this.current&&!o?1:0,v=m!==this.Aa;return this.Aa=m,c.length!==0||v?{snapshot:new Bo(this.query,e.ma,l,c,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ry,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new J0(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new X0(s))}),t}va(e){this.da=e.ds,this.Ra=Le();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Bo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class oA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class aA{constructor(e){this.key=e,this.Fa=!1}}class lA{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Os(f=>v0(f),Cc),this.Oa=new Map,this.Na=new Set,this.La=new mt(Ce.comparator),this.Ba=new Map,this.ka=new qd,this.qa={},this.Qa=new Map,this.Ka=zo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function uA(n,e,t=!0){const s=i_(n);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await Z0(s,e,t,!0),o}async function cA(n,e){const t=i_(n);await Z0(t,e,!0,!1)}async function Z0(n,e,t,s){const o=await kI(n.localStore,Sr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await hA(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&H0(n.remoteStore,o),f}async function hA(n,e,t,s,o){n.Ua=(T,I,b)=>async function(j,F,z,K){let Q=F.view.ga(z);Q.ss&&(Q=await Sy(j.localStore,F.query,!1).then(({documents:P})=>F.view.ga(P,Q)));const se=K&&K.targetChanges.get(F.targetId),W=K&&K.targetMismatches.get(F.targetId)!=null,Z=F.view.applyChanges(Q,j.isPrimaryClient,se,W);return Dy(j,F.targetId,Z.ba),Z.snapshot}(n,T,I,b);const l=await Sy(n.localStore,e,!0),c=new sA(e,l.ds),f=c.ga(l.documents),m=pl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=c.applyChanges(f,n.isPrimaryClient,m);Dy(n,t,v.ba);const E=new oA(e,t,c);return n.xa.set(e,E),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),v.snapshot}async function fA(n,e,t){const s=be(n),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(c=>!Cc(c,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Wd(s.remoteStore,o.targetId),fd(s,o.targetId)}).catch(Ko)):(fd(s,o.targetId),await cd(s.localStore,o.targetId,!0))}async function dA(n,e){const t=be(n),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Wd(t.remoteStore,s.targetId))}async function pA(n,e,t){const s=wA(n);try{const o=await function(c,f){const m=be(c),v=Pt.now(),E=f.reduce((b,$)=>b.add($.key),Le());let T,I;return m.persistence.runTransaction("Locally write mutations","readwrite",b=>{let $=Xr(),j=Le();return m.hs.getEntries(b,E).next(F=>{$=F,$.forEach((z,K)=>{K.isValidDocument()||(j=j.add(z))})}).next(()=>m.localDocuments.getOverlayedDocuments(b,$)).next(F=>{T=F;const z=[];for(const K of f){const Q=xS(K,T.get(K.key).overlayedDocument);Q!=null&&z.push(new Bi(K.key,Q,h0(Q.value.mapValue),ar.exists(!0)))}return m.mutationQueue.addMutationBatch(b,v,z,f)}).next(F=>{I=F;const z=F.applyToLocalDocumentSet(T,j);return m.documentOverlayCache.saveOverlays(b,F.batchId,z)})}).then(()=>({batchId:I.batchId,changes:w0(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,f,m){let v=c.qa[c.currentUser.toKey()];v||(v=new mt($e)),v=v.insert(f,m),c.qa[c.currentUser.toKey()]=v}(s,o.batchId,t),await gl(s,o.changes),await Nc(s.remoteStore)}catch(o){const l=Jd(o,"Failed to persist write");t.reject(l)}}async function e_(n,e){const t=be(n);try{const s=await CI(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Ke(c.Fa):o.removedDocuments.size>0&&(Ke(c.Fa),c.Fa=!1))}),await gl(t,s,e)}catch(s){await Ko(s)}}function xy(n,e,t){const s=be(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,c)=>{const f=c.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const m=be(c);m.onlineState=f;let v=!1;m.queries.forEach((E,T)=>{for(const I of T.J_)I.ea(f)&&(v=!0)}),v&&Zd(m)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mA(n,e,t){const s=be(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let c=new mt(Ce.comparator);c=c.insert(l,Qt.newNoDocument(l,De.min()));const f=Le().add(l),m=new xc(De.min(),new Map,new mt($e),c,f);await e_(s,m),s.La=s.La.remove(l),s.Ba.delete(e),ep(s)}else await cd(s.localStore,e,!1).then(()=>fd(s,e,t)).catch(Ko)}async function gA(n,e){const t=be(n),s=e.batch.batchId;try{const o=await AI(t.localStore,e);n_(t,s,null),t_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gl(t,o)}catch(o){await Ko(o)}}async function yA(n,e,t){const s=be(n);try{const o=await function(c,f){const m=be(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return m.mutationQueue.lookupMutationBatch(v,f).next(T=>(Ke(T!==null),E=T.keys(),m.mutationQueue.removeMutationBatch(v,T))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,E,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>m.localDocuments.getDocuments(v,E))})}(s.localStore,e);n_(s,e,t),t_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gl(s,o)}catch(o){await Ko(o)}}function t_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function n_(n,e,t){const s=be(n);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function fd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Oa.get(e))n.xa.delete(s),t&&n.Ma.Wa(s,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(s=>{n.ka.containsKey(s)||r_(n,s)})}function r_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Wd(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),ep(n))}function Dy(n,e,t){for(const s of t)s instanceof X0?(n.ka.addReference(s.key,e),vA(n,s)):s instanceof J0?(he("SyncEngine","Document no longer in limbo: "+s.key),n.ka.removeReference(s.key,e),n.ka.containsKey(s.key)||r_(n,s.key)):ke()}function vA(n,e){const t=e.key,s=t.path.canonicalString();n.La.get(t)||n.Na.has(s)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(s),ep(n))}function ep(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ce(ht.fromString(e)),s=n.Ka.next();n.Ba.set(s,new aA(t)),n.La=n.La.insert(t,s),H0(n.remoteStore,new Ci(Sr(Ld(t.path)),s,"TargetPurposeLimboResolution",Tc.oe))}}async function gl(n,e,t){const s=be(n),o=[],l=[],c=[];s.xa.isEmpty()||(s.xa.forEach((f,m)=>{c.push(s.Ua(m,e,t).then(v=>{var E;if((v||t)&&s.isPrimaryClient){const T=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Gd.zi(m.targetId,v);l.push(T)}}))}),await Promise.all(c),s.Ma.R_(o),await async function(m,v){const E=be(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Y.forEach(v,I=>Y.forEach(I.Wi,b=>E.persistence.referenceDelegate.addReference(T,I.targetId,b)).next(()=>Y.forEach(I.Gi,b=>E.persistence.referenceDelegate.removeReference(T,I.targetId,b)))))}catch(T){if(!Qo(T))throw T;he("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const b=E.us.get(I),$=b.snapshotVersion,j=b.withLastLimboFreeSnapshotVersion($);E.us=E.us.insert(I,j)}}}(s.localStore,l))}async function _A(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const s=await U0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(f=>{f.forEach(m=>{m.reject(new Se(ee.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gl(t,s.Ts)}}function EA(n,e){const t=be(n),s=t.Ba.get(e);if(s&&s.Fa)return Le().add(s.key);{let o=Le();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const f=t.xa.get(c);o=o.unionWith(f.view.fa)}return o}}function i_(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=e_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mA.bind(null,e),e.Ma.R_=nA.bind(null,e.eventManager),e.Ma.Wa=rA.bind(null,e.eventManager),e}function wA(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yA.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return II(this.persistence,new TI,e.initialUser,this.serializer)}ja(e){return new $0(Hd.ei,this.serializer)}za(e){return new DI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class TA extends fc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ke(this.persistence.referenceDelegate instanceof cc);const s=this.persistence.referenceDelegate.garbageCollector;return new aI(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new $0(s=>cc.ei(s,t),this.serializer)}}class dd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_A.bind(null,this.syncEngine),await XI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZI}()}createDatastore(e){const t=Dc(e.databaseInfo.databaseId),s=function(l){return new VI(l)}(e.databaseInfo);return function(l,c,f,m){return new LI(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,f){return new $I(s,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>xy(this.syncEngine,t,0),function(){return Ay.p()?new Ay:new bI}())}createSyncEngine(e,t){return function(o,l,c,f,m,v,E){const T=new lA(o,l,c,f,m,v);return E&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=be(o);he("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await ml(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dd.provider={build:()=>new dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=l0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Jd(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nf(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await U0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function by(n,e){n.asyncQueue.verifyOperationInProgress();const t=await AA(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>Cy(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>Cy(e.remoteStore,o)),n._onlineComponents=e}async function AA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),await Nf(n,new fc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Nf(n,new TA(void 0));return n._offlineComponents}async function s_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await by(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await by(n,new dd))),n._onlineComponents}function CA(n){return s_(n).then(e=>e.syncEngine)}async function Ny(n){const e=await s_(n),t=e.eventManager;return t.onListen=uA.bind(null,e.syncEngine),t.onUnlisten=fA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dA.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(n,e,t){if(!t)throw new Se(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RA(n,e,t,s){if(e===!0&&s===!0)throw new Se(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vy(n){if(!Ce.isDocumentKey(n))throw new Se(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fy(n){if(Ce.isDocumentKey(n))throw new Se(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function Di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tp(n);throw new Se(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Se(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Se(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Se(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new My({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new My(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new FT;switch(s.type){case"firstParty":return new $T(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Oy.get(t);s&&(he("ComponentProvider","Removing Datastore"),Oy.delete(t),s.terminate())}(this),Promise.resolve()}}function PA(n,e,t,s={}){var o;const l=(n=Di(n,Oc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let f,m;if(typeof s.mockUserToken=="string")f=s.mockUserToken,m=Kt.MOCK_USER;else{f=gw(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Se(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kt(v)}n._authCredentials=new MT(new a0(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vc(this.firestore,e,this._query)}}class Pn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class bi extends Vc{constructor(e,t,s){super(e,t,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Ce(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function pd(n,e,...t){if(n=lr(n),a_("collection","path",e),n instanceof Oc){const s=ht.fromString(e,...t);return Fy(s),new bi(n,null,s)}{if(!(n instanceof Pn||n instanceof bi))throw new Se(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ht.fromString(e,...t));return Fy(s),new bi(n.firestore,null,s)}}function np(n,e,...t){if(n=lr(n),arguments.length===1&&(e=l0.newId()),a_("doc","path",e),n instanceof Oc){const s=ht.fromString(e,...t);return Vy(s),new Pn(n,null,new Ce(s))}{if(!(n instanceof Pn||n instanceof bi))throw new Se(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ht.fromString(e,...t));return Vy(s),new Pn(n.firestore,n instanceof bi?n.converter:null,new Ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new B0(this,"async_queue_retry"),this.fu=()=>{const s=bf();s&&he("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new As;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Qo(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(s);throw Yr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Xd.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function jy(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class qo extends Oc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ly,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ly(e),this._firestoreClient=void 0,await e}}}function kA(n,e){const t=typeof n=="object"?n:Jv(),s=typeof n=="string"?n:"(default)",o=fl(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=pw("firestore");l&&PA(o,...l)}return o}function l_(n){if(n._terminated)throw new Se(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xA(n),n._firestoreClient}function xA(n){var e,t,s;const o=n._freezeSettings(),l=function(f,m,v,E){return new tS(f,m,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,o_(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new IA(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(zt.fromBase64String(e))}catch(t){throw new Se(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=/^__.*__$/;class bA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new dl(e,this.data,t,this.fieldTransforms)}}class u_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function c_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class op{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return dc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(c_(this.Mu)&&DA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class NA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Dc(e)}$u(e,t,s,o=!1){return new op({Mu:e,methodName:t,Ku:s,path:Ut.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(n){const e=n._freezeSettings(),t=Dc(n._databaseId);return new NA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OA(n,e,t,s,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);ap("Data must be an object, but it was:",c,s);const f=f_(s,c);let m,v;if(l.merge)m=new In(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const I=md(e,T,t);if(!c.contains(I))throw new Se(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);p_(E,I)||E.push(I)}m=new In(E),v=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=c.fieldTransforms;return new bA(new pn(f),m,v)}class Mc extends rp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mc}}function VA(n,e,t,s){const o=n.$u(1,e,t);ap("Data must be an object, but it was:",o,s);const l=[],c=pn.empty();zi(s,(m,v)=>{const E=lp(e,m,t);v=lr(v);const T=o.Bu(E);if(v instanceof Mc)l.push(E);else{const I=Lc(v,T);I!=null&&(l.push(E),c.set(E,I))}});const f=new In(l);return new u_(c,f,o.fieldTransforms)}function FA(n,e,t,s,o,l){const c=n.$u(1,e,t),f=[md(e,s,t)],m=[o];if(l.length%2!=0)throw new Se(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(md(e,l[I])),m.push(l[I+1]);const v=[],E=pn.empty();for(let I=f.length-1;I>=0;--I)if(!p_(v,f[I])){const b=f[I];let $=m[I];$=lr($);const j=c.Bu(b);if($ instanceof Mc)v.push(b);else{const F=Lc($,j);F!=null&&(v.push(b),E.set(b,F))}}const T=new In(v);return new u_(E,T,c.fieldTransforms)}function Lc(n,e){if(d_(n=lr(n)))return ap("Unsupported field value:",e,n),f_(n,e);if(n instanceof rp)return function(s,o){if(!c_(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const f of s){let m=Lc(f,o.ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(s,o){if((s=lr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Pt.fromDate(s);return{timestampValue:uc(o.serializer,l)}}if(s instanceof Pt){const l=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(o.serializer,l)}}if(s instanceof ip)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ho)return{bytesValue:N0(o.serializer,s._byteString)};if(s instanceof Pn){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Bd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sp)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.qu("VectorValues must only contain numeric values.");return jd(f.serializer,m)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${tp(s)}`)}(n,e)}function f_(n,e){const t={};return u0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(n,(s,o)=>{const l=Lc(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function d_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof ip||n instanceof Ho||n instanceof Pn||n instanceof rp||n instanceof sp)}function ap(n,e,t){if(!d_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=tp(t);throw s==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+s)}}function md(n,e,t){if((e=lr(e))instanceof Fc)return e._internalPath;if(typeof e=="string")return lp(n,e);throw dc("Field path arguments must be of type string or ",n,!1,void 0,t)}const MA=new RegExp("[~\\*/\\[\\]]");function lp(n,e,t){if(e.search(MA)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fc(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dc(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new Se(ee.INVALID_ARGUMENT,f+n+m)}function p_(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LA extends m_{data(){return super.data()}}function g_(n,e){return typeof e=="string"?lp(n,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $A{convertValue(e,t="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return zi(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>Et(c.doubleValue));return new sp(l)}convertGeoPoint(e){return new ip(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ic(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ht.fromString(e);Ke(j0(s));const o=new nl(s.get(1),s.get(3)),l=new Ce(s.popFirst(5));return o.isEqual(t)||Yr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y_ extends m_{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(g_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Yu extends y_{data(e={}){return super.data(e)}}class zA{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ba(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Yu(this._firestore,this._userDataWriter,s.key,s,new Ba(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const m=new Yu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ba(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Yu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ba(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return f.type!==0&&(v=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),E=c.indexOf(f.doc.key)),{type:BA(f.type),doc:m,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class v_ extends $A{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function qA(n,e,t,...s){n=Di(n,Pn);const o=Di(n.firestore,qo),l=h_(o);let c;return c=typeof(e=lr(e))=="string"||e instanceof Fc?FA(l,"updateDoc",n._key,e,t,s):VA(l,"updateDoc",n._key,e),up(o,[c.toMutation(n._key,ar.exists(!0))])}function HA(n){return up(Di(n.firestore,qo),[new $d(n._key,ar.none())])}function GA(n,e){const t=Di(n.firestore,qo),s=np(n),o=UA(n.converter,e);return up(t,[OA(h_(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,ar.exists(!1))]).then(()=>s)}function $y(n,...e){var t,s,o;n=lr(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||jy(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(jy(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[c+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let m,v,E;if(n instanceof Pn)v=Di(n.firestore,qo),E=Ld(n._key.path),m={next:T=>{e[c]&&e[c](WA(v,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Di(n,Vc);v=Di(T.firestore,qo),E=T._query;const I=new v_(v);m={next:b=>{e[c]&&e[c](new zA(v,I,T,b))},error:e[c+1],complete:e[c+2]},jA(n._query)}return function(I,b,$,j){const F=new SA(j),z=new iA(b,F,$);return I.asyncQueue.enqueueAndForget(async()=>eA(await Ny(I),z)),()=>{F.eu(),I.asyncQueue.enqueueAndForget(async()=>tA(await Ny(I),z))}}(l_(v),E,f,m)}function up(n,e){return function(s,o){const l=new As;return s.asyncQueue.enqueueAndForget(async()=>pA(await CA(s),o,l)),l.promise}(l_(n),e)}function WA(n,e,t){const s=t.docs.get(e._key),o=new v_(n);return new y_(n,o,e._key,s,new Ba(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Wo=o})(CT),Oi(new Kr("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new qo(new LT(s.getProvider("auth-internal")),new zT(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Se(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(v.options.projectId,E)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Tr(ey,"4.7.5",e),Tr(ey,"4.7.5","esm2017")})();var KA="firebase",QA="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(KA,QA,"app");const __="@firebase/installations",cp="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=1e4,w_=`w:${cp}`,T_="FIS_v2",YA="https://firebaseinstallations.googleapis.com/v1",XA=60*60*1e3,JA="installations",ZA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ks=new wc(JA,ZA,e2);function S_(n){return n instanceof Ui&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_({projectId:n}){return`${YA}/projects/${n}/installations`}function A_(n){return{token:n.token,requestStatus:2,expiresIn:n2(n.expiresIn),creationTime:Date.now()}}async function C_(n,e){const s=(await e.json()).error;return ks.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function R_({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function t2(n,{refreshToken:e}){const t=R_(n);return t.append("Authorization",r2(e)),t}async function P_(n){const e=await n();return e.status>=500&&e.status<600?n():e}function n2(n){return Number(n.replace("s","000"))}function r2(n){return`${T_} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=I_(n),o=R_(n),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:t,authVersion:T_,appId:n.appId,sdkVersion:w_},f={method:"POST",headers:o,body:JSON.stringify(c)},m=await P_(()=>fetch(s,f));if(m.ok){const v=await m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:A_(v.authToken)}}else throw await C_("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=/^[cdef][\w-]{21}$/,gd="";function a2(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=l2(n);return o2.test(t)?t:gd}catch{return gd}}function l2(n){return s2(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;function D_(n,e){const t=jc(n);b_(t,e),u2(t,e)}function b_(n,e){const t=x_.get(n);if(t)for(const s of t)s(e)}function u2(n,e){const t=c2();t&&t.postMessage({key:n,fid:e}),h2()}let Ts=null;function c2(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=n=>{b_(n.data.key,n.data.fid)}),Ts}function h2(){x_.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebase-installations-database",d2=1,xs="firebase-installations-store";let Of=null;function hp(){return Of||(Of=Yv(f2,d2,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(xs)}}})),Of}async function pc(n,e){const t=jc(n),o=(await hp()).transaction(xs,"readwrite"),l=o.objectStore(xs),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&D_(n,e.fid),e}async function N_(n){const e=jc(n),s=(await hp()).transaction(xs,"readwrite");await s.objectStore(xs).delete(e),await s.done}async function $c(n,e){const t=jc(n),o=(await hp()).transaction(xs,"readwrite"),l=o.objectStore(xs),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await o.done,f&&(!c||c.fid!==f.fid)&&D_(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(n){let e;const t=await $c(n.appConfig,s=>{const o=p2(s),l=m2(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===gd?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function p2(n){const e=n||{fid:a2(),registrationStatus:0};return O_(e)}function m2(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ks.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=g2(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y2(n)}:{installationEntry:e}}async function g2(n,e){try{const t=await i2(n,e);return pc(n.appConfig,t)}catch(t){throw S_(t)&&t.customData.serverCode===409?await N_(n.appConfig):await pc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function y2(n){let e=await Uy(n.appConfig);for(;e.registrationStatus===1;)await k_(100),e=await Uy(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await fp(n);return s||t}return e}function Uy(n){return $c(n,e=>{if(!e)throw ks.create("installation-not-found");return O_(e)})}function O_(n){return v2(n)?{fid:n.fid,registrationStatus:0}:n}function v2(n){return n.registrationStatus===1&&n.registrationTime+E_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2({appConfig:n,heartbeatServiceProvider:e},t){const s=E2(n,t),o=t2(n,t),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:w_,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},m=await P_(()=>fetch(s,f));if(m.ok){const v=await m.json();return A_(v)}else throw await C_("Generate Auth Token",m)}function E2(n,{fid:e}){return`${I_(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(n,e=!1){let t;const s=await $c(n.appConfig,l=>{if(!V_(l))throw ks.create("not-registered");const c=l.authToken;if(!e&&S2(c))return l;if(c.requestStatus===1)return t=w2(n,e),l;{if(!navigator.onLine)throw ks.create("app-offline");const f=A2(l);return t=T2(n,f),f}});return t?await t:s.authToken}async function w2(n,e){let t=await zy(n.appConfig);for(;t.authToken.requestStatus===1;)await k_(100),t=await zy(n.appConfig);const s=t.authToken;return s.requestStatus===0?dp(n,e):s}function zy(n){return $c(n,e=>{if(!V_(e))throw ks.create("not-registered");const t=e.authToken;return C2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function T2(n,e){try{const t=await _2(n,e),s=Object.assign(Object.assign({},e),{authToken:t});return await pc(n.appConfig,s),t}catch(t){if(S_(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await N_(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pc(n.appConfig,s)}throw t}}function V_(n){return n!==void 0&&n.registrationStatus===2}function S2(n){return n.requestStatus===2&&!I2(n)}function I2(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+XA}function A2(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function C2(n){return n.requestStatus===1&&n.requestTime+E_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(n){const e=n,{installationEntry:t,registrationPromise:s}=await fp(e);return s?s.catch(console.error):dp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(n,e=!1){const t=n;return await k2(t),(await dp(t,e)).token}async function k2(n){const{registrationPromise:e}=await fp(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){if(!n||!n.options)throw Vf("App Configuration");if(!n.name)throw Vf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Vf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vf(n){return ks.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="installations",D2="installations-internal",b2=n=>{const e=n.getProvider("app").getImmediate(),t=x2(e),s=fl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},N2=n=>{const e=n.getProvider("app").getImmediate(),t=fl(e,F_).getImmediate();return{getId:()=>R2(t),getToken:o=>P2(t,o)}};function O2(){Oi(new Kr(F_,b2,"PUBLIC")),Oi(new Kr(D2,N2,"PRIVATE"))}O2();Tr(__,cp);Tr(__,cp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="analytics",V2="firebase_id",F2="origin",M2=60*1e3,L2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Dd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new wc("analytics","Analytics",j2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){if(!n.startsWith(pp)){const e=kn.create("invalid-gtag-resource",{gtagURL:n});return mn.warn(e.message),""}return n}function M_(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function U2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function z2(n,e){const t=U2("firebase-js-sdk-policy",{createScriptURL:$2}),s=document.createElement("script"),o=`${pp}?l=${n}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function B2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function q2(n,e,t,s,o,l){const c=s[o];try{if(c)await e[c];else{const m=(await M_(t)).find(v=>v.measurementId===o);m&&await e[m.appId]}}catch(f){mn.error(f)}n("config",o,l)}async function H2(n,e,t,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await M_(t);for(const m of c){const v=f.find(T=>T.measurementId===m),E=v&&e[v.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,o||{})}catch(l){mn.error(l)}}function G2(n,e,t,s){async function o(l,...c){try{if(l==="event"){const[f,m]=c;await H2(n,e,t,f,m)}else if(l==="config"){const[f,m]=c;await q2(n,e,t,s,f,m)}else if(l==="consent"){const[f,m]=c;n("consent",f,m)}else if(l==="get"){const[f,m,v]=c;n("get",f,m,v)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){mn.error(f)}}return o}function W2(n,e,t,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=G2(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function K2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(pp)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=30,Y2=1e3;class X2{constructor(e={},t=Y2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const L_=new X2;function J2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Z2(n){var e;const{appId:t,apiKey:s}=n,o={method:"GET",headers:J2(s)},l=L2.replace("{app-id}",t),c=await fetch(l,o);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();!((e=m.error)===null||e===void 0)&&e.message&&(f=m.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function eC(n,e=L_,t){const{appId:s,apiKey:o,measurementId:l}=n.options;if(!s)throw kn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw kn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new rC;return setTimeout(async()=>{f.abort()},M2),j_({appId:s,apiKey:o,measurementId:l},c,f,e)}async function j_(n,{throttleEndTimeMillis:e,backoffCount:t},s,o=L_){var l;const{appId:c,measurementId:f}=n;try{await tC(s,e)}catch(m){if(f)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:f};throw m}try{const m=await Z2(n);return o.deleteThrottleMetadata(c),m}catch(m){const v=m;if(!nC(v)){if(o.deleteThrottleMetadata(c),f)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:c,measurementId:f};throw m}const E=Number((l=v==null?void 0:v.customData)===null||l===void 0?void 0:l.httpStatus)===503?qg(t,o.intervalMillis,Q2):qg(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(c,T),mn.debug(`Calling attemptFetch again in ${E} millis`),j_(n,T,s,o)}}function tC(n,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),s(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nC(n){if(!(n instanceof Ui)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class rC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iC(n,e,t,s,o){if(o&&o.global){n("event",t,s);return}else{const l=await e,c=Object.assign(Object.assign({},s),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(){if(Gv())try{await Wv()}catch(n){return mn.warn(kn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return mn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oC(n,e,t,s,o,l,c){var f;const m=eC(n);m.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>mn.error(b)),e.push(m);const v=sC().then(b=>{if(b)return s.getId()}),[E,T]=await Promise.all([m,v]);K2(l)||z2(l,E.measurementId),o("js",new Date);const I=(f=c==null?void 0:c.config)!==null&&f!==void 0?f:{};return I[F2]="firebase",I.update=!0,T!=null&&(I[V2]=T),o("config",E.measurementId,I),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.app=e}_delete(){return delete Qa[this.app.options.appId],Promise.resolve()}}let Qa={},By=[];const qy={};let Ff="dataLayer",lC="gtag",Hy,$_,Gy=!1;function uC(){const n=[];if(_w()&&n.push("This is a browser extension environment."),ww()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=kn.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function cC(n,e,t){uC();const s=n.options.appId;if(!s)throw kn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Qa[s]!=null)throw kn.create("already-exists",{id:s});if(!Gy){B2(Ff);const{wrappedGtag:l,gtagCore:c}=W2(Qa,By,qy,Ff,lC);$_=l,Hy=c,Gy=!0}return Qa[s]=oC(n,By,qy,e,Hy,Ff,t),new aC(n)}function hC(n=Jv()){n=lr(n);const e=fl(n,mc);return e.isInitialized()?e.getImmediate():fC(n)}function fC(n,e={}){const t=fl(n,mc);if(t.isInitialized()){const o=t.getImmediate();if(nc(e,t.getOptions()))return o;throw kn.create("already-initialized")}return t.initialize({options:e})}function dC(n,e,t,s){n=lr(n),iC($_,Qa[n.app.options.appId],e,t,s).catch(o=>mn.error(o))}const Wy="@firebase/analytics",Ky="0.10.10";function pC(){Oi(new Kr(mc,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return cC(s,o,t)},"PUBLIC")),Oi(new Kr("analytics-internal",n,"PRIVATE")),Tr(Wy,Ky),Tr(Wy,Ky,"esm2017");function n(e){try{const t=e.getProvider(mc).getImmediate();return{logEvent:(s,o,l)=>dC(t,s,o,l)}}catch(t){throw kn.create("interop-component-reg-failed",{reason:t})}}}pC();const mC={apiKey:"AIzaSyBM53ZP97rsXVg9X2bf4jSKOE78PAOevsE",authDomain:"contact-app-82be1.firebaseapp.com",projectId:"contact-app-82be1",storageBucket:"contact-app-82be1.firebasestorage.app",messagingSenderId:"288877676080",appId:"1:288877676080:web:e77a0af0ecf5d0799bcff5",measurementId:"G-YRLME8SMT2"},U_=Xv(mC);hC(U_);const ol=kA(U_);function gC(n){return Ns({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C148.5 48 60.1 129.5 49.2 234.1c-.8 7.2-1.2 14.5-1.2 21.9 0 7.4.4 14.7 1.2 21.9C60.1 382.5 148.5 464 256 464c114.9 0 208-93.1 208-208S370.9 48 256 48zm135.8 326.1c-22.7-8.6-59.5-21.2-82.4-28-2.4-.7-2.7-.9-2.7-10.7 0-8.1 3.3-16.3 6.6-23.3 3.6-7.5 7.7-20.2 9.2-31.6 4.2-4.9 10-14.5 13.6-32.9 3.2-16.2 1.7-22.1-.4-27.6-.2-.6-.5-1.2-.6-1.7-.8-3.8.3-23.5 3.1-38.8 1.9-10.5-.5-32.8-14.9-51.3-9.1-11.7-26.6-26-58.5-28h-17.5c-31.4 2-48.8 16.3-58 28-14.5 18.5-16.9 40.8-15 51.3 2.8 15.3 3.9 35 3.1 38.8-.2.7-.4 1.2-.6 1.8-2.1 5.5-3.7 11.4-.4 27.6 3.7 18.4 9.4 28 13.6 32.9 1.5 11.4 5.7 24 9.2 31.6 2.6 5.5 3.8 13 3.8 23.6 0 9.9-.4 10-2.6 10.7-23.7 7-58.9 19.4-80 27.8C91.6 341.4 76 299.9 76 256c0-48.1 18.7-93.3 52.7-127.3S207.9 76 256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256c0 43.9-15.6 85.4-44.2 118.1z"},child:[]}]})(n)}function yC(n){return Ns({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.6844 4.02547C12.4588 4.00646 12.2306 3.9967 12 3.9967C7.58172 3.9967 4 7.57843 4 11.9967C4 16.415 7.58172 19.9967 12 19.9967C16.4183 19.9967 20 16.415 20 11.9967C20 11.7662 19.9902 11.5379 19.9711 11.3123C19.8996 10.4646 19.6953 9.6442 19.368 8.87344L20.8682 7.37114C21.2031 8.01192 21.4706 8.6935 21.6613 9.40649C21.8213 10.0063 21.9258 10.6222 21.9723 11.248C21.9907 11.4952 22 11.7449 22 11.9967C22 17.5196 17.5228 21.9967 12 21.9967C6.47715 21.9967 2 17.5196 2 11.9967C2 6.47386 6.47715 1.9967 12 1.9967C12.2518 1.9967 12.5015 2.00601 12.7487 2.02431C13.3745 2.07081 13.9904 2.17542 14.5898 2.3358C15.3032 2.52609 15.9848 2.79359 16.6256 3.1285L15.1247 4.62934C14.3525 4.30143 13.5321 4.09707 12.6844 4.02547ZM20.4853 2.09721L21.8995 3.51142L12.7071 12.7038L11.2954 12.7063L11.2929 11.2896L20.4853 2.09721Z"},child:[]}]})(n)}const z_=()=>{const[n,e]=ie.useState(!1);return{onClose:()=>{e(!1)},onOpen:()=>{e(!0)},isOpen:n}};var vC=function(e){return _C(e)&&!EC(e)};function _C(n){return!!n&&typeof n=="object"}function EC(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||SC(n)}var wC=typeof Symbol=="function"&&Symbol.for,TC=wC?Symbol.for("react.element"):60103;function SC(n){return n.$$typeof===TC}function IC(n){return Array.isArray(n)?[]:{}}function gc(n,e){return e.clone!==!1&&e.isMergeableObject(n)?al(IC(n),n,e):n}function AC(n,e,t){return n.concat(e).map(function(s){return gc(s,t)})}function CC(n,e,t){var s={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(o){s[o]=gc(n[o],t)}),Object.keys(e).forEach(function(o){!t.isMergeableObject(e[o])||!n[o]?s[o]=gc(e[o],t):s[o]=al(n[o],e[o],t)}),s}function al(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||AC,t.isMergeableObject=t.isMergeableObject||vC;var s=Array.isArray(e),o=Array.isArray(n),l=s===o;return l?s?t.arrayMerge(n,e,t):CC(n,e,t):gc(e,t)}al.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(s,o){return al(s,o,t)},{})};var yd=al,B_=typeof global=="object"&&global&&global.Object===Object&&global,RC=typeof self=="object"&&self&&self.Object===Object&&self,kr=B_||RC||Function("return this")(),$i=kr.Symbol,q_=Object.prototype,PC=q_.hasOwnProperty,kC=q_.toString,ja=$i?$i.toStringTag:void 0;function xC(n){var e=PC.call(n,ja),t=n[ja];try{n[ja]=void 0;var s=!0}catch{}var o=kC.call(n);return s&&(e?n[ja]=t:delete n[ja]),o}var DC=Object.prototype,bC=DC.toString;function NC(n){return bC.call(n)}var OC="[object Null]",VC="[object Undefined]",Qy=$i?$i.toStringTag:void 0;function Fs(n){return n==null?n===void 0?VC:OC:Qy&&Qy in Object(n)?xC(n):NC(n)}function H_(n,e){return function(t){return n(e(t))}}var mp=H_(Object.getPrototypeOf,Object);function Ms(n){return n!=null&&typeof n=="object"}var FC="[object Object]",MC=Function.prototype,LC=Object.prototype,G_=MC.toString,jC=LC.hasOwnProperty,$C=G_.call(Object);function Yy(n){if(!Ms(n)||Fs(n)!=FC)return!1;var e=mp(n);if(e===null)return!0;var t=jC.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&G_.call(t)==$C}function UC(){this.__data__=[],this.size=0}function W_(n,e){return n===e||n!==n&&e!==e}function Uc(n,e){for(var t=n.length;t--;)if(W_(n[t][0],e))return t;return-1}var zC=Array.prototype,BC=zC.splice;function qC(n){var e=this.__data__,t=Uc(e,n);if(t<0)return!1;var s=e.length-1;return t==s?e.pop():BC.call(e,t,1),--this.size,!0}function HC(n){var e=this.__data__,t=Uc(e,n);return t<0?void 0:e[t][1]}function GC(n){return Uc(this.__data__,n)>-1}function WC(n,e){var t=this.__data__,s=Uc(t,n);return s<0?(++this.size,t.push([n,e])):t[s][1]=e,this}function Jr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}Jr.prototype.clear=UC;Jr.prototype.delete=qC;Jr.prototype.get=HC;Jr.prototype.has=GC;Jr.prototype.set=WC;function KC(){this.__data__=new Jr,this.size=0}function QC(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function YC(n){return this.__data__.get(n)}function XC(n){return this.__data__.has(n)}function yl(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var JC="[object AsyncFunction]",ZC="[object Function]",eR="[object GeneratorFunction]",tR="[object Proxy]";function K_(n){if(!yl(n))return!1;var e=Fs(n);return e==ZC||e==eR||e==JC||e==tR}var Mf=kr["__core-js_shared__"],Xy=function(){var n=/[^.]+$/.exec(Mf&&Mf.keys&&Mf.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function nR(n){return!!Xy&&Xy in n}var rR=Function.prototype,iR=rR.toString;function Ls(n){if(n!=null){try{return iR.call(n)}catch{}try{return n+""}catch{}}return""}var sR=/[\\^$.*+?()[\]{}|]/g,oR=/^\[object .+?Constructor\]$/,aR=Function.prototype,lR=Object.prototype,uR=aR.toString,cR=lR.hasOwnProperty,hR=RegExp("^"+uR.call(cR).replace(sR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fR(n){if(!yl(n)||nR(n))return!1;var e=K_(n)?hR:oR;return e.test(Ls(n))}function dR(n,e){return n==null?void 0:n[e]}function js(n,e){var t=dR(n,e);return fR(t)?t:void 0}var ll=js(kr,"Map"),ul=js(Object,"create");function pR(){this.__data__=ul?ul(null):{},this.size=0}function mR(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var gR="__lodash_hash_undefined__",yR=Object.prototype,vR=yR.hasOwnProperty;function _R(n){var e=this.__data__;if(ul){var t=e[n];return t===gR?void 0:t}return vR.call(e,n)?e[n]:void 0}var ER=Object.prototype,wR=ER.hasOwnProperty;function TR(n){var e=this.__data__;return ul?e[n]!==void 0:wR.call(e,n)}var SR="__lodash_hash_undefined__";function IR(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=ul&&e===void 0?SR:e,this}function Ds(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}Ds.prototype.clear=pR;Ds.prototype.delete=mR;Ds.prototype.get=_R;Ds.prototype.has=TR;Ds.prototype.set=IR;function AR(){this.size=0,this.__data__={hash:new Ds,map:new(ll||Jr),string:new Ds}}function CR(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function zc(n,e){var t=n.__data__;return CR(e)?t[typeof e=="string"?"string":"hash"]:t.map}function RR(n){var e=zc(this,n).delete(n);return this.size-=e?1:0,e}function PR(n){return zc(this,n).get(n)}function kR(n){return zc(this,n).has(n)}function xR(n,e){var t=zc(this,n),s=t.size;return t.set(n,e),this.size+=t.size==s?0:1,this}function qi(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}qi.prototype.clear=AR;qi.prototype.delete=RR;qi.prototype.get=PR;qi.prototype.has=kR;qi.prototype.set=xR;var DR=200;function bR(n,e){var t=this.__data__;if(t instanceof Jr){var s=t.__data__;if(!ll||s.length<DR-1)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new qi(s)}return t.set(n,e),this.size=t.size,this}function Xo(n){var e=this.__data__=new Jr(n);this.size=e.size}Xo.prototype.clear=KC;Xo.prototype.delete=QC;Xo.prototype.get=YC;Xo.prototype.has=XC;Xo.prototype.set=bR;function NR(n,e){for(var t=-1,s=n==null?0:n.length;++t<s&&e(n[t],t,n)!==!1;);return n}var Jy=function(){try{var n=js(Object,"defineProperty");return n({},"",{}),n}catch{}}();function Q_(n,e,t){e=="__proto__"&&Jy?Jy(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var OR=Object.prototype,VR=OR.hasOwnProperty;function Y_(n,e,t){var s=n[e];(!(VR.call(n,e)&&W_(s,t))||t===void 0&&!(e in n))&&Q_(n,e,t)}function Bc(n,e,t,s){var o=!t;t||(t={});for(var l=-1,c=e.length;++l<c;){var f=e[l],m=void 0;m===void 0&&(m=n[f]),o?Q_(t,f,m):Y_(t,f,m)}return t}function FR(n,e){for(var t=-1,s=Array(n);++t<n;)s[t]=e(t);return s}var MR="[object Arguments]";function Zy(n){return Ms(n)&&Fs(n)==MR}var X_=Object.prototype,LR=X_.hasOwnProperty,jR=X_.propertyIsEnumerable,$R=Zy(function(){return arguments}())?Zy:function(n){return Ms(n)&&LR.call(n,"callee")&&!jR.call(n,"callee")},vl=Array.isArray;function UR(){return!1}var J_=typeof Cn=="object"&&Cn&&!Cn.nodeType&&Cn,ev=J_&&typeof Rn=="object"&&Rn&&!Rn.nodeType&&Rn,zR=ev&&ev.exports===J_,tv=zR?kr.Buffer:void 0,BR=tv?tv.isBuffer:void 0,Z_=BR||UR,qR=9007199254740991,HR=/^(?:0|[1-9]\d*)$/;function GR(n,e){var t=typeof n;return e=e??qR,!!e&&(t=="number"||t!="symbol"&&HR.test(n))&&n>-1&&n%1==0&&n<e}var WR=9007199254740991;function e1(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=WR}var KR="[object Arguments]",QR="[object Array]",YR="[object Boolean]",XR="[object Date]",JR="[object Error]",ZR="[object Function]",eP="[object Map]",tP="[object Number]",nP="[object Object]",rP="[object RegExp]",iP="[object Set]",sP="[object String]",oP="[object WeakMap]",aP="[object ArrayBuffer]",lP="[object DataView]",uP="[object Float32Array]",cP="[object Float64Array]",hP="[object Int8Array]",fP="[object Int16Array]",dP="[object Int32Array]",pP="[object Uint8Array]",mP="[object Uint8ClampedArray]",gP="[object Uint16Array]",yP="[object Uint32Array]",at={};at[uP]=at[cP]=at[hP]=at[fP]=at[dP]=at[pP]=at[mP]=at[gP]=at[yP]=!0;at[KR]=at[QR]=at[aP]=at[YR]=at[lP]=at[XR]=at[JR]=at[ZR]=at[eP]=at[tP]=at[nP]=at[rP]=at[iP]=at[sP]=at[oP]=!1;function vP(n){return Ms(n)&&e1(n.length)&&!!at[Fs(n)]}function gp(n){return function(e){return n(e)}}var t1=typeof Cn=="object"&&Cn&&!Cn.nodeType&&Cn,Ya=t1&&typeof Rn=="object"&&Rn&&!Rn.nodeType&&Rn,_P=Ya&&Ya.exports===t1,Lf=_P&&B_.process,Go=function(){try{var n=Ya&&Ya.require&&Ya.require("util").types;return n||Lf&&Lf.binding&&Lf.binding("util")}catch{}}(),nv=Go&&Go.isTypedArray,EP=nv?gp(nv):vP,wP=Object.prototype,TP=wP.hasOwnProperty;function n1(n,e){var t=vl(n),s=!t&&$R(n),o=!t&&!s&&Z_(n),l=!t&&!s&&!o&&EP(n),c=t||s||o||l,f=c?FR(n.length,String):[],m=f.length;for(var v in n)(e||TP.call(n,v))&&!(c&&(v=="length"||o&&(v=="offset"||v=="parent")||l&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||GR(v,m)))&&f.push(v);return f}var SP=Object.prototype;function yp(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||SP;return n===t}var IP=H_(Object.keys,Object),AP=Object.prototype,CP=AP.hasOwnProperty;function RP(n){if(!yp(n))return IP(n);var e=[];for(var t in Object(n))CP.call(n,t)&&t!="constructor"&&e.push(t);return e}function r1(n){return n!=null&&e1(n.length)&&!K_(n)}function vp(n){return r1(n)?n1(n):RP(n)}function PP(n,e){return n&&Bc(e,vp(e),n)}function kP(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var xP=Object.prototype,DP=xP.hasOwnProperty;function bP(n){if(!yl(n))return kP(n);var e=yp(n),t=[];for(var s in n)s=="constructor"&&(e||!DP.call(n,s))||t.push(s);return t}function _p(n){return r1(n)?n1(n,!0):bP(n)}function NP(n,e){return n&&Bc(e,_p(e),n)}var i1=typeof Cn=="object"&&Cn&&!Cn.nodeType&&Cn,rv=i1&&typeof Rn=="object"&&Rn&&!Rn.nodeType&&Rn,OP=rv&&rv.exports===i1,iv=OP?kr.Buffer:void 0,sv=iv?iv.allocUnsafe:void 0;function VP(n,e){if(e)return n.slice();var t=n.length,s=sv?sv(t):new n.constructor(t);return n.copy(s),s}function s1(n,e){var t=-1,s=n.length;for(e||(e=Array(s));++t<s;)e[t]=n[t];return e}function FP(n,e){for(var t=-1,s=n==null?0:n.length,o=0,l=[];++t<s;){var c=n[t];e(c,t,n)&&(l[o++]=c)}return l}function o1(){return[]}var MP=Object.prototype,LP=MP.propertyIsEnumerable,ov=Object.getOwnPropertySymbols,Ep=ov?function(n){return n==null?[]:(n=Object(n),FP(ov(n),function(e){return LP.call(n,e)}))}:o1;function jP(n,e){return Bc(n,Ep(n),e)}function a1(n,e){for(var t=-1,s=e.length,o=n.length;++t<s;)n[o+t]=e[t];return n}var $P=Object.getOwnPropertySymbols,l1=$P?function(n){for(var e=[];n;)a1(e,Ep(n)),n=mp(n);return e}:o1;function UP(n,e){return Bc(n,l1(n),e)}function u1(n,e,t){var s=e(n);return vl(n)?s:a1(s,t(n))}function zP(n){return u1(n,vp,Ep)}function BP(n){return u1(n,_p,l1)}var vd=js(kr,"DataView"),_d=js(kr,"Promise"),Ed=js(kr,"Set"),wd=js(kr,"WeakMap"),av="[object Map]",qP="[object Object]",lv="[object Promise]",uv="[object Set]",cv="[object WeakMap]",hv="[object DataView]",HP=Ls(vd),GP=Ls(ll),WP=Ls(_d),KP=Ls(Ed),QP=Ls(wd),Wr=Fs;(vd&&Wr(new vd(new ArrayBuffer(1)))!=hv||ll&&Wr(new ll)!=av||_d&&Wr(_d.resolve())!=lv||Ed&&Wr(new Ed)!=uv||wd&&Wr(new wd)!=cv)&&(Wr=function(n){var e=Fs(n),t=e==qP?n.constructor:void 0,s=t?Ls(t):"";if(s)switch(s){case HP:return hv;case GP:return av;case WP:return lv;case KP:return uv;case QP:return cv}return e});var YP=Object.prototype,XP=YP.hasOwnProperty;function JP(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&XP.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var fv=kr.Uint8Array;function wp(n){var e=new n.constructor(n.byteLength);return new fv(e).set(new fv(n)),e}function ZP(n,e){var t=e?wp(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var ek=/\w*$/;function tk(n){var e=new n.constructor(n.source,ek.exec(n));return e.lastIndex=n.lastIndex,e}var dv=$i?$i.prototype:void 0,pv=dv?dv.valueOf:void 0;function nk(n){return pv?Object(pv.call(n)):{}}function rk(n,e){var t=e?wp(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var ik="[object Boolean]",sk="[object Date]",ok="[object Map]",ak="[object Number]",lk="[object RegExp]",uk="[object Set]",ck="[object String]",hk="[object Symbol]",fk="[object ArrayBuffer]",dk="[object DataView]",pk="[object Float32Array]",mk="[object Float64Array]",gk="[object Int8Array]",yk="[object Int16Array]",vk="[object Int32Array]",_k="[object Uint8Array]",Ek="[object Uint8ClampedArray]",wk="[object Uint16Array]",Tk="[object Uint32Array]";function Sk(n,e,t){var s=n.constructor;switch(e){case fk:return wp(n);case ik:case sk:return new s(+n);case dk:return ZP(n,t);case pk:case mk:case gk:case yk:case vk:case _k:case Ek:case wk:case Tk:return rk(n,t);case ok:return new s;case ak:case ck:return new s(n);case lk:return tk(n);case uk:return new s;case hk:return nk(n)}}var mv=Object.create,Ik=function(){function n(){}return function(e){if(!yl(e))return{};if(mv)return mv(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function Ak(n){return typeof n.constructor=="function"&&!yp(n)?Ik(mp(n)):{}}var Ck="[object Map]";function Rk(n){return Ms(n)&&Wr(n)==Ck}var gv=Go&&Go.isMap,Pk=gv?gp(gv):Rk,kk="[object Set]";function xk(n){return Ms(n)&&Wr(n)==kk}var yv=Go&&Go.isSet,Dk=yv?gp(yv):xk,bk=1,Nk=2,Ok=4,c1="[object Arguments]",Vk="[object Array]",Fk="[object Boolean]",Mk="[object Date]",Lk="[object Error]",h1="[object Function]",jk="[object GeneratorFunction]",$k="[object Map]",Uk="[object Number]",f1="[object Object]",zk="[object RegExp]",Bk="[object Set]",qk="[object String]",Hk="[object Symbol]",Gk="[object WeakMap]",Wk="[object ArrayBuffer]",Kk="[object DataView]",Qk="[object Float32Array]",Yk="[object Float64Array]",Xk="[object Int8Array]",Jk="[object Int16Array]",Zk="[object Int32Array]",ex="[object Uint8Array]",tx="[object Uint8ClampedArray]",nx="[object Uint16Array]",rx="[object Uint32Array]",it={};it[c1]=it[Vk]=it[Wk]=it[Kk]=it[Fk]=it[Mk]=it[Qk]=it[Yk]=it[Xk]=it[Jk]=it[Zk]=it[$k]=it[Uk]=it[f1]=it[zk]=it[Bk]=it[qk]=it[Hk]=it[ex]=it[tx]=it[nx]=it[rx]=!0;it[Lk]=it[h1]=it[Gk]=!1;function Xa(n,e,t,s,o,l){var c,f=e&bk,m=e&Nk,v=e&Ok;if(c!==void 0)return c;if(!yl(n))return n;var E=vl(n);if(E){if(c=JP(n),!f)return s1(n,c)}else{var T=Wr(n),I=T==h1||T==jk;if(Z_(n))return VP(n,f);if(T==f1||T==c1||I&&!o){if(c=m||I?{}:Ak(n),!f)return m?UP(n,NP(c,n)):jP(n,PP(c,n))}else{if(!it[T])return o?n:{};c=Sk(n,T,f)}}l||(l=new Xo);var b=l.get(n);if(b)return b;l.set(n,c),Dk(n)?n.forEach(function(F){c.add(Xa(F,e,t,F,n,l))}):Pk(n)&&n.forEach(function(F,z){c.set(z,Xa(F,e,t,z,n,l))});var $=v?m?BP:zP:m?_p:vp,j=E?void 0:$(n);return NR(j||n,function(F,z){j&&(z=F,F=n[z]),Y_(c,z,Xa(F,e,t,z,n,l))}),c}var ix=1,sx=4;function qa(n){return Xa(n,ix|sx)}var jf,vv;function ox(){if(vv)return jf;vv=1;var n=Array.isArray,e=Object.keys,t=Object.prototype.hasOwnProperty,s=typeof Element<"u";function o(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){var f=n(l),m=n(c),v,E,T;if(f&&m){if(E=l.length,E!=c.length)return!1;for(v=E;v--!==0;)if(!o(l[v],c[v]))return!1;return!0}if(f!=m)return!1;var I=l instanceof Date,b=c instanceof Date;if(I!=b)return!1;if(I&&b)return l.getTime()==c.getTime();var $=l instanceof RegExp,j=c instanceof RegExp;if($!=j)return!1;if($&&j)return l.toString()==c.toString();var F=e(l);if(E=F.length,E!==e(c).length)return!1;for(v=E;v--!==0;)if(!t.call(c,F[v]))return!1;if(s&&l instanceof Element&&c instanceof Element)return l===c;for(v=E;v--!==0;)if(T=F[v],!(T==="_owner"&&l.$$typeof)&&!o(l[T],c[T]))return!1;return!0}return l!==l&&c!==c}return jf=function(c,f){try{return o(c,f)}catch(m){if(m.message&&m.message.match(/stack|recursion/i)||m.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",m.name,m.message),!1;throw m}},jf}var ax=ox();const Ai=Ec(ax);var lx=4;function _v(n){return Xa(n,lx)}function d1(n,e){for(var t=-1,s=n==null?0:n.length,o=Array(s);++t<s;)o[t]=e(n[t],t,n);return o}var ux="[object Symbol]";function Tp(n){return typeof n=="symbol"||Ms(n)&&Fs(n)==ux}var cx="Expected a function";function Sp(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(cx);var t=function(){var s=arguments,o=e?e.apply(this,s):s[0],l=t.cache;if(l.has(o))return l.get(o);var c=n.apply(this,s);return t.cache=l.set(o,c)||l,c};return t.cache=new(Sp.Cache||qi),t}Sp.Cache=qi;var hx=500;function fx(n){var e=Sp(n,function(s){return t.size===hx&&t.clear(),s}),t=e.cache;return e}var dx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,px=/\\(\\)?/g,mx=fx(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(dx,function(t,s,o,l){e.push(o?l.replace(px,"$1"):s||t)}),e}),gx=1/0;function yx(n){if(typeof n=="string"||Tp(n))return n;var e=n+"";return e=="0"&&1/n==-gx?"-0":e}var vx=1/0,Ev=$i?$i.prototype:void 0,wv=Ev?Ev.toString:void 0;function p1(n){if(typeof n=="string")return n;if(vl(n))return d1(n,p1)+"";if(Tp(n))return wv?wv.call(n):"";var e=n+"";return e=="0"&&1/n==-vx?"-0":e}function _x(n){return n==null?"":p1(n)}function m1(n){return vl(n)?d1(n,yx):Tp(n)?[n]:s1(mx(_x(n)))}var $f={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function Ex(){if(Tv)return We;Tv=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,m=n?Symbol.for("react.async_mode"):60111,v=n?Symbol.for("react.concurrent_mode"):60111,E=n?Symbol.for("react.forward_ref"):60112,T=n?Symbol.for("react.suspense"):60113,I=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,$=n?Symbol.for("react.lazy"):60116,j=n?Symbol.for("react.block"):60121,F=n?Symbol.for("react.fundamental"):60117,z=n?Symbol.for("react.responder"):60118,K=n?Symbol.for("react.scope"):60119;function Q(W){if(typeof W=="object"&&W!==null){var Z=W.$$typeof;switch(Z){case e:switch(W=W.type,W){case m:case v:case s:case l:case o:case T:return W;default:switch(W=W&&W.$$typeof,W){case f:case E:case $:case b:case c:return W;default:return Z}}case t:return Z}}}function se(W){return Q(W)===v}return We.AsyncMode=m,We.ConcurrentMode=v,We.ContextConsumer=f,We.ContextProvider=c,We.Element=e,We.ForwardRef=E,We.Fragment=s,We.Lazy=$,We.Memo=b,We.Portal=t,We.Profiler=l,We.StrictMode=o,We.Suspense=T,We.isAsyncMode=function(W){return se(W)||Q(W)===m},We.isConcurrentMode=se,We.isContextConsumer=function(W){return Q(W)===f},We.isContextProvider=function(W){return Q(W)===c},We.isElement=function(W){return typeof W=="object"&&W!==null&&W.$$typeof===e},We.isForwardRef=function(W){return Q(W)===E},We.isFragment=function(W){return Q(W)===s},We.isLazy=function(W){return Q(W)===$},We.isMemo=function(W){return Q(W)===b},We.isPortal=function(W){return Q(W)===t},We.isProfiler=function(W){return Q(W)===l},We.isStrictMode=function(W){return Q(W)===o},We.isSuspense=function(W){return Q(W)===T},We.isValidElementType=function(W){return typeof W=="string"||typeof W=="function"||W===s||W===v||W===l||W===o||W===T||W===I||typeof W=="object"&&W!==null&&(W.$$typeof===$||W.$$typeof===b||W.$$typeof===c||W.$$typeof===f||W.$$typeof===E||W.$$typeof===F||W.$$typeof===z||W.$$typeof===K||W.$$typeof===j)},We.typeOf=Q,We}var Sv;function wx(){return Sv||(Sv=1,$f.exports=Ex()),$f.exports}var Uf,Iv;function Tx(){if(Iv)return Uf;Iv=1;var n=wx(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=s,l[n.Memo]=o;function c($){return n.isMemo($)?o:l[$.$$typeof]||e}var f=Object.defineProperty,m=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,E=Object.getOwnPropertyDescriptor,T=Object.getPrototypeOf,I=Object.prototype;function b($,j,F){if(typeof j!="string"){if(I){var z=T(j);z&&z!==I&&b($,z,F)}var K=m(j);v&&(K=K.concat(v(j)));for(var Q=c($),se=c(j),W=0;W<K.length;++W){var Z=K[W];if(!t[Z]&&!(F&&F[Z])&&!(se&&se[Z])&&!(Q&&Q[Z])){var P=E(j,Z);try{f($,Z,P)}catch{}}}}return $}return Uf=b,Uf}var Sx=Tx();const Ix=Ec(Sx);function Xe(){return Xe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Xe.apply(this,arguments)}function g1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Ri(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Av(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var qc=ie.createContext(void 0);qc.displayName="FormikContext";var Ax=qc.Provider,Cx=qc.Consumer;function y1(){var n=ie.useContext(qc);return n}var Cv=function(e){return Array.isArray(e)&&e.length===0},jt=function(e){return typeof e=="function"},_l=function(e){return e!==null&&typeof e=="object"},Rx=function(e){return String(Math.floor(Number(e)))===e},zf=function(e){return Object.prototype.toString.call(e)==="[object String]"},v1=function(e){return ie.Children.count(e)===0},Bf=function(e){return _l(e)&&jt(e.then)};function ct(n,e,t,s){s===void 0&&(s=0);for(var o=m1(e);n&&s<o.length;)n=n[o[s++]];return s!==o.length&&!n||n===void 0?t:n}function Ar(n,e,t){for(var s=_v(n),o=s,l=0,c=m1(e);l<c.length-1;l++){var f=c[l],m=ct(n,c.slice(0,l+1));if(m&&(_l(m)||Array.isArray(m)))o=o[f]=_v(m);else{var v=c[l+1];o=o[f]=Rx(v)&&Number(v)>=0?[]:{}}}return(l===0?n:o)[c[l]]===t?n:(t===void 0?delete o[c[l]]:o[c[l]]=t,l===0&&t===void 0&&delete s[c[l]],s)}function _1(n,e,t,s){t===void 0&&(t=new WeakMap),s===void 0&&(s={});for(var o=0,l=Object.keys(n);o<l.length;o++){var c=l[o],f=n[c];_l(f)?t.get(f)||(t.set(f,!0),s[c]=Array.isArray(f)?[]:{},_1(f,e,t,s[c])):s[c]=e}return s}function Px(n,e){switch(e.type){case"SET_VALUES":return Xe({},n,{values:e.payload});case"SET_TOUCHED":return Xe({},n,{touched:e.payload});case"SET_ERRORS":return Ai(n.errors,e.payload)?n:Xe({},n,{errors:e.payload});case"SET_STATUS":return Xe({},n,{status:e.payload});case"SET_ISSUBMITTING":return Xe({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Xe({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return Xe({},n,{values:Ar(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Xe({},n,{touched:Ar(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Xe({},n,{errors:Ar(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Xe({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return Xe({},n,{touched:_1(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return Xe({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Xe({},n,{isSubmitting:!1});default:return n}}var _s={},$u={};function kx(n){var e=n.validateOnChange,t=e===void 0?!0:e,s=n.validateOnBlur,o=s===void 0?!0:s,l=n.validateOnMount,c=l===void 0?!1:l,f=n.isInitialValid,m=n.enableReinitialize,v=m===void 0?!1:m,E=n.onSubmit,T=Ri(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),I=Xe({validateOnChange:t,validateOnBlur:o,validateOnMount:c,onSubmit:E},T),b=ie.useRef(I.initialValues),$=ie.useRef(I.initialErrors||_s),j=ie.useRef(I.initialTouched||$u),F=ie.useRef(I.initialStatus),z=ie.useRef(!1),K=ie.useRef({});ie.useEffect(function(){return z.current=!0,function(){z.current=!1}},[]);var Q=ie.useState(0),se=Q[1],W=ie.useRef({values:qa(I.initialValues),errors:qa(I.initialErrors)||_s,touched:qa(I.initialTouched)||$u,status:qa(I.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),Z=W.current,P=ie.useCallback(function(q){var le=W.current;W.current=Px(le,q),le!==W.current&&se(function(de){return de+1})},[]),S=ie.useCallback(function(q,le){return new Promise(function(de,_e){var ve=I.validate(q,le);ve==null?de(_s):Bf(ve)?ve.then(function(Re){de(Re||_s)},function(Re){_e(Re)}):de(ve)})},[I.validate]),A=ie.useCallback(function(q,le){var de=I.validationSchema,_e=jt(de)?de(le):de,ve=le&&_e.validateAt?_e.validateAt(le,q):bx(q,_e);return new Promise(function(Re,Je){ve.then(function(){Re(_s)},function(Yt){Yt.name==="ValidationError"?Re(Dx(Yt)):Je(Yt)})})},[I.validationSchema]),x=ie.useCallback(function(q,le){return new Promise(function(de){return de(K.current[q].validate(le))})},[]),k=ie.useCallback(function(q){var le=Object.keys(K.current).filter(function(_e){return jt(K.current[_e].validate)}),de=le.length>0?le.map(function(_e){return x(_e,ct(q,_e))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(de).then(function(_e){return _e.reduce(function(ve,Re,Je){return Re==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Re&&(ve=Ar(ve,le[Je],Re)),ve},{})})},[x]),O=ie.useCallback(function(q){return Promise.all([k(q),I.validationSchema?A(q):{},I.validate?S(q):{}]).then(function(le){var de=le[0],_e=le[1],ve=le[2],Re=yd.all([de,_e,ve],{arrayMerge:Nx});return Re})},[I.validate,I.validationSchema,k,S,A]),C=Un(function(q){return q===void 0&&(q=Z.values),P({type:"SET_ISVALIDATING",payload:!0}),O(q).then(function(le){return z.current&&(P({type:"SET_ISVALIDATING",payload:!1}),P({type:"SET_ERRORS",payload:le})),le})});ie.useEffect(function(){c&&z.current===!0&&Ai(b.current,I.initialValues)&&C(b.current)},[c,C]);var Ve=ie.useCallback(function(q){var le=q&&q.values?q.values:b.current,de=q&&q.errors?q.errors:$.current?$.current:I.initialErrors||{},_e=q&&q.touched?q.touched:j.current?j.current:I.initialTouched||{},ve=q&&q.status?q.status:F.current?F.current:I.initialStatus;b.current=le,$.current=de,j.current=_e,F.current=ve;var Re=function(){P({type:"RESET_FORM",payload:{isSubmitting:!!q&&!!q.isSubmitting,errors:de,touched:_e,status:ve,values:le,isValidating:!!q&&!!q.isValidating,submitCount:q&&q.submitCount&&typeof q.submitCount=="number"?q.submitCount:0}})};if(I.onReset){var Je=I.onReset(Z.values,zn);Bf(Je)?Je.then(Re):Re()}else Re()},[I.initialErrors,I.initialStatus,I.initialTouched,I.onReset]);ie.useEffect(function(){z.current===!0&&!Ai(b.current,I.initialValues)&&v&&(b.current=I.initialValues,Ve(),c&&C(b.current))},[v,I.initialValues,Ve,c,C]),ie.useEffect(function(){v&&z.current===!0&&!Ai($.current,I.initialErrors)&&($.current=I.initialErrors||_s,P({type:"SET_ERRORS",payload:I.initialErrors||_s}))},[v,I.initialErrors]),ie.useEffect(function(){v&&z.current===!0&&!Ai(j.current,I.initialTouched)&&(j.current=I.initialTouched||$u,P({type:"SET_TOUCHED",payload:I.initialTouched||$u}))},[v,I.initialTouched]),ie.useEffect(function(){v&&z.current===!0&&!Ai(F.current,I.initialStatus)&&(F.current=I.initialStatus,P({type:"SET_STATUS",payload:I.initialStatus}))},[v,I.initialStatus,I.initialTouched]);var tt=Un(function(q){if(K.current[q]&&jt(K.current[q].validate)){var le=ct(Z.values,q),de=K.current[q].validate(le);return Bf(de)?(P({type:"SET_ISVALIDATING",payload:!0}),de.then(function(_e){return _e}).then(function(_e){P({type:"SET_FIELD_ERROR",payload:{field:q,value:_e}}),P({type:"SET_ISVALIDATING",payload:!1})})):(P({type:"SET_FIELD_ERROR",payload:{field:q,value:de}}),Promise.resolve(de))}else if(I.validationSchema)return P({type:"SET_ISVALIDATING",payload:!0}),A(Z.values,q).then(function(_e){return _e}).then(function(_e){P({type:"SET_FIELD_ERROR",payload:{field:q,value:ct(_e,q)}}),P({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ft=ie.useCallback(function(q,le){var de=le.validate;K.current[q]={validate:de}},[]),Oe=ie.useCallback(function(q){delete K.current[q]},[]),ne=Un(function(q,le){P({type:"SET_TOUCHED",payload:q});var de=le===void 0?o:le;return de?C(Z.values):Promise.resolve()}),me=ie.useCallback(function(q){P({type:"SET_ERRORS",payload:q})},[]),ae=Un(function(q,le){var de=jt(q)?q(Z.values):q;P({type:"SET_VALUES",payload:de});var _e=le===void 0?t:le;return _e?C(de):Promise.resolve()}),V=ie.useCallback(function(q,le){P({type:"SET_FIELD_ERROR",payload:{field:q,value:le}})},[]),G=Un(function(q,le,de){P({type:"SET_FIELD_VALUE",payload:{field:q,value:le}});var _e=de===void 0?t:de;return _e?C(Ar(Z.values,q,le)):Promise.resolve()}),ue=ie.useCallback(function(q,le){var de=le,_e=q,ve;if(!zf(q)){q.persist&&q.persist();var Re=q.target?q.target:q.currentTarget,Je=Re.type,Yt=Re.name,xn=Re.id,Hn=Re.value,Dr=Re.checked,zs=Re.outerHTML,ti=Re.options,Wi=Re.multiple;de=le||Yt||xn,_e=/number|range/.test(Je)?(ve=parseFloat(Hn),isNaN(ve)?"":ve):/checkbox/.test(Je)?Vx(ct(Z.values,de),Dr,Hn):ti&&Wi?Ox(ti):Hn}de&&G(de,_e)},[G,Z.values]),Te=Un(function(q){if(zf(q))return function(le){return ue(le,q)};ue(q)}),Ee=Un(function(q,le,de){le===void 0&&(le=!0),P({type:"SET_FIELD_TOUCHED",payload:{field:q,value:le}});var _e=de===void 0?o:de;return _e?C(Z.values):Promise.resolve()}),xe=ie.useCallback(function(q,le){q.persist&&q.persist();var de=q.target,_e=de.name,ve=de.id,Re=de.outerHTML,Je=le||_e||ve;Ee(Je,!0)},[Ee]),Ne=Un(function(q){if(zf(q))return function(le){return xe(le,q)};xe(q)}),Me=ie.useCallback(function(q){jt(q)?P({type:"SET_FORMIK_STATE",payload:q}):P({type:"SET_FORMIK_STATE",payload:function(){return q}})},[]),Qe=ie.useCallback(function(q){P({type:"SET_STATUS",payload:q})},[]),yt=ie.useCallback(function(q){P({type:"SET_ISSUBMITTING",payload:q})},[]),gn=Un(function(){return P({type:"SUBMIT_ATTEMPT"}),C().then(function(q){var le=q instanceof Error,de=!le&&Object.keys(q).length===0;if(de){var _e;try{if(_e=xr(),_e===void 0)return}catch(ve){throw ve}return Promise.resolve(_e).then(function(ve){return z.current&&P({type:"SUBMIT_SUCCESS"}),ve}).catch(function(ve){if(z.current)throw P({type:"SUBMIT_FAILURE"}),ve})}else if(z.current&&(P({type:"SUBMIT_FAILURE"}),le))throw q})}),Zr=Un(function(q){q&&q.preventDefault&&jt(q.preventDefault)&&q.preventDefault(),q&&q.stopPropagation&&jt(q.stopPropagation)&&q.stopPropagation(),gn().catch(function(le){console.warn("Warning: An unhandled error was caught from submitForm()",le)})}),zn={resetForm:Ve,validateForm:C,validateField:tt,setErrors:me,setFieldError:V,setFieldTouched:Ee,setFieldValue:G,setStatus:Qe,setSubmitting:yt,setTouched:ne,setValues:ae,setFormikState:Me,submitForm:gn},xr=Un(function(){return E(Z.values,zn)}),ei=Un(function(q){q&&q.preventDefault&&jt(q.preventDefault)&&q.preventDefault(),q&&q.stopPropagation&&jt(q.stopPropagation)&&q.stopPropagation(),Ve()}),Hi=ie.useCallback(function(q){return{value:ct(Z.values,q),error:ct(Z.errors,q),touched:!!ct(Z.touched,q),initialValue:ct(b.current,q),initialTouched:!!ct(j.current,q),initialError:ct($.current,q)}},[Z.errors,Z.touched,Z.values]),Gi=ie.useCallback(function(q){return{setValue:function(de,_e){return G(q,de,_e)},setTouched:function(de,_e){return Ee(q,de,_e)},setError:function(de){return V(q,de)}}},[G,Ee,V]),Us=ie.useCallback(function(q){var le=_l(q),de=le?q.name:q,_e=ct(Z.values,de),ve={name:de,value:_e,onChange:Te,onBlur:Ne};if(le){var Re=q.type,Je=q.value,Yt=q.as,xn=q.multiple;Re==="checkbox"?Je===void 0?ve.checked=!!_e:(ve.checked=!!(Array.isArray(_e)&&~_e.indexOf(Je)),ve.value=Je):Re==="radio"?(ve.checked=_e===Je,ve.value=Je):Yt==="select"&&xn&&(ve.value=ve.value||[],ve.multiple=!0)}return ve},[Ne,Te,Z.values]),ur=ie.useMemo(function(){return!Ai(b.current,Z.values)},[b.current,Z.values]),Bn=ie.useMemo(function(){return typeof f<"u"?ur?Z.errors&&Object.keys(Z.errors).length===0:f!==!1&&jt(f)?f(I):f:Z.errors&&Object.keys(Z.errors).length===0},[f,ur,Z.errors,I]),qn=Xe({},Z,{initialValues:b.current,initialErrors:$.current,initialTouched:j.current,initialStatus:F.current,handleBlur:Ne,handleChange:Te,handleReset:ei,handleSubmit:Zr,resetForm:Ve,setErrors:me,setFormikState:Me,setFieldTouched:Ee,setFieldValue:G,setFieldError:V,setStatus:Qe,setSubmitting:yt,setTouched:ne,setValues:ae,submitForm:gn,validateForm:C,validateField:tt,isValid:Bn,dirty:ur,unregisterField:Oe,registerField:ft,getFieldProps:Us,getFieldMeta:Hi,getFieldHelpers:Gi,validateOnBlur:o,validateOnChange:t,validateOnMount:c});return qn}function xx(n){var e=kx(n),t=n.component,s=n.children,o=n.render,l=n.innerRef;return ie.useImperativeHandle(l,function(){return e}),ie.createElement(Ax,{value:e},t?ie.createElement(t,e):o?o(e):s?jt(s)?s(e):v1(s)?null:ie.Children.only(s):null)}function Dx(n){var e={};if(n.inner){if(n.inner.length===0)return Ar(e,n.path,n.message);for(var o=n.inner,t=Array.isArray(o),s=0,o=t?o:o[Symbol.iterator]();;){var l;if(t){if(s>=o.length)break;l=o[s++]}else{if(s=o.next(),s.done)break;l=s.value}var c=l;ct(e,c.path)||(e=Ar(e,c.path,c.message))}}return e}function bx(n,e,t,s){t===void 0&&(t=!1);var o=Td(n);return e[t?"validateSync":"validate"](o,{abortEarly:!1,context:o})}function Td(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var s=String(t);Array.isArray(n[s])===!0?e[s]=n[s].map(function(o){return Array.isArray(o)===!0||Yy(o)?Td(o):o!==""?o:void 0}):Yy(n[s])?e[s]=Td(n[s]):e[s]=n[s]!==""?n[s]:void 0}return e}function Nx(n,e,t){var s=n.slice();return e.forEach(function(l,c){if(typeof s[c]>"u"){var f=t.clone!==!1,m=f&&t.isMergeableObject(l);s[c]=m?yd(Array.isArray(l)?[]:{},l,t):l}else t.isMergeableObject(l)?s[c]=yd(n[c],l,t):n.indexOf(l)===-1&&s.push(l)}),s}function Ox(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function Vx(n,e,t){if(typeof n=="boolean")return!!e;var s=[],o=!1,l=-1;if(Array.isArray(n))s=n,l=n.indexOf(t),o=l>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!o?s.concat(t):o?s.slice(0,l).concat(s.slice(l+1)):s}var Fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ie.useLayoutEffect:ie.useEffect;function Un(n){var e=ie.useRef(n);return Fx(function(){e.current=n}),ie.useCallback(function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e.current.apply(void 0,s)},[])}function Rv(n){var e=n.validate,t=n.name,s=n.render,o=n.children,l=n.as,c=n.component,f=n.className,m=Ri(n,["validate","name","render","children","as","component","className"]),v=y1(),E=Ri(v,["validate","validationSchema"]),T=E.registerField,I=E.unregisterField;ie.useEffect(function(){return T(t,{validate:e}),function(){I(t)}},[T,I,t,e]);var b=E.getFieldProps(Xe({name:t},m)),$=E.getFieldMeta(t),j={field:b,form:E};if(s)return s(Xe({},j,{meta:$}));if(jt(o))return o(Xe({},j,{meta:$}));if(c){if(typeof c=="string"){var F=m.innerRef,z=Ri(m,["innerRef"]);return ie.createElement(c,Xe({ref:F},b,z,{className:f}),o)}return ie.createElement(c,Xe({field:b,form:E},m,{className:f}),o)}var K=l||"input";if(typeof K=="string"){var Q=m.innerRef,se=Ri(m,["innerRef"]);return ie.createElement(K,Xe({ref:Q},b,se,{className:f}),o)}return ie.createElement(K,Xe({},b,m,{className:f}),o)}var E1=ie.forwardRef(function(n,e){var t=n.action,s=Ri(n,["action"]),o=t??"#",l=y1(),c=l.handleReset,f=l.handleSubmit;return ie.createElement("form",Xe({onSubmit:f,ref:e,onReset:c,action:o},s))});E1.displayName="Form";function Mx(n){var e=function(o){return ie.createElement(Cx,null,function(l){return ie.createElement(n,Xe({},o,{formik:l}))})},t=n.displayName||n.name||n.constructor&&n.constructor.name||"Component";return e.WrappedComponent=n,e.displayName="FormikConnect("+t+")",Ix(e,n)}var Lx=function(e,t,s){var o=bs(e),l=o[t];return o.splice(t,1),o.splice(s,0,l),o},jx=function(e,t,s){var o=bs(e),l=o[t];return o[t]=o[s],o[s]=l,o},qf=function(e,t,s){var o=bs(e);return o.splice(t,0,s),o},$x=function(e,t,s){var o=bs(e);return o[t]=s,o},bs=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(s){return parseInt(s)}).reduce(function(s,o){return o>s?o:s},0);return Array.from(Xe({},e,{length:t+1}))}else return[]},Pv=function(e,t){var s=typeof e=="function"?e:t;return function(o){if(Array.isArray(o)||_l(o)){var l=bs(o);return s(l)}return o}},Ux=function(n){g1(e,n);function e(s){var o;return o=n.call(this,s)||this,o.updateArrayField=function(l,c,f){var m=o.props,v=m.name,E=m.formik.setFormikState;E(function(T){var I=Pv(f,l),b=Pv(c,l),$=Ar(T.values,v,l(ct(T.values,v))),j=f?I(ct(T.errors,v)):void 0,F=c?b(ct(T.touched,v)):void 0;return Cv(j)&&(j=void 0),Cv(F)&&(F=void 0),Xe({},T,{values:$,errors:f?Ar(T.errors,v,j):T.errors,touched:c?Ar(T.touched,v,F):T.touched})})},o.push=function(l){return o.updateArrayField(function(c){return[].concat(bs(c),[qa(l)])},!1,!1)},o.handlePush=function(l){return function(){return o.push(l)}},o.swap=function(l,c){return o.updateArrayField(function(f){return jx(f,l,c)},!0,!0)},o.handleSwap=function(l,c){return function(){return o.swap(l,c)}},o.move=function(l,c){return o.updateArrayField(function(f){return Lx(f,l,c)},!0,!0)},o.handleMove=function(l,c){return function(){return o.move(l,c)}},o.insert=function(l,c){return o.updateArrayField(function(f){return qf(f,l,c)},function(f){return qf(f,l,null)},function(f){return qf(f,l,null)})},o.handleInsert=function(l,c){return function(){return o.insert(l,c)}},o.replace=function(l,c){return o.updateArrayField(function(f){return $x(f,l,c)},!1,!1)},o.handleReplace=function(l,c){return function(){return o.replace(l,c)}},o.unshift=function(l){var c=-1;return o.updateArrayField(function(f){var m=f?[l].concat(f):[l];return c=m.length,m},function(f){return f?[null].concat(f):[null]},function(f){return f?[null].concat(f):[null]}),c},o.handleUnshift=function(l){return function(){return o.unshift(l)}},o.handleRemove=function(l){return function(){return o.remove(l)}},o.handlePop=function(){return function(){return o.pop()}},o.remove=o.remove.bind(Av(o)),o.pop=o.pop.bind(Av(o)),o}var t=e.prototype;return t.componentDidUpdate=function(o){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ai(ct(o.formik.values,o.name),ct(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},t.remove=function(o){var l;return this.updateArrayField(function(c){var f=c?bs(c):[];return l||(l=f[o]),jt(f.splice)&&f.splice(o,1),jt(f.every)&&f.every(function(m){return m===void 0})?[]:f},!0,!0),l},t.pop=function(){var o;return this.updateArrayField(function(l){var c=l.slice();return o||(o=c&&c.pop&&c.pop()),c},!0,!0),o},t.render=function(){var o={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},l=this.props,c=l.component,f=l.render,m=l.children,v=l.name,E=l.formik,T=Ri(E,["validate","validationSchema"]),I=Xe({},o,{form:T,name:v});return c?ie.createElement(c,I):f?f(I):m?typeof m=="function"?m(I):v1(m)?null:ie.Children.only(m):null},e}(ie.Component);Ux.defaultProps={validateOnChange:!0};var zx=function(n){g1(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.shouldComponentUpdate=function(o){return ct(this.props.formik.errors,this.props.name)!==ct(o.formik.errors,this.props.name)||ct(this.props.formik.touched,this.props.name)!==ct(o.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(o).length},t.render=function(){var o=this.props,l=o.component,c=o.formik,f=o.render,m=o.children,v=o.name,E=Ri(o,["component","formik","render","children","name"]),T=ct(c.touched,v),I=ct(c.errors,v);return T&&I?f?jt(f)?f(I):null:m?jt(m)?m(I):null:l?ie.createElement(l,E,I):I:null},e}(ie.Component),kv=Mx(zx),Bx=jv();const qx=({onClose:n,isOpen:e,children:t})=>Bx.createPortal(we.jsx(we.Fragment,{children:e&&we.jsx("div",{className:"absolute top-0 z-40 grid h-screen w-screen place-items-center backdrop-blur",children:we.jsxs("div",{className:"relative z-50 m-auto min-h-[200px] min-w-[80%] bg-white p-4",children:[we.jsx("div",{className:"flex justify-end",children:we.jsx(iw,{onClick:n,className:"self-end text-2xl"})}),t]})})}),document.getElementById("modal-root"));function w1(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=w1(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Pi(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=w1(n))&&(s&&(s+=" "),s+=e);return s}const cl=n=>typeof n=="number"&&!isNaN(n),Cs=n=>typeof n=="string",An=n=>typeof n=="function",Xu=n=>Cs(n)||An(n)?n:null,Sd=n=>ie.isValidElement(n)||Cs(n)||An(n)||cl(n);function Hx(n,e,t){t===void 0&&(t=300);const{scrollHeight:s,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function Hc(n){let{enter:e,exit:t,appendPosition:s=!1,collapse:o=!0,collapseDuration:l=300}=n;return function(c){let{children:f,position:m,preventExitTransition:v,done:E,nodeRef:T,isIn:I,playToast:b}=c;const $=s?`${e}--${m}`:e,j=s?`${t}--${m}`:t,F=ie.useRef(0);return ie.useLayoutEffect(()=>{const z=T.current,K=$.split(" "),Q=se=>{se.target===T.current&&(b(),z.removeEventListener("animationend",Q),z.removeEventListener("animationcancel",Q),F.current===0&&se.type!=="animationcancel"&&z.classList.remove(...K))};z.classList.add(...K),z.addEventListener("animationend",Q),z.addEventListener("animationcancel",Q)},[]),ie.useEffect(()=>{const z=T.current,K=()=>{z.removeEventListener("animationend",K),o?Hx(z,E,l):E()};I||(v?K():(F.current=1,z.className+=` ${j}`,z.addEventListener("animationend",K)))},[I]),qe.createElement(qe.Fragment,null,f)}}function xv(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const tn=new Map;let hl=[];const Id=new Set,Gx=n=>Id.forEach(e=>e(n)),T1=()=>tn.size>0;function S1(n,e){var t;if(e)return!((t=tn.get(e))==null||!t.isToastActive(n));let s=!1;return tn.forEach(o=>{o.isToastActive(n)&&(s=!0)}),s}function I1(n,e){Sd(n)&&(T1()||hl.push({content:n,options:e}),tn.forEach(t=>{t.buildToast(n,e)}))}function Dv(n,e){tn.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function Wx(n){const{subscribe:e,getSnapshot:t,setProps:s}=ie.useRef(function(l){const c=l.containerId||1;return{subscribe(f){const m=function(E,T,I){let b=1,$=0,j=[],F=[],z=[],K=T;const Q=new Map,se=new Set,W=()=>{z=Array.from(Q.values()),se.forEach(S=>S())},Z=S=>{F=S==null?[]:F.filter(A=>A!==S),W()},P=S=>{const{toastId:A,onOpen:x,updateId:k,children:O}=S.props,C=k==null;S.staleId&&Q.delete(S.staleId),Q.set(A,S),F=[...F,S.props.toastId].filter(Ve=>Ve!==S.staleId),W(),I(xv(S,C?"added":"updated")),C&&An(x)&&x(ie.isValidElement(O)&&O.props)};return{id:E,props:K,observe:S=>(se.add(S),()=>se.delete(S)),toggle:(S,A)=>{Q.forEach(x=>{A!=null&&A!==x.props.toastId||An(x.toggle)&&x.toggle(S)})},removeToast:Z,toasts:Q,clearQueue:()=>{$-=j.length,j=[]},buildToast:(S,A)=>{if((G=>{let{containerId:ue,toastId:Te,updateId:Ee}=G;const xe=ue?ue!==E:E!==1,Ne=Q.has(Te)&&Ee==null;return xe||Ne})(A))return;const{toastId:x,updateId:k,data:O,staleId:C,delay:Ve}=A,tt=()=>{Z(x)},ft=k==null;ft&&$++;const Oe={...K,style:K.toastStyle,key:b++,...Object.fromEntries(Object.entries(A).filter(G=>{let[ue,Te]=G;return Te!=null})),toastId:x,updateId:k,data:O,closeToast:tt,isIn:!1,className:Xu(A.className||K.toastClassName),bodyClassName:Xu(A.bodyClassName||K.bodyClassName),progressClassName:Xu(A.progressClassName||K.progressClassName),autoClose:!A.isLoading&&(ne=A.autoClose,me=K.autoClose,ne===!1||cl(ne)&&ne>0?ne:me),deleteToast(){const G=Q.get(x),{onClose:ue,children:Te}=G.props;An(ue)&&ue(ie.isValidElement(Te)&&Te.props),I(xv(G,"removed")),Q.delete(x),$--,$<0&&($=0),j.length>0?P(j.shift()):W()}};var ne,me;Oe.closeButton=K.closeButton,A.closeButton===!1||Sd(A.closeButton)?Oe.closeButton=A.closeButton:A.closeButton===!0&&(Oe.closeButton=!Sd(K.closeButton)||K.closeButton);let ae=S;ie.isValidElement(S)&&!Cs(S.type)?ae=ie.cloneElement(S,{closeToast:tt,toastProps:Oe,data:O}):An(S)&&(ae=S({closeToast:tt,toastProps:Oe,data:O}));const V={content:ae,props:Oe,staleId:C};K.limit&&K.limit>0&&$>K.limit&&ft?j.push(V):cl(Ve)?setTimeout(()=>{P(V)},Ve):P(V)},setProps(S){K=S},setToggle:(S,A)=>{Q.get(S).toggle=A},isToastActive:S=>F.some(A=>A===S),getSnapshot:()=>z}}(c,l,Gx);tn.set(c,m);const v=m.observe(f);return hl.forEach(E=>I1(E.content,E.options)),hl=[],()=>{v(),tn.delete(c)}},setProps(f){var m;(m=tn.get(c))==null||m.setProps(f)},getSnapshot(){var f;return(f=tn.get(c))==null?void 0:f.getSnapshot()}}}(n)).current;s(n);const o=ie.useSyncExternalStore(e,t,t);return{getToastToRender:function(l){if(!o)return[];const c=new Map;return n.newestOnTop&&o.reverse(),o.forEach(f=>{const{position:m}=f.props;c.has(m)||c.set(m,[]),c.get(m).push(f)}),Array.from(c,f=>l(f[0],f[1]))},isToastActive:S1,count:o==null?void 0:o.length}}function Kx(n){const[e,t]=ie.useState(!1),[s,o]=ie.useState(!1),l=ie.useRef(null),c=ie.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:m,closeToast:v,onClick:E,closeOnClick:T}=n;var I,b;function $(){t(!0)}function j(){t(!1)}function F(Q){const se=l.current;c.canDrag&&se&&(c.didMove=!0,e&&j(),c.delta=n.draggableDirection==="x"?Q.clientX-c.start:Q.clientY-c.start,c.start!==Q.clientX&&(c.canCloseOnClick=!1),se.style.transform=`translate3d(${n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,se.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function z(){document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",z);const Q=l.current;if(c.canDrag&&c.didMove&&Q){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),n.closeToast(),void n.collapseAll();Q.style.transition="transform 0.2s, opacity 0.2s",Q.style.removeProperty("transform"),Q.style.removeProperty("opacity")}}(b=tn.get((I={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||b.setToggle(I.id,I.fn),ie.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||j(),window.addEventListener("focus",$),window.addEventListener("blur",j),()=>{window.removeEventListener("focus",$),window.removeEventListener("blur",j)}},[n.pauseOnFocusLoss]);const K={onPointerDown:function(Q){if(n.draggable===!0||n.draggable===Q.pointerType){c.didMove=!1,document.addEventListener("pointermove",F),document.addEventListener("pointerup",z);const se=l.current;c.canCloseOnClick=!0,c.canDrag=!0,se.style.transition="none",n.draggableDirection==="x"?(c.start=Q.clientX,c.removalDistance=se.offsetWidth*(n.draggablePercent/100)):(c.start=Q.clientY,c.removalDistance=se.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(Q){const{top:se,bottom:W,left:Z,right:P}=l.current.getBoundingClientRect();Q.nativeEvent.type!=="touchend"&&n.pauseOnHover&&Q.clientX>=Z&&Q.clientX<=P&&Q.clientY>=se&&Q.clientY<=W?j():$()}};return f&&m&&(K.onMouseEnter=j,n.stacked||(K.onMouseLeave=$)),T&&(K.onClick=Q=>{E&&E(Q),c.canCloseOnClick&&v()}),{playToast:$,pauseToast:j,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:K}}function Qx(n){let{delay:e,isRunning:t,closeToast:s,type:o="default",hide:l,className:c,style:f,controlledProgress:m,progress:v,rtl:E,isIn:T,theme:I}=n;const b=l||m&&v===0,$={...f,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};m&&($.transform=`scaleX(${v})`);const j=Pi("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${I}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":E}),F=An(c)?c({rtl:E,type:o,defaultClassName:j}):Pi(j,c),z={[m&&v>=1?"onTransitionEnd":"onAnimationEnd"]:m&&v<1?null:()=>{T&&s()}};return qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${I} Toastify__progress-bar--${o}`}),qe.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:F,style:$,...z}))}let Yx=1;const A1=()=>""+Yx++;function Xx(n){return n&&(Cs(n.toastId)||cl(n.toastId))?n.toastId:A1()}function Ja(n,e){return I1(n,e),e.toastId}function yc(n,e){return{...e,type:e&&e.type||n,toastId:Xx(e)}}function Uu(n){return(e,t)=>Ja(e,yc(n,t))}function Ze(n,e){return Ja(n,yc("default",e))}Ze.loading=(n,e)=>Ja(n,yc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ze.promise=function(n,e,t){let s,{pending:o,error:l,success:c}=e;o&&(s=Cs(o)?Ze.loading(o,t):Ze.loading(o.render,{...t,...o}));const f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(E,T,I)=>{if(T==null)return void Ze.dismiss(s);const b={type:E,...f,...t,data:I},$=Cs(T)?{render:T}:T;return s?Ze.update(s,{...b,...$}):Ze($.render,{...b,...$}),I},v=An(n)?n():n;return v.then(E=>m("success",c,E)).catch(E=>m("error",l,E)),v},Ze.success=Uu("success"),Ze.info=Uu("info"),Ze.error=Uu("error"),Ze.warning=Uu("warning"),Ze.warn=Ze.warning,Ze.dark=(n,e)=>Ja(n,yc("default",{theme:"dark",...e})),Ze.dismiss=function(n){(function(e){var t;if(T1()){if(e==null||Cs(t=e)||cl(t))tn.forEach(s=>{s.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const s=tn.get(e.containerId);s?s.removeToast(e.id):tn.forEach(o=>{o.removeToast(e.id)})}}else hl=hl.filter(s=>e!=null&&s.options.toastId!==e)})(n)},Ze.clearWaitingQueue=function(n){n===void 0&&(n={}),tn.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},Ze.isActive=S1,Ze.update=function(n,e){e===void 0&&(e={});const t=((s,o)=>{var l;let{containerId:c}=o;return(l=tn.get(c||1))==null?void 0:l.toasts.get(s)})(n,e);if(t){const{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||n,updateId:A1()};l.toastId!==n&&(l.staleId=n);const c=l.render||o;delete l.render,Ja(c,l)}},Ze.done=n=>{Ze.update(n,{progress:1})},Ze.onChange=function(n){return Id.add(n),()=>{Id.delete(n)}},Ze.play=n=>Dv(!0,n),Ze.pause=n=>Dv(!1,n);const Jx=typeof window<"u"?ie.useLayoutEffect:ie.useEffect,zu=n=>{let{theme:e,type:t,isLoading:s,...o}=n;return qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o})},Hf={info:function(n){return qe.createElement(zu,{...n},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return qe.createElement(zu,{...n},qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return qe.createElement(zu,{...n},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return qe.createElement(zu,{...n},qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return qe.createElement("div",{className:"Toastify__spinner"})}},Zx=n=>{const{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=Kx(n),{closeButton:c,children:f,autoClose:m,onClick:v,type:E,hideProgressBar:T,closeToast:I,transition:b,position:$,className:j,style:F,bodyClassName:z,bodyStyle:K,progressClassName:Q,progressStyle:se,updateId:W,role:Z,progress:P,rtl:S,toastId:A,deleteToast:x,isIn:k,isLoading:O,closeOnClick:C,theme:Ve}=n,tt=Pi("Toastify__toast",`Toastify__toast-theme--${Ve}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":C}),ft=An(j)?j({rtl:S,position:$,type:E,defaultClassName:tt}):Pi(tt,j),Oe=function(V){let{theme:G,type:ue,isLoading:Te,icon:Ee}=V,xe=null;const Ne={theme:G,type:ue};return Ee===!1||(An(Ee)?xe=Ee({...Ne,isLoading:Te}):ie.isValidElement(Ee)?xe=ie.cloneElement(Ee,Ne):Te?xe=Hf.spinner():(Me=>Me in Hf)(ue)&&(xe=Hf[ue](Ne))),xe}(n),ne=!!P||!m,me={closeToast:I,type:E,theme:Ve};let ae=null;return c===!1||(ae=An(c)?c(me):ie.isValidElement(c)?ie.cloneElement(c,me):function(V){let{closeToast:G,theme:ue,ariaLabel:Te="close"}=V;return qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ue}`,type:"button",onClick:Ee=>{Ee.stopPropagation(),G(Ee)},"aria-label":Te},qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(me)),qe.createElement(b,{isIn:k,done:x,position:$,preventExitTransition:t,nodeRef:s,playToast:l},qe.createElement("div",{id:A,onClick:v,"data-in":k,className:ft,...o,style:F,ref:s},qe.createElement("div",{...k&&{role:Z},className:An(z)?z({type:E}):Pi("Toastify__toast-body",z),style:K},Oe!=null&&qe.createElement("div",{className:Pi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},Oe),qe.createElement("div",null,f)),ae,qe.createElement(Qx,{...W&&!ne?{key:`pb-${W}`}:{},rtl:S,theme:Ve,delay:m,isRunning:e,isIn:k,closeToast:I,hide:T,type:E,style:se,className:Q,controlledProgress:ne,progress:P||0})))},Gc=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},e4=Hc(Gc("bounce",!0));Hc(Gc("slide",!0));Hc(Gc("zoom"));Hc(Gc("flip"));const t4={position:"top-right",transition:e4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function n4(n){let e={...t4,...n};const t=n.stacked,[s,o]=ie.useState(!0),l=ie.useRef(null),{getToastToRender:c,isToastActive:f,count:m}=Wx(e),{className:v,style:E,rtl:T,containerId:I}=e;function b(j){const F=Pi("Toastify__toast-container",`Toastify__toast-container--${j}`,{"Toastify__toast-container--rtl":T});return An(v)?v({position:j,rtl:T,defaultClassName:F}):Pi(F,Xu(v))}function $(){t&&(o(!0),Ze.play())}return Jx(()=>{if(t){var j;const F=l.current.querySelectorAll('[data-in="true"]'),z=12,K=(j=e.position)==null?void 0:j.includes("top");let Q=0,se=0;Array.from(F).reverse().forEach((W,Z)=>{const P=W;P.classList.add("Toastify__toast--stacked"),Z>0&&(P.dataset.collapsed=`${s}`),P.dataset.pos||(P.dataset.pos=K?"top":"bot");const S=Q*(s?.2:1)+(s?0:z*Z);P.style.setProperty("--y",`${K?S:-1*S}px`),P.style.setProperty("--g",`${z}`),P.style.setProperty("--s",""+(1-(s?se:0))),Q+=P.offsetHeight,se+=.025})}},[s,m,t]),qe.createElement("div",{ref:l,className:"Toastify",id:I,onMouseEnter:()=>{t&&(o(!1),Ze.pause())},onMouseLeave:$},c((j,F)=>{const z=F.length?{...E}:{...E,pointerEvents:"none"};return qe.createElement("div",{className:b(j),style:z,key:`container-${j}`},F.map(K=>{let{content:Q,props:se}=K;return qe.createElement(Zx,{...se,stacked:t,collapseAll:$,isIn:f(se.toastId,se.containerId),style:se.style,key:`toast-${se.key}`},Q)}))}))}var Gf,bv;function r4(){if(bv)return Gf;bv=1;function n(z){this._maxSize=z,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(z){return this._values[z]},n.prototype.set=function(z,K){return this._size>=this._maxSize&&this.clear(),z in this._values||this._size++,this._values[z]=K};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,s=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,c=512,f=new n(c),m=new n(c),v=new n(c);Gf={Cache:n,split:T,normalizePath:E,setter:function(z){var K=E(z);return m.get(z)||m.set(z,function(se,W){for(var Z=0,P=K.length,S=se;Z<P-1;){var A=K[Z];if(A==="__proto__"||A==="constructor"||A==="prototype")return se;S=S[K[Z++]]}S[K[Z]]=W})},getter:function(z,K){var Q=E(z);return v.get(z)||v.set(z,function(W){for(var Z=0,P=Q.length;Z<P;)if(W!=null||!K)W=W[Q[Z++]];else return;return W})},join:function(z){return z.reduce(function(K,Q){return K+(b(Q)||t.test(Q)?"["+Q+"]":(K?".":"")+Q)},"")},forEach:function(z,K,Q){I(Array.isArray(z)?z:T(z),K,Q)}};function E(z){return f.get(z)||f.set(z,T(z).map(function(K){return K.replace(l,"$2")}))}function T(z){return z.match(e)||[""]}function I(z,K,Q){var se=z.length,W,Z,P,S;for(Z=0;Z<se;Z++)W=z[Z],W&&(F(W)&&(W='"'+W+'"'),S=b(W),P=!S&&/^\d+$/.test(W),K.call(Q,W,S,P,Z,z))}function b(z){return typeof z=="string"&&z&&["'",'"'].indexOf(z.charAt(0))!==-1}function $(z){return z.match(s)&&!z.match(t)}function j(z){return o.test(z)}function F(z){return!b(z)&&($(z)||j(z))}return Gf}var Rs=r4(),Wf,Nv;function i4(){if(Nv)return Wf;Nv=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=E=>E.match(n)||[],t=E=>E[0].toUpperCase()+E.slice(1),s=(E,T)=>e(E).join(T).toLowerCase(),o=E=>e(E).reduce((T,I)=>`${T}${T?I[0].toUpperCase()+I.slice(1).toLowerCase():I.toLowerCase()}`,"");return Wf={words:e,upperFirst:t,camelCase:o,pascalCase:E=>t(o(E)),snakeCase:E=>s(E,"_"),kebabCase:E=>s(E,"-"),sentenceCase:E=>t(s(E," ")),titleCase:E=>e(E).map(t).join(" ")},Wf}var Kf=i4(),Bu={exports:{}},Ov;function s4(){if(Ov)return Bu.exports;Ov=1,Bu.exports=function(o){return n(e(o),o)},Bu.exports.array=n;function n(o,l){var c=o.length,f=new Array(c),m={},v=c,E=t(l),T=s(o);for(l.forEach(function(b){if(!T.has(b[0])||!T.has(b[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});v--;)m[v]||I(o[v],v,new Set);return f;function I(b,$,j){if(j.has(b)){var F;try{F=", node was:"+JSON.stringify(b)}catch{F=""}throw new Error("Cyclic dependency"+F)}if(!T.has(b))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(b));if(!m[$]){m[$]=!0;var z=E.get(b)||new Set;if(z=Array.from(z),$=z.length){j.add(b);do{var K=z[--$];I(K,T.get(K),j)}while($);j.delete(b)}f[--c]=b}}}function e(o){for(var l=new Set,c=0,f=o.length;c<f;c++){var m=o[c];l.add(m[0]),l.add(m[1])}return Array.from(l)}function t(o){for(var l=new Map,c=0,f=o.length;c<f;c++){var m=o[c];l.has(m[0])||l.set(m[0],new Set),l.has(m[1])||l.set(m[1],new Set),l.get(m[0]).add(m[1])}return l}function s(o){for(var l=new Map,c=0,f=o.length;c<f;c++)l.set(o[c],c);return l}return Bu.exports}var o4=s4();const a4=Ec(o4),l4=Object.prototype.toString,u4=Error.prototype.toString,c4=RegExp.prototype.toString,h4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",f4=/^Symbol\((.*)\)(.*)$/;function d4(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function Vv(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return d4(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return h4.call(n).replace(f4,"Symbol($1)");const s=l4.call(n).slice(8,-1);return s==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):s==="Error"||n instanceof Error?"["+u4.call(n)+"]":s==="RegExp"?c4.call(n):null}function Ni(n,e){let t=Vv(n,e);return t!==null?t:JSON.stringify(n,function(s,o){let l=Vv(this[s],e);return l!==null?l:o},2)}function C1(n){return n==null?[]:[].concat(n)}let R1,P1,k1,p4=/\$\{\s*(\w+)\s*\}/g;R1=Symbol.toStringTag;class Fv{constructor(e,t,s,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[R1]="Error",this.name="ValidationError",this.value=t,this.path=s,this.type=o,this.errors=[],this.inner=[],C1(e).forEach(l=>{if(dn.isError(l)){this.errors.push(...l.errors);const c=l.inner.length?l.inner:[l];this.inner.push(...c)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}P1=Symbol.hasInstance;k1=Symbol.toStringTag;class dn extends Error{static formatError(e,t){const s=t.label||t.path||"this";return s!==t.path&&(t=Object.assign({},t,{path:s})),typeof e=="string"?e.replace(p4,(o,l)=>Ni(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,s,o,l){const c=new Fv(e,t,s,o);if(l)return c;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[k1]="Error",this.name=c.name,this.message=c.message,this.type=c.type,this.value=c.value,this.path=c.path,this.errors=c.errors,this.inner=c.inner,Error.captureStackTrace&&Error.captureStackTrace(this,dn)}static[P1](e){return Fv[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let wr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:s})=>{const o=s!=null&&s!==t?` (cast from the value \`${Ni(s,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Ni(t,!0)}\``+o:`${n} must match the configured type. The validated value was: \`${Ni(t,!0)}\``+o}},hn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},m4={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ad={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},g4={isValue:"${path} field must be ${value}"},Cd={noUnknown:"${path} field has unspecified keys: ${unknown}"},y4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},v4={notType:n=>{const{path:e,value:t,spec:s}=n,o=s.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${Ni(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${Ni(t,!0)}\``}return dn.formatError(wr.notType,n)}};Object.assign(Object.create(null),{mixed:wr,string:hn,number:m4,date:Ad,object:Cd,array:y4,boolean:g4,tuple:v4});const Ip=n=>n&&n.__isYupSchema__;class vc{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:o,otherwise:l}=t,c=typeof s=="function"?s:(...f)=>f.every(m=>m===s);return new vc(e,(f,m)=>{var v;let E=c(...f)?o:l;return(v=E==null?void 0:E(m))!=null?v:m})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let s=this.refs.map(l=>l.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(s,e,t);if(o===void 0||o===e)return e;if(!Ip(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const qu={context:"$",value:"."};class $s{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qu.context,this.isValue=this.key[0]===qu.value,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?qu.context:this.isValue?qu.value:"";this.path=this.key.slice(s.length),this.getter=this.path&&Rs.getter(this.path,!0),this.map=t.map}getValue(e,t,s){let o=this.isContext?s:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}$s.prototype.__isYupRef=!0;const Ss=n=>n==null;function Do(n){function e({value:t,path:s="",options:o,originalValue:l,schema:c},f,m){const{name:v,test:E,params:T,message:I,skipAbsent:b}=n;let{parent:$,context:j,abortEarly:F=c.spec.abortEarly,disableStackTrace:z=c.spec.disableStackTrace}=o;function K(k){return $s.isRef(k)?k.getValue(t,$,j):k}function Q(k={}){const O=Object.assign({value:t,originalValue:l,label:c.spec.label,path:k.path||s,spec:c.spec,disableStackTrace:k.disableStackTrace||z},T,k.params);for(const Ve of Object.keys(O))O[Ve]=K(O[Ve]);const C=new dn(dn.formatError(k.message||I,O),t,O.path,k.type||v,O.disableStackTrace);return C.params=O,C}const se=F?f:m;let W={path:s,parent:$,type:v,from:o.from,createError:Q,resolve:K,options:o,originalValue:l,schema:c};const Z=k=>{dn.isError(k)?se(k):k?m(null):se(Q())},P=k=>{dn.isError(k)?se(k):f(k)};if(b&&Ss(t))return Z(!0);let A;try{var x;if(A=E.call(W,t,W),typeof((x=A)==null?void 0:x.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${W.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then(Z,P)}}catch(k){P(k);return}Z(A)}return e.OPTIONS=n,e}function _4(n,e,t,s=t){let o,l,c;return e?(Rs.forEach(e,(f,m,v)=>{let E=m?f.slice(1,f.length-1):f;n=n.resolve({context:s,parent:o,value:t});let T=n.type==="tuple",I=v?parseInt(E,10):0;if(n.innerType||T){if(T&&!v)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${c}" must contain an index to the tuple element, e.g. "${c}[0]"`);if(t&&I>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${f}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[I],n=T?n.spec.types[I]:n.innerType}if(!v){if(!n.fields||!n.fields[E])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${c} which is a type: "${n.type}")`);o=t,t=t&&t[E],n=n.fields[E]}l=E,c=m?"["+f+"]":"."+f}),{schema:n,parent:o,parentPath:l}):{parent:o,parentPath:e,schema:n}}class _c extends Set{describe(){const e=[];for(const t of this.values())e.push($s.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const s of this.values())t.push(e(s));return t}clone(){return new _c(this.values())}merge(e,t){const s=this.clone();return e.forEach(o=>s.add(o)),t.forEach(o=>s.delete(o)),s}}function Fo(n,e=new Map){if(Ip(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let s=0;s<n.length;s++)t[s]=Fo(n[s],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[s,o]of n.entries())t.set(s,Fo(o,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const s of n)t.add(Fo(s,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[s,o]of Object.entries(n))t[s]=Fo(o,e)}else throw Error(`Unable to clone ${n}`);return t}class Pr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new _c,this._blacklist=new _c,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(wr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Fo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let s=e(this);return this._mutate=t,s}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,s=e.clone();const o=Object.assign({},t.spec,s.spec);return s.spec=o,s.internalTests=Object.assign({},t.internalTests,s.internalTests),s._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),s._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),s.tests=t.tests,s.exclusiveTests=t.exclusiveTests,s.withMutation(l=>{e.tests.forEach(c=>{l.test(c.OPTIONS)})}),s.transforms=[...t.transforms,...s.transforms],s}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let s=t.conditions;t=t.clone(),t.conditions=[],t=s.reduce((o,l)=>l.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,s,o,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(s=e.abortEarly)!=null?s:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let s=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",l=s._cast(e,t);if(t.assert!==!1&&!s.isType(l)){if(o&&Ss(l))return l;let c=Ni(e),f=Ni(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". 

attempted value: ${c} 
`+(f!==c?`result of cast: ${f}`:""))}return l}_cast(e,t){let s=e===void 0?e:this.transforms.reduce((o,l)=>l.call(this,o,e,this),e);return s===void 0&&(s=this.getDefault(t)),s}_validate(e,t={},s,o){let{path:l,originalValue:c=e,strict:f=this.spec.strict}=t,m=e;f||(m=this._cast(m,Object.assign({assert:!1},t)));let v=[];for(let E of Object.values(this.internalTests))E&&v.push(E);this.runTests({path:l,value:m,originalValue:c,options:t,tests:v},s,E=>{if(E.length)return o(E,m);this.runTests({path:l,value:m,originalValue:c,options:t,tests:this.tests},s,o)})}runTests(e,t,s){let o=!1,{tests:l,value:c,originalValue:f,path:m,options:v}=e,E=j=>{o||(o=!0,t(j,c))},T=j=>{o||(o=!0,s(j,c))},I=l.length,b=[];if(!I)return T([]);let $={value:c,originalValue:f,path:m,options:v,schema:this};for(let j=0;j<l.length;j++){const F=l[j];F($,E,function(K){K&&(Array.isArray(K)?b.push(...K):b.push(K)),--I<=0&&T(b)})}}asNestedTest({key:e,index:t,parent:s,parentPath:o,originalParent:l,options:c}){const f=e??t;if(f==null)throw TypeError("Must include `key` or `index` for nested validations");const m=typeof f=="number";let v=s[f];const E=Object.assign({},c,{strict:!0,parent:s,value:v,originalValue:l[f],key:void 0,[m?"index":"key"]:f,path:m||f.includes(".")?`${o||""}[${m?f:`"${f}"`}]`:(o?`${o}.`:"")+e});return(T,I,b)=>this.resolve(E)._validate(v,E,I,b)}validate(e,t){var s;let o=this.resolve(Object.assign({},t,{value:e})),l=(s=t==null?void 0:t.disableStackTrace)!=null?s:o.spec.disableStackTrace;return new Promise((c,f)=>o._validate(e,t,(m,v)=>{dn.isError(m)&&(m.value=v),f(m)},(m,v)=>{m.length?f(new dn(m,v,void 0,void 0,l)):c(v)}))}validateSync(e,t){var s;let o=this.resolve(Object.assign({},t,{value:e})),l,c=(s=t==null?void 0:t.disableStackTrace)!=null?s:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(f,m)=>{throw dn.isError(f)&&(f.value=m),f},(f,m)=>{if(f.length)throw new dn(f,e,void 0,void 0,c);l=m}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,s=>{if(dn.isError(s))return!1;throw s})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(s){if(dn.isError(s))return!1;throw s}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Fo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const s=this.clone({nullable:e});return s.internalTests.nullable=Do({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),s}optionality(e,t){const s=this.clone({optional:e});return s.internalTests.optionality=Do({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),s}optional(){return this.optionality(!0)}defined(e=wr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=wr.notNull){return this.nullability(!1,e)}required(e=wr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=wr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let s=this.clone(),o=Do(t),l=t.exclusive||t.name&&s.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(s.exclusiveTests[t.name]=!!t.exclusive),s.tests=s.tests.filter(c=>!(c.OPTIONS.name===t.name&&(l||c.OPTIONS.test===o.OPTIONS.test))),s.tests.push(o),s}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let s=this.clone(),o=C1(e).map(l=>new $s(l));return o.forEach(l=>{l.isSibling&&s.deps.push(l.key)}),s.conditions.push(typeof t=="function"?new vc(o,t):vc.fromOptions(o,t)),s}typeError(e){let t=this.clone();return t.internalTests.typeError=Do({message:e,name:"typeError",skipAbsent:!0,test(s){return this.schema._typeCheck(s)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=wr.oneOf){let s=this.clone();return e.forEach(o=>{s._whitelist.add(o),s._blacklist.delete(o)}),s.internalTests.whiteList=Do({message:t,name:"oneOf",skipAbsent:!0,test(o){let l=this.schema._whitelist,c=l.resolveAll(this.resolve);return c.includes(o)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:c}})}}),s}notOneOf(e,t=wr.notOneOf){let s=this.clone();return e.forEach(o=>{s._blacklist.add(o),s._whitelist.delete(o)}),s.internalTests.blacklist=Do({message:t,name:"notOneOf",test(o){let l=this.schema._blacklist,c=l.resolveAll(this.resolve);return c.includes(o)?this.createError({params:{values:Array.from(l).join(", "),resolved:c}}):!0}}),s}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:s,meta:o,optional:l,nullable:c}=t.spec;return{meta:o,label:s,optional:l,nullable:c,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(m=>({name:m.OPTIONS.name,params:m.OPTIONS.params})).filter((m,v,E)=>E.findIndex(T=>T.name===m.name)===v)}}}Pr.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Pr.prototype[`${n}At`]=function(e,t,s={}){const{parent:o,parentPath:l,schema:c}=_4(this,e,t,s.context);return c[n](o&&o[l],Object.assign({},s,{parent:o,path:e}))};for(const n of["equals","is"])Pr.prototype[n]=Pr.prototype.oneOf;for(const n of["not","nope"])Pr.prototype[n]=Pr.prototype.notOneOf;const E4=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function w4(n){const e=Rd(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Rd(n){var e,t;const s=E4.exec(n);return s?{year:Gr(s[1]),month:Gr(s[2],1)-1,day:Gr(s[3],1),hour:Gr(s[4]),minute:Gr(s[5]),second:Gr(s[6]),millisecond:s[7]?Gr(s[7].substring(0,3)):0,precision:(e=(t=s[7])==null?void 0:t.length)!=null?e:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:Gr(s[10]),minuteOffset:Gr(s[11])}:null}function Gr(n,e=0){return Number(n)||e}let T4=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,S4=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,I4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,A4="^\\d{4}-\\d{2}-\\d{2}",C4="\\d{2}:\\d{2}:\\d{2}",R4="(([+-]\\d{2}(:?\\d{2})?)|Z)",P4=new RegExp(`${A4}T${C4}(\\.\\d+)?${R4}$`),k4=n=>Ss(n)||n===n.trim(),x4={}.toString();function Pd(){return new x1}class x1 extends Pr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,s)=>{if(!s.spec.coerce||s.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===x4?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||wr.required,name:"required",skipAbsent:!0,test:s=>!!s.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=hn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(s){return s.length===this.resolve(e)}})}min(e,t=hn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s.length>=this.resolve(e)}})}max(e,t=hn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(s){return s.length<=this.resolve(e)}})}matches(e,t){let s=!1,o,l;return t&&(typeof t=="object"?{excludeEmptyString:s=!1,message:o,name:l}=t:o=t),this.test({name:l||"matches",message:o||hn.matches,params:{regex:e},skipAbsent:!0,test:c=>c===""&&s||c.search(e)!==-1})}email(e=hn.email){return this.matches(T4,{name:"email",message:e,excludeEmptyString:!0})}url(e=hn.url){return this.matches(S4,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=hn.uuid){return this.matches(I4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",s,o;return e&&(typeof e=="object"?{message:t="",allowOffset:s=!1,precision:o=void 0}=e:t=e),this.matches(P4,{name:"datetime",message:t||hn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||hn.datetime_offset,params:{allowOffset:s},skipAbsent:!0,test:l=>{if(!l||s)return!0;const c=Rd(l);return c?!!c.z:!1}}).test({name:"datetime_precision",message:t||hn.datetime_precision,params:{precision:o},skipAbsent:!0,test:l=>{if(!l||o==null)return!0;const c=Rd(l);return c?c.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=hn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:k4})}lowercase(e=hn.lowercase){return this.transform(t=>Ss(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ss(t)||t===t.toLowerCase()})}uppercase(e=hn.uppercase){return this.transform(t=>Ss(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ss(t)||t===t.toUpperCase()})}}Pd.prototype=x1.prototype;let D4=new Date(""),b4=n=>Object.prototype.toString.call(n)==="[object Date]";class Wc extends Pr{constructor(){super({type:"date",check(e){return b4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,s)=>!s.spec.coerce||s.isType(e)||e===null?e:(e=w4(e),isNaN(e)?Wc.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let s;if($s.isRef(e))s=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);s=o}return s}min(e,t=Ad.min){let s=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(s)}})}max(e,t=Ad.max){let s=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(s)}})}}Wc.INVALID_DATE=D4;Wc.prototype;function N4(n,e=[]){let t=[],s=new Set,o=new Set(e.map(([c,f])=>`${c}-${f}`));function l(c,f){let m=Rs.split(c)[0];s.add(m),o.has(`${f}-${m}`)||t.push([f,m])}for(const c of Object.keys(n)){let f=n[c];s.add(c),$s.isRef(f)&&f.isSibling?l(f.path,c):Ip(f)&&"deps"in f&&f.deps.forEach(m=>l(m,c))}return a4.array(Array.from(s),t).reverse()}function Mv(n,e){let t=1/0;return n.some((s,o)=>{var l;if((l=e.path)!=null&&l.includes(s))return t=o,!0}),t}function D1(n){return(e,t)=>Mv(n,e)-Mv(n,t)}const O4=(n,e,t)=>{if(typeof n!="string")return n;let s=n;try{s=JSON.parse(n)}catch{}return t.isType(s)?s:n};function Ju(n){if("fields"in n){const e={};for(const[t,s]of Object.entries(n.fields))e[t]=Ju(s);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Ju(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Ju)}):"optional"in n?n.optional():n}const V4=(n,e)=>{const t=[...Rs.normalizePath(e)];if(t.length===1)return t[0]in n;let s=t.pop(),o=Rs.getter(Rs.join(t),!0)(n);return!!(o&&s in o)};let Lv=n=>Object.prototype.toString.call(n)==="[object Object]";function F4(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(s=>t.indexOf(s)===-1)}const M4=D1([]);function b1(n){return new N1(n)}class N1 extends Pr{constructor(e){super({type:"object",check(t){return Lv(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=M4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var s;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let l=this.fields,c=(s=t.stripUnknown)!=null?s:this.spec.noUnknown,f=[].concat(this._nodes,Object.keys(o).filter(T=>!this._nodes.includes(T))),m={},v=Object.assign({},t,{parent:m,__validating:t.__validating||!1}),E=!1;for(const T of f){let I=l[T],b=T in o;if(I){let $,j=o[T];v.path=(t.path?`${t.path}.`:"")+T,I=I.resolve({value:j,context:t.context,parent:m});let F=I instanceof Pr?I.spec:void 0,z=F==null?void 0:F.strict;if(F!=null&&F.strip){E=E||T in o;continue}$=!t.__validating||!z?I.cast(o[T],v):o[T],$!==void 0&&(m[T]=$)}else b&&!c&&(m[T]=o[T]);(b!==T in m||m[T]!==o[T])&&(E=!0)}return E?m:o}_validate(e,t={},s,o){let{from:l=[],originalValue:c=e,recursive:f=this.spec.recursive}=t;t.from=[{schema:this,value:c},...l],t.__validating=!0,t.originalValue=c,super._validate(e,t,s,(m,v)=>{if(!f||!Lv(v)){o(m,v);return}c=c||v;let E=[];for(let T of this._nodes){let I=this.fields[T];!I||$s.isRef(I)||E.push(I.asNestedTest({options:t,key:T,parent:v,parentPath:t.path,originalParent:c}))}this.runTests({tests:E,value:v,originalValue:c,options:t},s,T=>{o(T.sort(this._sortErrors).concat(m),v)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),s=t.fields;for(let[o,l]of Object.entries(this.fields)){const c=s[o];s[o]=c===void 0?l:c}return t.withMutation(o=>o.setFields(s,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(s=>{var o;const l=this.fields[s];let c=e;(o=c)!=null&&o.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[s]})),t[s]=l&&"getDefault"in l?l.getDefault(c):void 0}),t}setFields(e,t){let s=this.clone();return s.fields=e,s._nodes=N4(e,t),s._sortErrors=D1(Object.keys(e)),t&&(s._excludedEdges=t),s}shape(e,t=[]){return this.clone().withMutation(s=>{let o=s._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...s._excludedEdges,...t]),s.setFields(Object.assign(s.fields,e),o)})}partial(){const e={};for(const[t,s]of Object.entries(this.fields))e[t]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(e)}deepPartial(){return Ju(this)}pick(e){const t={};for(const s of e)this.fields[s]&&(t[s]=this.fields[s]);return this.setFields(t,this._excludedEdges.filter(([s,o])=>e.includes(s)&&e.includes(o)))}omit(e){const t=[];for(const s of Object.keys(this.fields))e.includes(s)||t.push(s);return this.pick(t)}from(e,t,s){let o=Rs.getter(e,!0);return this.transform(l=>{if(!l)return l;let c=l;return V4(l,e)&&(c=Object.assign({},l),s||delete c[e],c[t]=o(l)),c})}json(){return this.transform(O4)}noUnknown(e=!0,t=Cd.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const l=F4(this.schema,o);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return s.spec.noUnknown=e,s}unknown(e=!0,t=Cd.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const s={};for(const o of Object.keys(t))s[e(o)]=t[o];return s})}camelCase(){return this.transformKeys(Kf.camelCase)}snakeCase(){return this.transformKeys(Kf.snakeCase)}constantCase(){return this.transformKeys(e=>Kf.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);s.fields={};for(const[l,c]of Object.entries(t.fields)){var o;let f=e;(o=f)!=null&&o.value&&(f=Object.assign({},f,{parent:f.value,value:f.value[l]})),s.fields[l]=c.describe(f)}return s}}b1.prototype=N1.prototype;const L4=b1().shape({name:Pd().required("Name is Required"),email:Pd().email("Invalid Email").required("Email is Required")}),O1=({isOpen:n,onClose:e,isUpdate:t,contact:s})=>{const o=async c=>{try{const f=pd(ol,"contact");await GA(f,c),e(),Ze.success("Contact Added Successfully")}catch(f){console.log(f)}},l=async(c,f)=>{try{const m=np(ol,"contact",f);await qA(m,c),e(),Ze.success("Contact Updated Successfully")}catch(m){console.log(m)}};return we.jsx("div",{children:we.jsx(qx,{isOpen:n,onClose:e,children:we.jsx(xx,{validationSchema:L4,initialValues:t?{name:s.name,email:s.email}:{name:"",email:""},onSubmit:c=>{console.log(c),t?l(c,s.id):o(c)},children:we.jsxs(E1,{className:"flex flex-col gap-4",children:[we.jsxs("div",{className:"flex flex-col gap-1",children:[we.jsx("label",{htmlFor:"name",children:"Name"}),we.jsx(Rv,{name:"name",className:"h-10 border"}),we.jsx("div",{className:" text-xs text-red-500",children:we.jsx(kv,{name:"name"})})]}),we.jsxs("div",{className:"flex flex-col gap-1",children:[we.jsx("label",{htmlFor:"email",children:"Email"}),we.jsx(Rv,{name:"email",className:"h-10 border"}),we.jsx("div",{className:" text-xs text-red-500",children:we.jsx(kv,{name:"email"})})]}),we.jsxs("button",{type:"submit",className:"self-end border bg-orange px-3 py-1.5",children:[t?"update":"add"," contact"]})]})})})})},j4=({contact:n})=>{const{isOpen:e,onClose:t,onOpen:s}=z_(),o=async l=>{try{await HA(np(ol,"contact",l)),Ze.success("Contact Deleted Successfully")}catch(c){console.log(c)}};return we.jsxs(we.Fragment,{children:[we.jsxs("div",{className:"flex items-center rounded-lg  justify-between p-2 bg-red-300",children:[we.jsxs("div",{className:"flex items-center gap-1",children:[we.jsx(gC,{className:"text-5xl text-orange"}),we.jsxs("div",{children:[we.jsx("h2",{className:"font-medium",children:n.name}),we.jsx("p",{className:"text-sm",children:n.email})]})]}),we.jsxs("div",{className:"flex text-2xl gap-1",children:[we.jsx(yC,{onClick:s,className:"cursor-pointer"}),we.jsx(ew,{onClick:()=>o(n.id),className:"cursor-pointer text-orange"})]})]}),we.jsx(O1,{contact:n,isUpdate:!0,isOpen:e,onClose:t})]})},$4=()=>we.jsxs("div",{className:"flex h-[80vh] items-center justify-center gap-4",children:[we.jsx("div",{children:we.jsx(zv,{className:"text-4xl text-orange"})}),we.jsx("h3",{className:"text-2xl font-semibold text-white",children:" Contact Not Found"})]});function U4(){const[n,e]=ie.useState([]),{isOpen:t,onClose:s,onOpen:o}=z_(),l=async()=>{try{const f=pd(ol,"contact");$y(f,m=>{const v=m.docs.map(E=>({id:E.id,...E.data()}));return e(v),v})}catch(f){console.log(f)}};ie.useEffect(()=>{l()},[]);const c=f=>{const m=f.target.value,v=pd(ol,"contact");$y(v,E=>{const I=E.docs.map(b=>({id:b.id,...b.data()})).filter(b=>b.name.toLowerCase().includes(m.toLowerCase()));return e(I),I})};return we.jsxs(we.Fragment,{children:[we.jsxs("div",{className:"m-auto max-w-[370px]",children:[we.jsx(tw,{}),we.jsxs("div",{className:"flex gap-2",children:[we.jsxs("div",{className:"relative flex flex-grow items-center",children:[we.jsx(nw,{className:"absolute text-3xl text-white ml-1 "}),we.jsx("input",{onChange:c,type:"text",className:"h-10 flex-grow rounded-md border border-white bg-transparent text-white pl-9"})]}),we.jsx(rw,{onClick:o,className:"text-5xl text-white cursor-pointer"})]}),we.jsx("div",{className:"mt-4 flex flex-col gap-3",children:n.length<=0?we.jsx($4,{}):n.map(f=>we.jsx(j4,{contact:f},f.id))})]}),we.jsx(O1,{isOpen:t,onClose:s}),we.jsx(n4,{position:"bottom-center"})]})}GE.createRoot(document.getElementById("root")).render(we.jsx(ie.StrictMode,{children:we.jsx(U4,{})}))});export default z4();
